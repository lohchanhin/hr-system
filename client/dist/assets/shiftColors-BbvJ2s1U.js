const g=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,u=[{bg:"#dbeafe",text:"#1e3a8a"},{bg:"#ede9fe",text:"#5b21b6"},{bg:"#fef3c7",text:"#92400e"},{bg:"#dcfce7",text:"#047857"},{bg:"#fee2e2",text:"#991b1b"},{bg:"#fce7f3",text:"#9d174d"},{bg:"#cffafe",text:"#155e75"},{bg:"#fae8ff",text:"#6b21a8"}];function f(n){if(typeof n!="string")return null;const t=n.trim();return g.test(t)?t.length===4?`#${t.slice(1).split("").map(r=>{const e=r.toLowerCase();return e+e}).join("")}`:t.toLowerCase():null}function l(n){const t=f(n);if(!t)return null;const r=t.slice(1),e=parseInt(r,16);return{r:e>>16&255,g:e>>8&255,b:e&255}}function x({r:n,g:t,b:r}){const e=o=>o.toString(16).padStart(2,"0");return`#${e(Math.min(255,Math.max(0,Math.round(n))))}${e(Math.min(255,Math.max(0,Math.round(t))))}${e(Math.min(255,Math.max(0,Math.round(r))))}`}function b(n,t,r){const e=l(n),o=l(t);if(!e||!o)return f(n)||f(t);const c=Math.min(1,Math.max(0,r));return x({r:e.r+(o.r-e.r)*c,g:e.g+(o.g-e.g)*c,b:e.b+(o.b-e.b)*c})}function i(n,t){return b(n,"#ffffff",t)}function h(n,t){return b(n,"#000000",t)}function d(n){const t=l(n);if(!t)return 0;const r=a=>{const s=a/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)},e=r(t.r),o=r(t.g),c=r(t.b);return .2126*e+.7152*o+.0722*c}function m(n){const t=f(n);return t?d(t)>.65?"#1f2937":"#f8fafc":"#1f2937"}function M(n={}){const{_id:t,id:r,code:e,name:o}=n;return[n.bgColor,n.color,t,r,e,o].filter(Boolean).map(c=>String(c).trim()).join("|")}function p(n){let t=0;const r=n||"shift";for(let e=0;e<r.length;e+=1)t=(t<<5)-t+r.charCodeAt(e),t|=0;return Math.abs(t)}function C(n){if(!n)return{base:null,text:null};const t=f(n.bgColor),r=f(n.color);if(t)return{base:t,text:r||m(t)};const e=M(n),o=p(e)%u.length,c=u[o];return{base:c.bg,text:r||c.text}}function S(n){const{base:t,text:r}=C(n);if(!t)return{};const e=i(t,.1),o=i(t,.18),c=i(t,.32),a=h(t,.18);return{"--shift-base-color":t,"--shift-text-color":r,"--shift-tag-bg":e,"--shift-cell-bg-start":o,"--shift-cell-bg-end":c,"--shift-border-color":a}}export{S as b};
