import{r as T,e as p,k as C,o as d,w as o,b as n,d as a,g as w,_ as ue,u as De,j as Ee,x as j,q as Le,t as g,c as v,y as X,F as b,l as _,E as Ne}from"./index-umFJ41UP.js";import{a as N}from"./api-B8tfGK9d.js";const Ce={class:"tab-content"},Ie={__name:"SystemOrgSetting",setup(Z){const V=T({companyName:"示範股份有限公司",companyCode:"ABC123",phone:"02-1234-5678",address:"台北市某某路 100 號",enableMultiLang:!1});function B(){console.log("儲存系統/機構資料:",V.value),alert("已儲存「系統/機構設定」")}return(E,c)=>{const A=p("el-input"),S=p("el-form-item"),G=p("el-switch"),R=p("el-button"),F=p("el-form"),q=p("el-tab-pane");return d(),C(q,{label:"系統基本資料",name:"systemOrg"},{default:o(()=>[n("div",Ce,[a(F,{model:V.value,"label-width":"140px"},{default:o(()=>[a(S,{label:"機構(公司)名稱"},{default:o(()=>[a(A,{modelValue:V.value.companyName,"onUpdate:modelValue":c[0]||(c[0]=k=>V.value.companyName=k),placeholder:"輸入公司名稱"},null,8,["modelValue"])]),_:1}),a(S,{label:"機構代碼"},{default:o(()=>[a(A,{modelValue:V.value.companyCode,"onUpdate:modelValue":c[1]||(c[1]=k=>V.value.companyCode=k),placeholder:"如：ABCD01"},null,8,["modelValue"])]),_:1}),a(S,{label:"聯絡電話"},{default:o(()=>[a(A,{modelValue:V.value.phone,"onUpdate:modelValue":c[2]||(c[2]=k=>V.value.phone=k)},null,8,["modelValue"])]),_:1}),a(S,{label:"地址"},{default:o(()=>[a(A,{modelValue:V.value.address,"onUpdate:modelValue":c[3]||(c[3]=k=>V.value.address=k)},null,8,["modelValue"])]),_:1}),a(S,{label:"系統參數 (示範)"},{default:o(()=>[a(G,{modelValue:V.value.enableMultiLang,"onUpdate:modelValue":c[4]||(c[4]=k=>V.value.enableMultiLang=k),"active-text":"多語系","inactive-text":"單語系"},null,8,["modelValue"]),c[5]||(c[5]=n("small",null,"可在此加入更多參數(時區、民國年/西元年…)",-1))]),_:1}),a(S,null,{default:o(()=>[a(R,{type:"primary",onClick:B},{default:o(()=>c[6]||(c[6]=[w("儲存系統/機構設定")])),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})}}},Oe={class:"employee-management"},xe={class:"page-header"},Me={class:"header-stats"},ze={class:"stat-item"},Be={class:"stat-number"},Re={class:"stat-item"},$e={class:"stat-number"},Pe={class:"content-header"},je={class:"table-container"},Ge={class:"employee-info"},Fe={class:"employee-details"},qe={class:"employee-name"},Ye={class:"employee-id"},He={class:"department-info"},Je={key:1,class:"no-data"},We={class:"contact-info"},Ke={key:0,class:"contact-item"},Qe={key:1,class:"contact-item"},Xe={key:2,class:"no-data"},Ze={class:"action-buttons"},el={class:"tab-content"},ll={class:"form-group"},al={class:"form-group"},tl={class:"role-option"},ol={class:"role-name"},nl={class:"role-desc"},ul={class:"tab-content"},sl={class:"form-group"},dl={class:"tab-content"},il={class:"form-group"},rl={class:"form-row"},ml={class:"form-row"},pl={class:"form-row"},vl={class:"form-row"},fl={class:"form-group"},cl={class:"form-row"},bl={class:"form-row"},_l={class:"tab-content"},Vl={class:"form-group"},yl={class:"form-row"},gl={class:"form-row"},Ul={class:"form-group"},wl={class:"form-row"},kl={class:"form-row"},hl={class:"form-group"},Tl={class:"form-row"},Al={class:"form-row"},Sl={class:"tab-content"},Dl={class:"form-group"},El={class:"form-row"},Ll={class:"form-row"},Nl={class:"form-group"},Cl={class:"emergency-contact"},Il={class:"form-row"},Ol={class:"form-row"},xl={class:"emergency-contact"},Ml={class:"form-row"},zl={class:"form-row"},Bl={class:"form-group"},Rl={class:"experience-list"},$l={class:"experience-header"},Pl={class:"experience-title"},jl={class:"form-row"},Gl={class:"form-row"},Fl={class:"tab-content"},ql={class:"form-group"},Yl={class:"form-row"},Hl={class:"form-group"},Jl={class:"account-section"},Wl={class:"form-row"},Kl={class:"account-section"},Ql={class:"form-row"},Xl={class:"dialog-footer"},Zl={__name:"EmployeeManagement",setup(Z){const V=De(),B=[{label:"管理員",value:"admin"},{label:"主管",value:"supervisor"},{label:"員工",value:"employee"}],E=["一級","二級","三級"],c=["護理師","照顧服務員","社工師","物理治療師","職能治療師","行政人員"],A=["護理師","社工師","物理治療師","職能治療師","醫師"],S=["中文","台語","客語","英語","馬來語"],G=["博士","碩士","大學","專科","高中職","國中以下"],R=["父","母","配偶","子","女","兄","姊","弟","妹","其他"],F=["月薪","日薪","時薪"],q=["填報","覆核","審核","核定"],k=["L1","L2","L3","L4"],se=["資深","新人","外聘","志工"],de=["A","B","O","AB","HR"],Y=T("account"),D=T([]),$=T([]),H=T([]),ee=T([]),M=T(!1);let J=null,W="";function ie(u){const l=$.value.find(i=>i._id===u);return l?`${l.name}(${l.code})`:u}function P(u){return u.status===401?(Ne.error("登入逾時，請重新登入"),V.push("/manager/login"),!0):!1}async function le(){const u=await N("/api/departments");P(u)||u.ok&&($.value=await u.json())}async function K(u=""){const l=u?`/api/sub-departments?department=${u}`:"/api/sub-departments",i=await N(l);P(i)||i.ok&&(H.value=await i.json())}async function re(){const u=await N("/api/organizations");P(u)||u.ok&&(ee.value=await u.json())}async function ae(){const u=await N("/api/employees");if(!P(u)&&u.ok){const l=await u.json();D.value=l.map(i=>{var y,U,I;return{...i,organization:((y=i.organization)==null?void 0:y._id)||i.organization||"",department:((U=i.department)==null?void 0:U._id)||i.department||"",subDepartment:((I=i.subDepartment)==null?void 0:I._id)||i.subDepartment||""}})}}Ee(()=>{le(),ae(),re(),K()});const Q={username:"",password:"",role:"employee",permissionGrade:"",signRole:"",signTags:[],signLevel:"",employeeNo:"",name:"",gender:"",birthday:"",idNumber:"",birthplace:"",bloodType:"",languages:[],disabilityLevel:"",identityCategory:[],maritalStatus:"",dependents:0,email:"",phone:"",landline:"",householdAddress:"",contactAddress:"",lineId:"",photoList:[],organization:"",department:"",supervisor:null,subDepartment:"",title:"",practiceTitle:"",isPartTime:!1,isClocking:!1,employmentStatus:"",probationDays:"",height:"",weight:"",medicalBloodType:"",educationLevel:"",schoolName:"",major:"",graduationStatus:"",graduationYear:"",serviceType:"",militaryBranch:"",militaryRank:"",dischargeYear:"",emergency1:{name:"",relation:"",phone1:"",phone2:""},emergency2:{name:"",relation:"",phone1:"",phone2:""},keywords:"",experiences:[],licenses:[],trainings:[],hireDate:"",appointDate:"",resignDate:"",dismissDate:"",reAppointDate:"",reDismissDate:"",employmentNote:"",salaryType:"",salaryAmount:0,laborPensionSelf:0,employeeAdvance:0,salaryAccountA:{bank:"",acct:""},salaryAccountB:{bank:"",acct:""},salaryItems:[]},t=T({...Q}),me=j(()=>t.value.organization?$.value.filter(u=>u.organization===t.value.organization):[]),pe=j(()=>t.value.department?H.value.filter(u=>u.department===t.value.department):[]),ve=j(()=>t.value.organization&&t.value.department?D.value.filter(u=>u.role==="supervisor"&&u.organization===t.value.organization&&u.department===t.value.department):[]);Le(()=>t.value.department,async u=>{u?await K(u):H.value=[],t.value.subDepartment=""});async function te(u=null){var l,i;if(u!==null){J=u;const y=D.value[u];W=y._id||"",t.value={...structuredClone(Q),...y,password:"",photoList:[]},t.value.department=((l=y.department)==null?void 0:l._id)||y.department||"",t.value.subDepartment=((i=y.subDepartment)==null?void 0:i._id)||y.subDepartment||""}else J=null,W="",Y.value="account",t.value={...structuredClone(Q)};if(await le(),t.value.department&&!/^[0-9a-fA-F]{24}$/.test(t.value.department)){const y=$.value.find(U=>U.name===t.value.department);y&&(t.value.department=y._id)}await K(t.value.department),M.value=!0}async function fe(){const u=t.value;if(!u.name){alert("請填寫姓名");return}if(!u.username){alert("請填寫登入帳號");return}if(!u.password){alert("請填寫登入密碼");return}if(!u.role){alert("請填寫系統權限");return}if(!u.organization){alert("請填寫所屬機構");return}if(!u.department){alert("請填寫所屬部門");return}const l={...u};(l.supervisor===""||l.supervisor===null)&&delete l.supervisor;let i;J===null?i=await N("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}):i=await N(`/api/employees/${W}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),i&&i.ok&&(await ae(),M.value=!1)}async function ce(u){const l=D.value[u];(await N(`/api/employees/${l._id}`,{method:"DELETE"})).ok&&D.value.splice(u,1)}function be(){t.value.experiences.push({unit:"",title:"",start:"",end:""})}function _e(u){t.value.experiences.splice(u,1)}const Ve=j(()=>D.value.filter(u=>u.employmentStatus==="正職員工"||u.employmentStatus==="試用期員工").length);function ye(u){return{admin:"danger",supervisor:"warning",employee:"success"}[u]||"info"}function ge(u){return{admin:"管理員",supervisor:"主管",employee:"員工"}[u]||u}function Ue(u){return{admin:"",supervisor:"",employee:""}[u]||""}function we(u){return{正職員工:"success",試用期員工:"warning",離職員工:"danger",留職停薪:"info"}[u]||"default"}return(u,l)=>{const i=p("el-button"),y=p("el-avatar"),U=p("el-table-column"),I=p("el-tag"),ke=p("el-table"),m=p("el-input"),s=p("el-form-item"),he=p("el-radio"),Te=p("el-radio-group"),r=p("el-option"),f=p("el-select"),O=p("el-form"),L=p("el-tab-pane"),z=p("el-date-picker"),oe=p("el-input-number"),ne=p("el-switch"),Ae=p("el-tabs"),Se=p("el-dialog");return d(),C(L,{label:"員工管理",name:"employeeMgmt"},{default:o(()=>[n("div",Oe,[n("div",xe,[l[59]||(l[59]=n("div",{class:"header-content"},[n("h1",{class:"page-title"},"員工管理系統"),n("p",{class:"page-description"},"管理員工資料、權限設定、部門分配和薪資配置")],-1)),n("div",Me,[n("div",ze,[n("div",Be,g(D.value.length),1),l[57]||(l[57]=n("div",{class:"stat-label"},"總員工數",-1))]),n("div",Re,[n("div",$e,g(Ve.value),1),l[58]||(l[58]=n("div",{class:"stat-label"},"在職員工",-1))])])]),n("div",Pe,[l[61]||(l[61]=n("h2",{class:"section-title"},"員工列表",-1)),a(i,{type:"primary",onClick:l[0]||(l[0]=e=>te()),class:"add-btn"},{default:o(()=>l[60]||(l[60]=[n("i",{class:"el-icon-plus"},null,-1),w(" 新增員工 ")])),_:1})]),n("div",je,[a(ke,{data:D.value,class:"employee-table","header-cell-style":{background:"#f8fafc",color:"#475569",fontWeight:"600"},"row-style":{height:"64px"}},{default:o(()=>[a(U,{prop:"name",label:"員工資訊","min-width":"200"},{default:o(({row:e})=>[n("div",Ge,[a(y,{size:40,class:"employee-avatar"},{default:o(()=>[w(g(e.name?e.name.charAt(0):"N"),1)]),_:2},1024),n("div",Fe,[n("div",qe,g(e.name||"未設定"),1),n("div",Ye,g(e.employeeNo||"無編號"),1)])])]),_:1}),a(U,{label:"部門",width:"180"},{default:o(({row:e})=>[n("div",He,[l[62]||(l[62]=n("i",{class:"el-icon-s-grid dept-icon"},null,-1)),n("span",null,g(ie(e.department)),1)])]),_:1}),a(U,{prop:"title",label:"職稱",width:"150"},{default:o(({row:e})=>[e.title?(d(),C(I,{key:0,type:"info",class:"title-tag"},{default:o(()=>[w(g(e.title),1)]),_:2},1024)):(d(),v("span",Je,"未設定"))]),_:1}),a(U,{prop:"role",label:"系統權限",width:"120"},{default:o(({row:e})=>[a(I,{type:ye(e.role),class:"role-tag"},{default:o(()=>[w(g(ge(e.role)),1)]),_:2},1032,["type"])]),_:1}),a(U,{prop:"employmentStatus",label:"在職狀態",width:"130"},{default:o(({row:e})=>[a(I,{type:we(e.employmentStatus),class:"status-tag"},{default:o(()=>[w(g(e.employmentStatus||"未設定"),1)]),_:2},1032,["type"])]),_:1}),a(U,{label:"聯絡方式",width:"200"},{default:o(({row:e})=>[n("div",We,[e.email?(d(),v("div",Ke,[l[63]||(l[63]=n("i",{class:"el-icon-message"},null,-1)),n("span",null,g(e.email),1)])):X("",!0),e.phone?(d(),v("div",Qe,[l[64]||(l[64]=n("i",{class:"el-icon-phone"},null,-1)),n("span",null,g(e.phone),1)])):X("",!0),!e.email&&!e.phone?(d(),v("div",Xe," 無聯絡資訊 ")):X("",!0)])]),_:1}),a(U,{label:"操作",width:"200",fixed:"right"},{default:o(({row:e,$index:x})=>[n("div",Ze,[a(i,{type:"primary",size:"small",onClick:h=>te(x),class:"edit-btn"},{default:o(()=>l[65]||(l[65]=[n("i",{class:"el-icon-edit"},null,-1),w(" 編輯 ")])),_:2},1032,["onClick"]),a(i,{type:"danger",size:"small",onClick:h=>ce(x),class:"delete-btn"},{default:o(()=>l[66]||(l[66]=[n("i",{class:"el-icon-delete"},null,-1),w(" 刪除 ")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])]),a(Se,{modelValue:M.value,"onUpdate:modelValue":l[56]||(l[56]=e=>M.value=e),title:"員工資料管理",width:"1200px",class:"employee-dialog","close-on-click-modal":!1},{footer:o(()=>[n("div",Xl,[a(i,{onClick:l[55]||(l[55]=e=>M.value=!1),class:"cancel-btn"},{default:o(()=>l[92]||(l[92]=[w("取消")])),_:1}),a(i,{type:"primary",onClick:fe,class:"save-btn"},{default:o(()=>l[93]||(l[93]=[n("i",{class:"el-icon-check"},null,-1),w(" 儲存員工資料 ")])),_:1})])]),default:o(()=>[a(Ae,{modelValue:Y.value,"onUpdate:modelValue":l[54]||(l[54]=e=>Y.value=e),type:"border-card",class:"employee-tabs"},{default:o(()=>[a(L,{name:"account"},{label:o(()=>l[67]||(l[67]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-user"}),n("span",null,"帳號權限")],-1)])),default:o(()=>[n("div",el,[a(O,{model:t.value,"label-width":"140px",class:"form-section"},{default:o(()=>[n("div",ll,[l[68]||(l[68]=n("h3",{class:"form-group-title"},"登入資訊",-1)),a(s,{label:"登入帳號",required:""},{default:o(()=>[a(m,{modelValue:t.value.username,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.username=e),placeholder:"請輸入登入帳號"},null,8,["modelValue"])]),_:1}),a(s,{label:"登入密碼",required:""},{default:o(()=>[a(m,{modelValue:t.value.password,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.password=e),type:"password",placeholder:"請輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),n("div",al,[l[69]||(l[69]=n("h3",{class:"form-group-title"},"權限設定",-1)),a(s,{label:"系統權限",required:""},{default:o(()=>[a(Te,{modelValue:t.value.role,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.role=e),class:"role-radio-group"},{default:o(()=>[(d(),v(b,null,_(B,e=>a(he,{key:e.value,label:e.value,class:"role-radio"},{default:o(()=>[n("div",tl,[n("div",ol,g(e.label),1),n("div",nl,g(Ue(e.value)),1)])]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"權限職等"},{default:o(()=>[a(f,{modelValue:t.value.permissionGrade,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value.permissionGrade=e),placeholder:"選擇職等"},{default:o(()=>[(d(),v(b,null,_(E,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model"])])]),_:1}),a(L,{name:"approval"},{label:o(()=>l[70]||(l[70]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-document-checked"}),n("span",null,"簽核設定")],-1)])),default:o(()=>[n("div",ul,[a(O,{model:t.value,"label-width":"140px",class:"form-section"},{default:o(()=>[n("div",sl,[l[71]||(l[71]=n("h3",{class:"form-group-title"},"簽核權限",-1)),a(s,{label:"簽核角色"},{default:o(()=>[a(f,{modelValue:t.value.signRole,"onUpdate:modelValue":l[5]||(l[5]=e=>t.value.signRole=e),placeholder:"選擇簽核角色"},{default:o(()=>[(d(),v(b,null,_(q,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"簽核層級"},{default:o(()=>[a(f,{modelValue:t.value.signLevel,"onUpdate:modelValue":l[6]||(l[6]=e=>t.value.signLevel=e),placeholder:"選擇層級"},{default:o(()=>[(d(),v(b,null,_(k,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"員工標籤"},{default:o(()=>[a(f,{modelValue:t.value.signTags,"onUpdate:modelValue":l[7]||(l[7]=e=>t.value.signTags=e),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"選擇或新增標籤",class:"tag-select"},{default:o(()=>[(d(),v(b,null,_(se,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model"])])]),_:1}),a(L,{name:"personal"},{label:o(()=>l[72]||(l[72]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-user-solid"}),n("span",null,"個人資訊")],-1)])),default:o(()=>[n("div",dl,[a(O,{model:t.value,"label-width":"140px",class:"form-section"},{default:o(()=>[n("div",il,[l[73]||(l[73]=n("h3",{class:"form-group-title"},"基本資料",-1)),n("div",rl,[a(s,{label:"員工編號"},{default:o(()=>[a(m,{modelValue:t.value.employeeNo,"onUpdate:modelValue":l[8]||(l[8]=e=>t.value.employeeNo=e),placeholder:"請輸入員工編號"},null,8,["modelValue"])]),_:1}),a(s,{label:"員工姓名",required:""},{default:o(()=>[a(m,{modelValue:t.value.name,"onUpdate:modelValue":l[9]||(l[9]=e=>t.value.name=e),placeholder:"請輸入員工姓名"},null,8,["modelValue"])]),_:1})]),n("div",ml,[a(s,{label:"性別"},{default:o(()=>[a(f,{modelValue:t.value.gender,"onUpdate:modelValue":l[10]||(l[10]=e=>t.value.gender=e),placeholder:"選擇性別"},{default:o(()=>[a(r,{label:"男",value:"M"}),a(r,{label:"女",value:"F"})]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"生日"},{default:o(()=>[a(z,{modelValue:t.value.birthday,"onUpdate:modelValue":l[11]||(l[11]=e=>t.value.birthday=e),type:"date",placeholder:"選擇生日"},null,8,["modelValue"])]),_:1})]),n("div",pl,[a(s,{label:"身分證號"},{default:o(()=>[a(m,{modelValue:t.value.idNumber,"onUpdate:modelValue":l[12]||(l[12]=e=>t.value.idNumber=e),placeholder:"請輸入身分證號"},null,8,["modelValue"])]),_:1}),a(s,{label:"出生地"},{default:o(()=>[a(m,{modelValue:t.value.birthplace,"onUpdate:modelValue":l[13]||(l[13]=e=>t.value.birthplace=e),placeholder:"請輸入出生地"},null,8,["modelValue"])]),_:1})]),n("div",vl,[a(s,{label:"血型"},{default:o(()=>[a(f,{modelValue:t.value.bloodType,"onUpdate:modelValue":l[14]||(l[14]=e=>t.value.bloodType=e),placeholder:"選擇血型"},{default:o(()=>[(d(),v(b,null,_(de,e=>a(r,{key:e,value:e,label:e},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"婚姻狀態"},{default:o(()=>[a(f,{modelValue:t.value.maritalStatus,"onUpdate:modelValue":l[15]||(l[15]=e=>t.value.maritalStatus=e),placeholder:"選擇婚姻狀態"},{default:o(()=>[a(r,{label:"未婚",value:"未婚"}),a(r,{label:"已婚",value:"已婚"}),a(r,{label:"離婚",value:"離婚"}),a(r,{label:"喪偶",value:"喪偶"})]),_:1},8,["modelValue"])]),_:1})]),a(s,{label:"語言能力"},{default:o(()=>[a(f,{modelValue:t.value.languages,"onUpdate:modelValue":l[16]||(l[16]=e=>t.value.languages=e),multiple:"",filterable:"",placeholder:"選擇語言"},{default:o(()=>[(d(),v(b,null,_(S,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"扶養人數"},{default:o(()=>[a(oe,{modelValue:t.value.dependents,"onUpdate:modelValue":l[17]||(l[17]=e=>t.value.dependents=e),min:0},null,8,["modelValue"])]),_:1})]),n("div",fl,[l[74]||(l[74]=n("h3",{class:"form-group-title"},"聯絡資訊",-1)),n("div",cl,[a(s,{label:"Email"},{default:o(()=>[a(m,{modelValue:t.value.email,"onUpdate:modelValue":l[18]||(l[18]=e=>t.value.email=e),placeholder:"請輸入Email"},null,8,["modelValue"])]),_:1}),a(s,{label:"行動電話"},{default:o(()=>[a(m,{modelValue:t.value.phone,"onUpdate:modelValue":l[19]||(l[19]=e=>t.value.phone=e),placeholder:"請輸入行動電話"},null,8,["modelValue"])]),_:1})]),n("div",bl,[a(s,{label:"市內電話"},{default:o(()=>[a(m,{modelValue:t.value.landline,"onUpdate:modelValue":l[20]||(l[20]=e=>t.value.landline=e),placeholder:"請輸入市內電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"LINE ID"},{default:o(()=>[a(m,{modelValue:t.value.lineId,"onUpdate:modelValue":l[21]||(l[21]=e=>t.value.lineId=e),placeholder:"請輸入LINE ID"},null,8,["modelValue"])]),_:1})]),a(s,{label:"戶籍地址"},{default:o(()=>[a(m,{modelValue:t.value.householdAddress,"onUpdate:modelValue":l[22]||(l[22]=e=>t.value.householdAddress=e),placeholder:"請輸入戶籍地址"},null,8,["modelValue"])]),_:1}),a(s,{label:"聯絡地址"},{default:o(()=>[a(m,{modelValue:t.value.contactAddress,"onUpdate:modelValue":l[23]||(l[23]=e=>t.value.contactAddress=e),placeholder:"請輸入聯絡地址"},null,8,["modelValue"])]),_:1})])]),_:1},8,["model"])])]),_:1}),a(L,{name:"employment"},{label:o(()=>l[75]||(l[75]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-office-building"}),n("span",null,"任職資訊")],-1)])),default:o(()=>[n("div",_l,[a(O,{model:t.value,"label-width":"140px",class:"form-section"},{default:o(()=>[n("div",Vl,[l[76]||(l[76]=n("h3",{class:"form-group-title"},"組織架構",-1)),n("div",yl,[a(s,{label:"所屬機構",required:""},{default:o(()=>[a(f,{modelValue:t.value.organization,"onUpdate:modelValue":l[24]||(l[24]=e=>t.value.organization=e),placeholder:"選擇機構"},{default:o(()=>[(d(!0),v(b,null,_(ee.value,e=>(d(),C(r,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"所屬部門",required:""},{default:o(()=>[a(f,{modelValue:t.value.department,"onUpdate:modelValue":l[25]||(l[25]=e=>t.value.department=e),placeholder:"選擇部門"},{default:o(()=>[(d(!0),v(b,null,_(me.value,e=>(d(),C(r,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),n("div",gl,[a(s,{label:"小單位"},{default:o(()=>[a(f,{modelValue:t.value.subDepartment,"onUpdate:modelValue":l[26]||(l[26]=e=>t.value.subDepartment=e),placeholder:"選擇小單位"},{default:o(()=>[(d(!0),v(b,null,_(pe.value,e=>(d(),C(r,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"直屬主管"},{default:o(()=>[a(f,{modelValue:t.value.supervisor,"onUpdate:modelValue":l[27]||(l[27]=e=>t.value.supervisor=e),placeholder:"選擇主管"},{default:o(()=>[(d(!0),v(b,null,_(ve.value,e=>(d(),C(r,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),n("div",Ul,[l[77]||(l[77]=n("h3",{class:"form-group-title"},"職務資訊",-1)),n("div",wl,[a(s,{label:"職稱"},{default:o(()=>[a(f,{modelValue:t.value.title,"onUpdate:modelValue":l[28]||(l[28]=e=>t.value.title=e),placeholder:"選擇職稱"},{default:o(()=>[(d(),v(b,null,_(c,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"執業職稱"},{default:o(()=>[a(f,{modelValue:t.value.practiceTitle,"onUpdate:modelValue":l[29]||(l[29]=e=>t.value.practiceTitle=e),placeholder:"選擇執業職稱"},{default:o(()=>[(d(),v(b,null,_(A,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),n("div",kl,[a(s,{label:"兼職人員"},{default:o(()=>[a(ne,{modelValue:t.value.isPartTime,"onUpdate:modelValue":l[30]||(l[30]=e=>t.value.isPartTime=e),"active-text":"是","inactive-text":"否","active-color":"#10b981"},null,8,["modelValue"])]),_:1}),a(s,{label:"需要打卡"},{default:o(()=>[a(ne,{modelValue:t.value.isClocking,"onUpdate:modelValue":l[31]||(l[31]=e=>t.value.isClocking=e),"active-text":"是","inactive-text":"否","active-color":"#10b981"},null,8,["modelValue"])]),_:1})])]),n("div",hl,[l[78]||(l[78]=n("h3",{class:"form-group-title"},"聘用狀態",-1)),n("div",Tl,[a(s,{label:"在職狀態"},{default:o(()=>[a(f,{modelValue:t.value.employmentStatus,"onUpdate:modelValue":l[32]||(l[32]=e=>t.value.employmentStatus=e),placeholder:"選擇狀態"},{default:o(()=>[a(r,{label:"正職員工",value:"正職員工"}),a(r,{label:"試用期員工",value:"試用期員工"}),a(r,{label:"離職員工",value:"離職員工"}),a(r,{label:"留職停薪",value:"留職停薪"})]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"試用期"},{default:o(()=>[a(f,{modelValue:t.value.probationDays,"onUpdate:modelValue":l[33]||(l[33]=e=>t.value.probationDays=e),placeholder:"選擇天數"},{default:o(()=>[a(r,{label:"無",value:""}),a(r,{label:"30天",value:"30"}),a(r,{label:"60天",value:"60"}),a(r,{label:"90天",value:"90"})]),_:1},8,["modelValue"])]),_:1})]),n("div",Al,[a(s,{label:"到職日期"},{default:o(()=>[a(z,{modelValue:t.value.hireDate,"onUpdate:modelValue":l[34]||(l[34]=e=>t.value.hireDate=e),type:"date",placeholder:"選擇到職日期"},null,8,["modelValue"])]),_:1}),a(s,{label:"離職日期"},{default:o(()=>[a(z,{modelValue:t.value.resignDate,"onUpdate:modelValue":l[35]||(l[35]=e=>t.value.resignDate=e),type:"date",placeholder:"選擇離職日期"},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model"])])]),_:1}),a(L,{name:"more"},{label:o(()=>l[79]||(l[79]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-more"}),n("span",null,"更多資訊")],-1)])),default:o(()=>[n("div",Sl,[a(O,{model:t.value,"label-width":"140px",class:"form-section"},{default:o(()=>[n("div",Dl,[l[80]||(l[80]=n("h3",{class:"form-group-title"},"學歷資訊",-1)),n("div",El,[a(s,{label:"教育程度"},{default:o(()=>[a(f,{modelValue:t.value.educationLevel,"onUpdate:modelValue":l[36]||(l[36]=e=>t.value.educationLevel=e),placeholder:"選擇教育程度"},{default:o(()=>[(d(),v(b,null,_(G,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"學校名稱"},{default:o(()=>[a(m,{modelValue:t.value.schoolName,"onUpdate:modelValue":l[37]||(l[37]=e=>t.value.schoolName=e),placeholder:"請輸入學校名稱"},null,8,["modelValue"])]),_:1})]),n("div",Ll,[a(s,{label:"主修科系"},{default:o(()=>[a(m,{modelValue:t.value.major,"onUpdate:modelValue":l[38]||(l[38]=e=>t.value.major=e),placeholder:"請輸入主修科系"},null,8,["modelValue"])]),_:1}),a(s,{label:"畢業年度"},{default:o(()=>[a(m,{modelValue:t.value.graduationYear,"onUpdate:modelValue":l[39]||(l[39]=e=>t.value.graduationYear=e),placeholder:"請輸入畢業年度"},null,8,["modelValue"])]),_:1})])]),n("div",Nl,[l[83]||(l[83]=n("h3",{class:"form-group-title"},"緊急聯絡人",-1)),n("div",Cl,[l[81]||(l[81]=n("h4",{class:"contact-subtitle"},"聯絡人一",-1)),n("div",Il,[a(s,{label:"姓名"},{default:o(()=>[a(m,{modelValue:t.value.emergency1.name,"onUpdate:modelValue":l[40]||(l[40]=e=>t.value.emergency1.name=e),placeholder:"請輸入姓名"},null,8,["modelValue"])]),_:1}),a(s,{label:"關係"},{default:o(()=>[a(f,{modelValue:t.value.emergency1.relation,"onUpdate:modelValue":l[41]||(l[41]=e=>t.value.emergency1.relation=e),placeholder:"選擇關係"},{default:o(()=>[(d(),v(b,null,_(R,e=>a(r,{key:"r1-"+e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),n("div",Ol,[a(s,{label:"電話一"},{default:o(()=>[a(m,{modelValue:t.value.emergency1.phone1,"onUpdate:modelValue":l[42]||(l[42]=e=>t.value.emergency1.phone1=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"電話二"},{default:o(()=>[a(m,{modelValue:t.value.emergency1.phone2,"onUpdate:modelValue":l[43]||(l[43]=e=>t.value.emergency1.phone2=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1})])]),n("div",xl,[l[82]||(l[82]=n("h4",{class:"contact-subtitle"},"聯絡人二",-1)),n("div",Ml,[a(s,{label:"姓名"},{default:o(()=>[a(m,{modelValue:t.value.emergency2.name,"onUpdate:modelValue":l[44]||(l[44]=e=>t.value.emergency2.name=e),placeholder:"請輸入姓名"},null,8,["modelValue"])]),_:1}),a(s,{label:"關係"},{default:o(()=>[a(f,{modelValue:t.value.emergency2.relation,"onUpdate:modelValue":l[45]||(l[45]=e=>t.value.emergency2.relation=e),placeholder:"選擇關係"},{default:o(()=>[(d(),v(b,null,_(R,e=>a(r,{key:"r2-"+e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),n("div",zl,[a(s,{label:"電話一"},{default:o(()=>[a(m,{modelValue:t.value.emergency2.phone1,"onUpdate:modelValue":l[46]||(l[46]=e=>t.value.emergency2.phone1=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"電話二"},{default:o(()=>[a(m,{modelValue:t.value.emergency2.phone2,"onUpdate:modelValue":l[47]||(l[47]=e=>t.value.emergency2.phone2=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1})])])]),n("div",Bl,[l[86]||(l[86]=n("h3",{class:"form-group-title"},"工作經歷",-1)),n("div",Rl,[(d(!0),v(b,null,_(t.value.experiences,(e,x)=>(d(),v("div",{key:x,class:"experience-item"},[n("div",$l,[n("h4",Pl,"經歷 "+g(x+1),1),a(i,{type:"danger",size:"small",onClick:h=>_e(x),class:"remove-btn"},{default:o(()=>l[84]||(l[84]=[n("i",{class:"el-icon-delete"},null,-1),w(" 刪除 ")])),_:2},1032,["onClick"])]),n("div",jl,[a(s,{label:"單位名稱"},{default:o(()=>[a(m,{modelValue:e.unit,"onUpdate:modelValue":h=>e.unit=h,placeholder:"請輸入單位名稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"職稱"},{default:o(()=>[a(m,{modelValue:e.title,"onUpdate:modelValue":h=>e.title=h,placeholder:"請輸入職稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),n("div",Gl,[a(s,{label:"到職年月"},{default:o(()=>[a(z,{modelValue:e.start,"onUpdate:modelValue":h=>e.start=h,type:"month",placeholder:"選擇到職年月"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"離職年月"},{default:o(()=>[a(z,{modelValue:e.end,"onUpdate:modelValue":h=>e.end=h,type:"month",placeholder:"選擇離職年月"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]))),128))]),a(i,{type:"primary",onClick:be,class:"add-item-btn"},{default:o(()=>l[85]||(l[85]=[n("i",{class:"el-icon-plus"},null,-1),w(" 新增經歷 ")])),_:1})])]),_:1},8,["model"])])]),_:1}),a(L,{name:"salary"},{label:o(()=>l[87]||(l[87]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-money"}),n("span",null,"薪資設定")],-1)])),default:o(()=>[n("div",Fl,[a(O,{model:t.value,"label-width":"160px",class:"form-section"},{default:o(()=>[n("div",ql,[l[88]||(l[88]=n("h3",{class:"form-group-title"},"薪資資訊",-1)),n("div",Yl,[a(s,{label:"薪資類別"},{default:o(()=>[a(f,{modelValue:t.value.salaryType,"onUpdate:modelValue":l[48]||(l[48]=e=>t.value.salaryType=e),placeholder:"選擇類別"},{default:o(()=>[(d(),v(b,null,_(F,e=>a(r,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"薪資金額"},{default:o(()=>[a(oe,{modelValue:t.value.salaryAmount,"onUpdate:modelValue":l[49]||(l[49]=e=>t.value.salaryAmount=e),min:0,step:1e3,formatter:e=>`$ ${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,"")},null,8,["modelValue","formatter","parser"])]),_:1})])]),n("div",Hl,[l[91]||(l[91]=n("h3",{class:"form-group-title"},"銀行帳戶",-1)),n("div",Jl,[l[89]||(l[89]=n("h4",{class:"account-subtitle"},"薪資帳戶 A",-1)),n("div",Wl,[a(s,{label:"銀行代碼/名稱"},{default:o(()=>[a(m,{modelValue:t.value.salaryAccountA.bank,"onUpdate:modelValue":l[50]||(l[50]=e=>t.value.salaryAccountA.bank=e),placeholder:"請輸入銀行資訊"},null,8,["modelValue"])]),_:1}),a(s,{label:"帳號"},{default:o(()=>[a(m,{modelValue:t.value.salaryAccountA.acct,"onUpdate:modelValue":l[51]||(l[51]=e=>t.value.salaryAccountA.acct=e),placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1})])]),n("div",Kl,[l[90]||(l[90]=n("h4",{class:"account-subtitle"},"薪資帳戶 B",-1)),n("div",Ql,[a(s,{label:"銀行代碼/名稱"},{default:o(()=>[a(m,{modelValue:t.value.salaryAccountB.bank,"onUpdate:modelValue":l[52]||(l[52]=e=>t.value.salaryAccountB.bank=e),placeholder:"請輸入銀行資訊"},null,8,["modelValue"])]),_:1}),a(s,{label:"帳號"},{default:o(()=>[a(m,{modelValue:t.value.salaryAccountB.acct,"onUpdate:modelValue":l[53]||(l[53]=e=>t.value.salaryAccountB.acct=e),placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1})])])])]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])]),_:1})}}},ea=ue(Zl,[["__scopeId","data-v-6913edb7"]]),la={class:"hr-management-system-setting"},aa={__name:"HRManagementSystemSetting",setup(Z){const V=T("systemOrg");return(B,E)=>{const c=p("el-tabs");return d(),v("div",la,[E[1]||(E[1]=n("h2",null,"人事管理與系統設定",-1)),a(c,{modelValue:V.value,"onUpdate:modelValue":E[0]||(E[0]=A=>V.value=A),type:"card"},{default:o(()=>[a(Ie),a(ea)]),_:1},8,["modelValue"])])}}},na=ue(aa,[["__scopeId","data-v-0cf7467f"]]);export{na as default};
