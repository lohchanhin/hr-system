import{a as C}from"./api-D4yO7thr.js";import{r as A,h as ie,e as i,i as $,o as r,w as t,b as n,d as l,j as U,t as k,c as f,F as y,k as g,_ as re,u as Ee,x as X,q as Ce,y as oe,E as De}from"./index-BOg20HvU.js";const Ne={class:"tab-content"},Oe={slot:"footer",class:"dialog-footer"},Ie={__name:"AccountRoleSetting",setup(Z){const c=A([]),D=A(!1);let L=null;const m=A({username:"",password:"",role:"",department:""}),E=A([]);function N(b){const d=E.value.find(w=>w._id===b);return d?`${d.name}(${d.code})`:b}async function B(){const b=await C("/api/users");b.ok&&(c.value=await b.json())}async function P(){const b=await C("/api/departments");b.ok&&(E.value=await b.json())}function z(b=null){b!==null?(L=b,m.value={...c.value[b],password:""}):(L=null,m.value={username:"",password:"",role:"",department:""}),D.value=!0}async function H(){const b={...m.value};let d;if(L===null)d=await C("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});else{const w=c.value[L]._id;d=await C(`/api/users/${w}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})}d&&d.ok&&(await B(),D.value=!1)}function S(b){const d=c.value[b]._id;C(`/api/users/${d}`,{method:"DELETE"}).then(w=>{w.ok&&c.value.splice(b,1)})}return ie(()=>{B(),P()}),(b,d)=>{const w=i("el-button"),h=i("el-table-column"),W=i("el-table"),j=i("el-input"),x=i("el-form-item"),O=i("el-option"),G=i("el-select"),K=i("el-form"),ee=i("el-dialog"),F=i("el-tab-pane");return r(),$(F,{label:"帳號與權限",name:"accountRole"},{default:t(()=>[n("div",Ne,[l(w,{type:"primary",onClick:d[0]||(d[0]=_=>z())},{default:t(()=>d[7]||(d[7]=[U("新增帳號")])),_:1}),l(W,{data:c.value,style:{"margin-top":"20px"}},{default:t(()=>[l(h,{prop:"username",label:"帳號",width:"150"}),l(h,{prop:"role",label:"角色",width:"120"}),l(h,{label:"所屬部門",width:"120"},{default:t(({row:_})=>[U(k(N(_.department)),1)]),_:1}),l(h,{label:"操作",width:"180"},{default:t(({row:_,$index:q})=>[l(w,{type:"primary",onClick:le=>z(q)},{default:t(()=>d[8]||(d[8]=[U("編輯")])),_:2},1032,["onClick"]),l(w,{type:"danger",onClick:le=>S(q)},{default:t(()=>d[9]||(d[9]=[U("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(ee,{modelValue:D.value,"onUpdate:modelValue":d[6]||(d[6]=_=>D.value=_),title:"帳號管理",width:"500px"},{default:t(()=>[l(K,{model:m.value,"label-width":"100px"},{default:t(()=>[l(x,{label:"帳號"},{default:t(()=>[l(j,{modelValue:m.value.username,"onUpdate:modelValue":d[1]||(d[1]=_=>m.value.username=_),placeholder:"輸入帳號"},null,8,["modelValue"])]),_:1}),l(x,{label:"密碼"},{default:t(()=>[l(j,{modelValue:m.value.password,"onUpdate:modelValue":d[2]||(d[2]=_=>m.value.password=_),type:"password",placeholder:"重設或新增密碼"},null,8,["modelValue"])]),_:1}),l(x,{label:"角色"},{default:t(()=>[l(G,{modelValue:m.value.role,"onUpdate:modelValue":d[3]||(d[3]=_=>m.value.role=_),placeholder:"選擇角色"},{default:t(()=>[l(O,{label:"管理員",value:"admin"}),l(O,{label:"主管",value:"supervisor"}),l(O,{label:"員工",value:"employee"})]),_:1},8,["modelValue"])]),_:1}),l(x,{label:"部門"},{default:t(()=>[l(G,{modelValue:m.value.department,"onUpdate:modelValue":d[4]||(d[4]=_=>m.value.department=_),placeholder:"選擇部門"},{default:t(()=>[(r(!0),f(y,null,g(E.value,_=>(r(),$(O,{key:_.value,label:_.label,value:_.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("span",Oe,[l(w,{onClick:d[5]||(d[5]=_=>D.value=!1)},{default:t(()=>d[10]||(d[10]=[U("取消")])),_:1}),l(w,{type:"primary",onClick:H},{default:t(()=>d[11]||(d[11]=[U("儲存")])),_:1})])]),_:1},8,["modelValue"])])]),_:1})}}},$e={class:"tab-content"},xe={__name:"SystemOrgSetting",setup(Z){const c=A({companyName:"示範股份有限公司",companyCode:"ABC123",phone:"02-1234-5678",address:"台北市某某路 100 號",enableMultiLang:!1});function D(){console.log("儲存系統/機構資料:",c.value),alert("已儲存「系統/機構設定」")}return(L,m)=>{const E=i("el-input"),N=i("el-form-item"),B=i("el-switch"),P=i("el-button"),z=i("el-form"),H=i("el-tab-pane");return r(),$(H,{label:"系統基本資料",name:"systemOrg"},{default:t(()=>[n("div",$e,[l(z,{model:c.value,"label-width":"140px"},{default:t(()=>[l(N,{label:"機構(公司)名稱"},{default:t(()=>[l(E,{modelValue:c.value.companyName,"onUpdate:modelValue":m[0]||(m[0]=S=>c.value.companyName=S),placeholder:"輸入公司名稱"},null,8,["modelValue"])]),_:1}),l(N,{label:"機構代碼"},{default:t(()=>[l(E,{modelValue:c.value.companyCode,"onUpdate:modelValue":m[1]||(m[1]=S=>c.value.companyCode=S),placeholder:"如：ABCD01"},null,8,["modelValue"])]),_:1}),l(N,{label:"聯絡電話"},{default:t(()=>[l(E,{modelValue:c.value.phone,"onUpdate:modelValue":m[2]||(m[2]=S=>c.value.phone=S)},null,8,["modelValue"])]),_:1}),l(N,{label:"地址"},{default:t(()=>[l(E,{modelValue:c.value.address,"onUpdate:modelValue":m[3]||(m[3]=S=>c.value.address=S)},null,8,["modelValue"])]),_:1}),l(N,{label:"系統參數 (示範)"},{default:t(()=>[l(B,{modelValue:c.value.enableMultiLang,"onUpdate:modelValue":m[4]||(m[4]=S=>c.value.enableMultiLang=S),"active-text":"多語系","inactive-text":"單語系"},null,8,["modelValue"]),m[5]||(m[5]=n("small",null,"可在此加入更多參數(時區、民國年/西元年…)",-1))]),_:1}),l(N,null,{default:t(()=>[l(P,{type:"primary",onClick:D},{default:t(()=>m[6]||(m[6]=[U("儲存系統/機構設定")])),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})}}},Re={class:"employee-management"},Me={class:"page-header"},Be={class:"header-stats"},Pe={class:"stat-item"},ze={class:"stat-number"},je={class:"stat-item"},Ge={class:"stat-number"},Fe={class:"content-header"},qe={class:"table-container"},Ye={class:"employee-info"},Je={class:"employee-details"},He={class:"employee-name"},We={class:"employee-id"},Ke={class:"department-info"},Qe={key:1,class:"no-data"},Xe={class:"contact-info"},Ze={key:0,class:"contact-item"},el={key:1,class:"contact-item"},ll={key:2,class:"no-data"},al={class:"action-buttons"},tl={class:"tab-content"},ol={class:"form-group"},nl={class:"form-group"},ul={class:"role-option"},sl={class:"role-name"},dl={class:"role-desc"},il={class:"tab-content"},rl={class:"form-group"},ml={class:"tab-content"},pl={class:"form-group"},vl={class:"form-row"},fl={class:"form-row"},cl={class:"form-row"},bl={class:"form-row"},_l={class:"form-group"},Vl={class:"form-row"},yl={class:"form-row"},gl={class:"tab-content"},Ul={class:"form-group"},wl={class:"form-row"},kl={class:"form-row"},Tl={class:"form-group"},Sl={class:"form-row"},hl={class:"form-row"},Al={class:"form-group"},Ll={class:"form-row"},El={class:"form-row"},Cl={class:"tab-content"},Dl={class:"form-group"},Nl={class:"form-row"},Ol={class:"form-row"},Il={class:"form-group"},$l={class:"emergency-contact"},xl={class:"form-row"},Rl={class:"form-row"},Ml={class:"emergency-contact"},Bl={class:"form-row"},Pl={class:"form-row"},zl={class:"form-group"},jl={class:"experience-list"},Gl={class:"experience-header"},Fl={class:"experience-title"},ql={class:"form-row"},Yl={class:"form-row"},Jl={class:"tab-content"},Hl={class:"form-group"},Wl={class:"form-row"},Kl={class:"form-group"},Ql={class:"account-section"},Xl={class:"form-row"},Zl={class:"account-section"},ea={class:"form-row"},la={class:"dialog-footer"},aa={__name:"EmployeeManagement",setup(Z){const c=Ee(),D=[{label:"管理員",value:"admin"},{label:"主管",value:"supervisor"},{label:"員工",value:"employee"}],L=["一級","二級","三級"],m=["護理師","照顧服務員","社工師","物理治療師","職能治療師","行政人員"],E=["護理師","社工師","物理治療師","職能治療師","醫師"],N=["中文","台語","客語","英語","馬來語"],B=["博士","碩士","大學","專科","高中職","國中以下"],P=["父","母","配偶","子","女","兄","姊","弟","妹","其他"],z=["月薪","日薪","時薪"],H=["填報","覆核","審核","核定"],S=["L1","L2","L3","L4"],b=["資深","新人","外聘","志工"],d=["A","B","O","AB","HR"],w=A("account"),h=A([]),W=A([]),j=A([]),x=A([]),O=A(!1);let G=null,K="";function ee(u){const a=W.value.find(T=>T._id===u);return a?`${a.name}(${a.code})`:u}function F(u){return u.status===401?(De.error("登入逾時，請重新登入"),c.push("/login"),!0):!1}async function _(){const u=await C("/api/departments");F(u)||u.ok&&(W.value=await u.json())}async function q(u=""){const a=u?`/api/sub-departments?department=${u}`:"/api/sub-departments",T=await C(a);F(T)||T.ok&&(j.value=await T.json())}async function le(){const u=await C("/api/organizations");F(u)||u.ok&&(x.value=await u.json())}async function ne(){const u=await C("/api/employees");F(u)||u.ok&&(h.value=await u.json())}ie(()=>{_(),ne(),le(),q()});const ae={username:"",password:"",role:"employee",permissionGrade:"",signRole:"",signTags:[],signLevel:"",employeeNo:"",name:"",gender:"",birthday:"",idNumber:"",birthplace:"",bloodType:"",languages:[],disabilityLevel:"",identityCategory:[],maritalStatus:"",dependents:0,email:"",phone:"",landline:"",householdAddress:"",contactAddress:"",lineId:"",photoList:[],organization:"",department:"",supervisor:null,subDepartment:"",title:"",practiceTitle:"",isPartTime:!1,isClocking:!1,employmentStatus:"",probationDays:"",height:"",weight:"",medicalBloodType:"",educationLevel:"",schoolName:"",major:"",graduationStatus:"",graduationYear:"",serviceType:"",militaryBranch:"",militaryRank:"",dischargeYear:"",emergency1:{name:"",relation:"",phone1:"",phone2:""},emergency2:{name:"",relation:"",phone1:"",phone2:""},keywords:"",experiences:[],licenses:[],trainings:[],hireDate:"",appointDate:"",resignDate:"",dismissDate:"",reAppointDate:"",reDismissDate:"",employmentNote:"",salaryType:"",salaryAmount:0,laborPensionSelf:0,employeeAdvance:0,salaryAccountA:{bank:"",acct:""},salaryAccountB:{bank:"",acct:""},salaryItems:[]},o=A({...ae}),me=X(()=>o.value.organization?W.value.filter(u=>u.organization===o.value.organization):[]),pe=X(()=>o.value.department?j.value.filter(u=>u.department===o.value.department):[]),ve=X(()=>o.value.organization&&o.value.department?h.value.filter(u=>u.role==="supervisor"&&u.organization===o.value.organization&&u.department===o.value.department):[]);Ce(()=>o.value.department,async u=>{u?await q(u):j.value=[],o.value.subDepartment=""});function ue(u=null){if(u!==null){G=u;const a=h.value[u];K=a._id||"",o.value={...structuredClone(ae),...a,password:"",photoList:[]}}else G=null,K="",w.value="account",o.value={...structuredClone(ae)};_(),q(o.value.department),O.value=!0}async function fe(){if(!o.value.name||!o.value.username){alert("請填寫姓名與帳號");return}const u={...o.value};(u.supervisor===""||u.supervisor===null)&&delete u.supervisor;let a;G===null?a=await C("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}):a=await C(`/api/employees/${K}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}),a&&a.ok&&(await ne(),O.value=!1)}async function ce(u){const a=h.value[u];(await C(`/api/employees/${a._id}`,{method:"DELETE"})).ok&&h.value.splice(u,1)}function be(){o.value.experiences.push({unit:"",title:"",start:"",end:""})}function _e(u){o.value.experiences.splice(u,1)}const Ve=X(()=>h.value.filter(u=>u.employmentStatus==="正職員工"||u.employmentStatus==="試用期員工").length);function ye(u){return{admin:"danger",supervisor:"warning",employee:"success"}[u]||"info"}function ge(u){return{admin:"管理員",supervisor:"主管",employee:"員工"}[u]||u}function Ue(u){return{admin:"",supervisor:"",employee:""}[u]||""}function we(u){return{正職員工:"success",試用期員工:"warning",離職員工:"danger",留職停薪:"info"}[u]||"default"}return(u,a)=>{const T=i("el-button"),ke=i("el-avatar"),R=i("el-table-column"),te=i("el-tag"),Te=i("el-table"),v=i("el-input"),s=i("el-form-item"),Se=i("el-radio"),he=i("el-radio-group"),p=i("el-option"),V=i("el-select"),Y=i("el-form"),M=i("el-tab-pane"),Q=i("el-date-picker"),se=i("el-input-number"),de=i("el-switch"),Ae=i("el-tabs"),Le=i("el-dialog");return r(),$(M,{label:"員工管理",name:"employeeMgmt"},{default:t(()=>[n("div",Re,[n("div",Me,[a[59]||(a[59]=n("div",{class:"header-content"},[n("h1",{class:"page-title"},"員工管理系統"),n("p",{class:"page-description"},"管理員工資料、權限設定、部門分配和薪資配置")],-1)),n("div",Be,[n("div",Pe,[n("div",ze,k(h.value.length),1),a[57]||(a[57]=n("div",{class:"stat-label"},"總員工數",-1))]),n("div",je,[n("div",Ge,k(Ve.value),1),a[58]||(a[58]=n("div",{class:"stat-label"},"在職員工",-1))])])]),n("div",Fe,[a[61]||(a[61]=n("h2",{class:"section-title"},"員工列表",-1)),l(T,{type:"primary",onClick:a[0]||(a[0]=e=>ue()),class:"add-btn"},{default:t(()=>a[60]||(a[60]=[n("i",{class:"el-icon-plus"},null,-1),U(" 新增員工 ")])),_:1})]),n("div",qe,[l(Te,{data:h.value,class:"employee-table","header-cell-style":{background:"#f8fafc",color:"#475569",fontWeight:"600"},"row-style":{height:"64px"}},{default:t(()=>[l(R,{prop:"name",label:"員工資訊","min-width":"200"},{default:t(({row:e})=>[n("div",Ye,[l(ke,{size:40,class:"employee-avatar"},{default:t(()=>[U(k(e.name?e.name.charAt(0):"N"),1)]),_:2},1024),n("div",Je,[n("div",He,k(e.name||"未設定"),1),n("div",We,k(e.employeeNo||"無編號"),1)])])]),_:1}),l(R,{label:"部門",width:"180"},{default:t(({row:e})=>[n("div",Ke,[a[62]||(a[62]=n("i",{class:"el-icon-s-grid dept-icon"},null,-1)),n("span",null,k(ee(e.department)),1)])]),_:1}),l(R,{prop:"title",label:"職稱",width:"150"},{default:t(({row:e})=>[e.title?(r(),$(te,{key:0,type:"info",class:"title-tag"},{default:t(()=>[U(k(e.title),1)]),_:2},1024)):(r(),f("span",Qe,"未設定"))]),_:1}),l(R,{prop:"role",label:"系統權限",width:"120"},{default:t(({row:e})=>[l(te,{type:ye(e.role),class:"role-tag"},{default:t(()=>[U(k(ge(e.role)),1)]),_:2},1032,["type"])]),_:1}),l(R,{prop:"employmentStatus",label:"在職狀態",width:"130"},{default:t(({row:e})=>[l(te,{type:we(e.employmentStatus),class:"status-tag"},{default:t(()=>[U(k(e.employmentStatus||"未設定"),1)]),_:2},1032,["type"])]),_:1}),l(R,{label:"聯絡方式",width:"200"},{default:t(({row:e})=>[n("div",Xe,[e.email?(r(),f("div",Ze,[a[63]||(a[63]=n("i",{class:"el-icon-message"},null,-1)),n("span",null,k(e.email),1)])):oe("",!0),e.phone?(r(),f("div",el,[a[64]||(a[64]=n("i",{class:"el-icon-phone"},null,-1)),n("span",null,k(e.phone),1)])):oe("",!0),!e.email&&!e.phone?(r(),f("div",ll," 無聯絡資訊 ")):oe("",!0)])]),_:1}),l(R,{label:"操作",width:"200",fixed:"right"},{default:t(({row:e,$index:J})=>[n("div",al,[l(T,{type:"primary",size:"small",onClick:I=>ue(J),class:"edit-btn"},{default:t(()=>a[65]||(a[65]=[n("i",{class:"el-icon-edit"},null,-1),U(" 編輯 ")])),_:2},1032,["onClick"]),l(T,{type:"danger",size:"small",onClick:I=>ce(J),class:"delete-btn"},{default:t(()=>a[66]||(a[66]=[n("i",{class:"el-icon-delete"},null,-1),U(" 刪除 ")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])]),l(Le,{modelValue:O.value,"onUpdate:modelValue":a[56]||(a[56]=e=>O.value=e),title:"員工資料管理",width:"1200px",class:"employee-dialog","close-on-click-modal":!1},{footer:t(()=>[n("div",la,[l(T,{onClick:a[55]||(a[55]=e=>O.value=!1),class:"cancel-btn"},{default:t(()=>a[92]||(a[92]=[U("取消")])),_:1}),l(T,{type:"primary",onClick:fe,class:"save-btn"},{default:t(()=>a[93]||(a[93]=[n("i",{class:"el-icon-check"},null,-1),U(" 儲存員工資料 ")])),_:1})])]),default:t(()=>[l(Ae,{modelValue:w.value,"onUpdate:modelValue":a[54]||(a[54]=e=>w.value=e),type:"border-card",class:"employee-tabs"},{default:t(()=>[l(M,{name:"account"},{label:t(()=>a[67]||(a[67]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-user"}),n("span",null,"帳號權限")],-1)])),default:t(()=>[n("div",tl,[l(Y,{model:o.value,"label-width":"140px",class:"form-section"},{default:t(()=>[n("div",ol,[a[68]||(a[68]=n("h3",{class:"form-group-title"},"登入資訊",-1)),l(s,{label:"登入帳號",required:""},{default:t(()=>[l(v,{modelValue:o.value.username,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.username=e),placeholder:"請輸入登入帳號"},null,8,["modelValue"])]),_:1}),l(s,{label:"登入密碼",required:""},{default:t(()=>[l(v,{modelValue:o.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.password=e),type:"password",placeholder:"請輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),n("div",nl,[a[69]||(a[69]=n("h3",{class:"form-group-title"},"權限設定",-1)),l(s,{label:"系統權限",required:""},{default:t(()=>[l(he,{modelValue:o.value.role,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.role=e),class:"role-radio-group"},{default:t(()=>[(r(),f(y,null,g(D,e=>l(Se,{key:e.value,label:e.value,class:"role-radio"},{default:t(()=>[n("div",ul,[n("div",sl,k(e.label),1),n("div",dl,k(Ue(e.value)),1)])]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"權限職等"},{default:t(()=>[l(V,{modelValue:o.value.permissionGrade,"onUpdate:modelValue":a[4]||(a[4]=e=>o.value.permissionGrade=e),placeholder:"選擇職等"},{default:t(()=>[(r(),f(y,null,g(L,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model"])])]),_:1}),l(M,{name:"approval"},{label:t(()=>a[70]||(a[70]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-document-checked"}),n("span",null,"簽核設定")],-1)])),default:t(()=>[n("div",il,[l(Y,{model:o.value,"label-width":"140px",class:"form-section"},{default:t(()=>[n("div",rl,[a[71]||(a[71]=n("h3",{class:"form-group-title"},"簽核權限",-1)),l(s,{label:"簽核角色"},{default:t(()=>[l(V,{modelValue:o.value.signRole,"onUpdate:modelValue":a[5]||(a[5]=e=>o.value.signRole=e),placeholder:"選擇簽核角色"},{default:t(()=>[(r(),f(y,null,g(H,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"簽核層級"},{default:t(()=>[l(V,{modelValue:o.value.signLevel,"onUpdate:modelValue":a[6]||(a[6]=e=>o.value.signLevel=e),placeholder:"選擇層級"},{default:t(()=>[(r(),f(y,null,g(S,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"員工標籤"},{default:t(()=>[l(V,{modelValue:o.value.signTags,"onUpdate:modelValue":a[7]||(a[7]=e=>o.value.signTags=e),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"選擇或新增標籤",class:"tag-select"},{default:t(()=>[(r(),f(y,null,g(b,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model"])])]),_:1}),l(M,{name:"personal"},{label:t(()=>a[72]||(a[72]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-user-solid"}),n("span",null,"個人資訊")],-1)])),default:t(()=>[n("div",ml,[l(Y,{model:o.value,"label-width":"140px",class:"form-section"},{default:t(()=>[n("div",pl,[a[73]||(a[73]=n("h3",{class:"form-group-title"},"基本資料",-1)),n("div",vl,[l(s,{label:"員工編號"},{default:t(()=>[l(v,{modelValue:o.value.employeeNo,"onUpdate:modelValue":a[8]||(a[8]=e=>o.value.employeeNo=e),placeholder:"請輸入員工編號"},null,8,["modelValue"])]),_:1}),l(s,{label:"員工姓名",required:""},{default:t(()=>[l(v,{modelValue:o.value.name,"onUpdate:modelValue":a[9]||(a[9]=e=>o.value.name=e),placeholder:"請輸入員工姓名"},null,8,["modelValue"])]),_:1})]),n("div",fl,[l(s,{label:"性別"},{default:t(()=>[l(V,{modelValue:o.value.gender,"onUpdate:modelValue":a[10]||(a[10]=e=>o.value.gender=e),placeholder:"選擇性別"},{default:t(()=>[l(p,{label:"男",value:"M"}),l(p,{label:"女",value:"F"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"生日"},{default:t(()=>[l(Q,{modelValue:o.value.birthday,"onUpdate:modelValue":a[11]||(a[11]=e=>o.value.birthday=e),type:"date",placeholder:"選擇生日"},null,8,["modelValue"])]),_:1})]),n("div",cl,[l(s,{label:"身分證號"},{default:t(()=>[l(v,{modelValue:o.value.idNumber,"onUpdate:modelValue":a[12]||(a[12]=e=>o.value.idNumber=e),placeholder:"請輸入身分證號"},null,8,["modelValue"])]),_:1}),l(s,{label:"出生地"},{default:t(()=>[l(v,{modelValue:o.value.birthplace,"onUpdate:modelValue":a[13]||(a[13]=e=>o.value.birthplace=e),placeholder:"請輸入出生地"},null,8,["modelValue"])]),_:1})]),n("div",bl,[l(s,{label:"血型"},{default:t(()=>[l(V,{modelValue:o.value.bloodType,"onUpdate:modelValue":a[14]||(a[14]=e=>o.value.bloodType=e),placeholder:"選擇血型"},{default:t(()=>[(r(),f(y,null,g(d,e=>l(p,{key:e,value:e,label:e},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"婚姻狀態"},{default:t(()=>[l(V,{modelValue:o.value.maritalStatus,"onUpdate:modelValue":a[15]||(a[15]=e=>o.value.maritalStatus=e),placeholder:"選擇婚姻狀態"},{default:t(()=>[l(p,{label:"未婚",value:"未婚"}),l(p,{label:"已婚",value:"已婚"}),l(p,{label:"離婚",value:"離婚"}),l(p,{label:"喪偶",value:"喪偶"})]),_:1},8,["modelValue"])]),_:1})]),l(s,{label:"語言能力"},{default:t(()=>[l(V,{modelValue:o.value.languages,"onUpdate:modelValue":a[16]||(a[16]=e=>o.value.languages=e),multiple:"",filterable:"",placeholder:"選擇語言"},{default:t(()=>[(r(),f(y,null,g(N,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"扶養人數"},{default:t(()=>[l(se,{modelValue:o.value.dependents,"onUpdate:modelValue":a[17]||(a[17]=e=>o.value.dependents=e),min:0},null,8,["modelValue"])]),_:1})]),n("div",_l,[a[74]||(a[74]=n("h3",{class:"form-group-title"},"聯絡資訊",-1)),n("div",Vl,[l(s,{label:"Email"},{default:t(()=>[l(v,{modelValue:o.value.email,"onUpdate:modelValue":a[18]||(a[18]=e=>o.value.email=e),placeholder:"請輸入Email"},null,8,["modelValue"])]),_:1}),l(s,{label:"行動電話"},{default:t(()=>[l(v,{modelValue:o.value.phone,"onUpdate:modelValue":a[19]||(a[19]=e=>o.value.phone=e),placeholder:"請輸入行動電話"},null,8,["modelValue"])]),_:1})]),n("div",yl,[l(s,{label:"市內電話"},{default:t(()=>[l(v,{modelValue:o.value.landline,"onUpdate:modelValue":a[20]||(a[20]=e=>o.value.landline=e),placeholder:"請輸入市內電話"},null,8,["modelValue"])]),_:1}),l(s,{label:"LINE ID"},{default:t(()=>[l(v,{modelValue:o.value.lineId,"onUpdate:modelValue":a[21]||(a[21]=e=>o.value.lineId=e),placeholder:"請輸入LINE ID"},null,8,["modelValue"])]),_:1})]),l(s,{label:"戶籍地址"},{default:t(()=>[l(v,{modelValue:o.value.householdAddress,"onUpdate:modelValue":a[22]||(a[22]=e=>o.value.householdAddress=e),placeholder:"請輸入戶籍地址"},null,8,["modelValue"])]),_:1}),l(s,{label:"聯絡地址"},{default:t(()=>[l(v,{modelValue:o.value.contactAddress,"onUpdate:modelValue":a[23]||(a[23]=e=>o.value.contactAddress=e),placeholder:"請輸入聯絡地址"},null,8,["modelValue"])]),_:1})])]),_:1},8,["model"])])]),_:1}),l(M,{name:"employment"},{label:t(()=>a[75]||(a[75]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-office-building"}),n("span",null,"任職資訊")],-1)])),default:t(()=>[n("div",gl,[l(Y,{model:o.value,"label-width":"140px",class:"form-section"},{default:t(()=>[n("div",Ul,[a[76]||(a[76]=n("h3",{class:"form-group-title"},"組織架構",-1)),n("div",wl,[l(s,{label:"所屬機構",required:""},{default:t(()=>[l(V,{modelValue:o.value.organization,"onUpdate:modelValue":a[24]||(a[24]=e=>o.value.organization=e),placeholder:"選擇機構"},{default:t(()=>[(r(!0),f(y,null,g(x.value,e=>(r(),$(p,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"所屬部門",required:""},{default:t(()=>[l(V,{modelValue:o.value.department,"onUpdate:modelValue":a[25]||(a[25]=e=>o.value.department=e),placeholder:"選擇部門"},{default:t(()=>[(r(!0),f(y,null,g(me.value,e=>(r(),$(p,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),n("div",kl,[l(s,{label:"小單位"},{default:t(()=>[l(V,{modelValue:o.value.subDepartment,"onUpdate:modelValue":a[26]||(a[26]=e=>o.value.subDepartment=e),placeholder:"選擇小單位"},{default:t(()=>[(r(!0),f(y,null,g(pe.value,e=>(r(),$(p,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"直屬主管"},{default:t(()=>[l(V,{modelValue:o.value.supervisor,"onUpdate:modelValue":a[27]||(a[27]=e=>o.value.supervisor=e),placeholder:"選擇主管"},{default:t(()=>[(r(!0),f(y,null,g(ve.value,e=>(r(),$(p,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),n("div",Tl,[a[77]||(a[77]=n("h3",{class:"form-group-title"},"職務資訊",-1)),n("div",Sl,[l(s,{label:"職稱"},{default:t(()=>[l(V,{modelValue:o.value.title,"onUpdate:modelValue":a[28]||(a[28]=e=>o.value.title=e),placeholder:"選擇職稱"},{default:t(()=>[(r(),f(y,null,g(m,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"執業職稱"},{default:t(()=>[l(V,{modelValue:o.value.practiceTitle,"onUpdate:modelValue":a[29]||(a[29]=e=>o.value.practiceTitle=e),placeholder:"選擇執業職稱"},{default:t(()=>[(r(),f(y,null,g(E,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),n("div",hl,[l(s,{label:"兼職人員"},{default:t(()=>[l(de,{modelValue:o.value.isPartTime,"onUpdate:modelValue":a[30]||(a[30]=e=>o.value.isPartTime=e),"active-text":"是","inactive-text":"否","active-color":"#10b981"},null,8,["modelValue"])]),_:1}),l(s,{label:"需要打卡"},{default:t(()=>[l(de,{modelValue:o.value.isClocking,"onUpdate:modelValue":a[31]||(a[31]=e=>o.value.isClocking=e),"active-text":"是","inactive-text":"否","active-color":"#10b981"},null,8,["modelValue"])]),_:1})])]),n("div",Al,[a[78]||(a[78]=n("h3",{class:"form-group-title"},"聘用狀態",-1)),n("div",Ll,[l(s,{label:"在職狀態"},{default:t(()=>[l(V,{modelValue:o.value.employmentStatus,"onUpdate:modelValue":a[32]||(a[32]=e=>o.value.employmentStatus=e),placeholder:"選擇狀態"},{default:t(()=>[l(p,{label:"正職員工",value:"正職員工"}),l(p,{label:"試用期員工",value:"試用期員工"}),l(p,{label:"離職員工",value:"離職員工"}),l(p,{label:"留職停薪",value:"留職停薪"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"試用期"},{default:t(()=>[l(V,{modelValue:o.value.probationDays,"onUpdate:modelValue":a[33]||(a[33]=e=>o.value.probationDays=e),placeholder:"選擇天數"},{default:t(()=>[l(p,{label:"無",value:""}),l(p,{label:"30天",value:"30"}),l(p,{label:"60天",value:"60"}),l(p,{label:"90天",value:"90"})]),_:1},8,["modelValue"])]),_:1})]),n("div",El,[l(s,{label:"到職日期"},{default:t(()=>[l(Q,{modelValue:o.value.hireDate,"onUpdate:modelValue":a[34]||(a[34]=e=>o.value.hireDate=e),type:"date",placeholder:"選擇到職日期"},null,8,["modelValue"])]),_:1}),l(s,{label:"離職日期"},{default:t(()=>[l(Q,{modelValue:o.value.resignDate,"onUpdate:modelValue":a[35]||(a[35]=e=>o.value.resignDate=e),type:"date",placeholder:"選擇離職日期"},null,8,["modelValue"])]),_:1})])])]),_:1},8,["model"])])]),_:1}),l(M,{name:"more"},{label:t(()=>a[79]||(a[79]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-more"}),n("span",null,"更多資訊")],-1)])),default:t(()=>[n("div",Cl,[l(Y,{model:o.value,"label-width":"140px",class:"form-section"},{default:t(()=>[n("div",Dl,[a[80]||(a[80]=n("h3",{class:"form-group-title"},"學歷資訊",-1)),n("div",Nl,[l(s,{label:"教育程度"},{default:t(()=>[l(V,{modelValue:o.value.educationLevel,"onUpdate:modelValue":a[36]||(a[36]=e=>o.value.educationLevel=e),placeholder:"選擇教育程度"},{default:t(()=>[(r(),f(y,null,g(B,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"學校名稱"},{default:t(()=>[l(v,{modelValue:o.value.schoolName,"onUpdate:modelValue":a[37]||(a[37]=e=>o.value.schoolName=e),placeholder:"請輸入學校名稱"},null,8,["modelValue"])]),_:1})]),n("div",Ol,[l(s,{label:"主修科系"},{default:t(()=>[l(v,{modelValue:o.value.major,"onUpdate:modelValue":a[38]||(a[38]=e=>o.value.major=e),placeholder:"請輸入主修科系"},null,8,["modelValue"])]),_:1}),l(s,{label:"畢業年度"},{default:t(()=>[l(v,{modelValue:o.value.graduationYear,"onUpdate:modelValue":a[39]||(a[39]=e=>o.value.graduationYear=e),placeholder:"請輸入畢業年度"},null,8,["modelValue"])]),_:1})])]),n("div",Il,[a[83]||(a[83]=n("h3",{class:"form-group-title"},"緊急聯絡人",-1)),n("div",$l,[a[81]||(a[81]=n("h4",{class:"contact-subtitle"},"聯絡人一",-1)),n("div",xl,[l(s,{label:"姓名"},{default:t(()=>[l(v,{modelValue:o.value.emergency1.name,"onUpdate:modelValue":a[40]||(a[40]=e=>o.value.emergency1.name=e),placeholder:"請輸入姓名"},null,8,["modelValue"])]),_:1}),l(s,{label:"關係"},{default:t(()=>[l(V,{modelValue:o.value.emergency1.relation,"onUpdate:modelValue":a[41]||(a[41]=e=>o.value.emergency1.relation=e),placeholder:"選擇關係"},{default:t(()=>[(r(),f(y,null,g(P,e=>l(p,{key:"r1-"+e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),n("div",Rl,[l(s,{label:"電話一"},{default:t(()=>[l(v,{modelValue:o.value.emergency1.phone1,"onUpdate:modelValue":a[42]||(a[42]=e=>o.value.emergency1.phone1=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1}),l(s,{label:"電話二"},{default:t(()=>[l(v,{modelValue:o.value.emergency1.phone2,"onUpdate:modelValue":a[43]||(a[43]=e=>o.value.emergency1.phone2=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1})])]),n("div",Ml,[a[82]||(a[82]=n("h4",{class:"contact-subtitle"},"聯絡人二",-1)),n("div",Bl,[l(s,{label:"姓名"},{default:t(()=>[l(v,{modelValue:o.value.emergency2.name,"onUpdate:modelValue":a[44]||(a[44]=e=>o.value.emergency2.name=e),placeholder:"請輸入姓名"},null,8,["modelValue"])]),_:1}),l(s,{label:"關係"},{default:t(()=>[l(V,{modelValue:o.value.emergency2.relation,"onUpdate:modelValue":a[45]||(a[45]=e=>o.value.emergency2.relation=e),placeholder:"選擇關係"},{default:t(()=>[(r(),f(y,null,g(P,e=>l(p,{key:"r2-"+e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),n("div",Pl,[l(s,{label:"電話一"},{default:t(()=>[l(v,{modelValue:o.value.emergency2.phone1,"onUpdate:modelValue":a[46]||(a[46]=e=>o.value.emergency2.phone1=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1}),l(s,{label:"電話二"},{default:t(()=>[l(v,{modelValue:o.value.emergency2.phone2,"onUpdate:modelValue":a[47]||(a[47]=e=>o.value.emergency2.phone2=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1})])])]),n("div",zl,[a[86]||(a[86]=n("h3",{class:"form-group-title"},"工作經歷",-1)),n("div",jl,[(r(!0),f(y,null,g(o.value.experiences,(e,J)=>(r(),f("div",{key:J,class:"experience-item"},[n("div",Gl,[n("h4",Fl,"經歷 "+k(J+1),1),l(T,{type:"danger",size:"small",onClick:I=>_e(J),class:"remove-btn"},{default:t(()=>a[84]||(a[84]=[n("i",{class:"el-icon-delete"},null,-1),U(" 刪除 ")])),_:2},1032,["onClick"])]),n("div",ql,[l(s,{label:"單位名稱"},{default:t(()=>[l(v,{modelValue:e.unit,"onUpdate:modelValue":I=>e.unit=I,placeholder:"請輸入單位名稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(s,{label:"職稱"},{default:t(()=>[l(v,{modelValue:e.title,"onUpdate:modelValue":I=>e.title=I,placeholder:"請輸入職稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),n("div",Yl,[l(s,{label:"到職年月"},{default:t(()=>[l(Q,{modelValue:e.start,"onUpdate:modelValue":I=>e.start=I,type:"month",placeholder:"選擇到職年月"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(s,{label:"離職年月"},{default:t(()=>[l(Q,{modelValue:e.end,"onUpdate:modelValue":I=>e.end=I,type:"month",placeholder:"選擇離職年月"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]))),128))]),l(T,{type:"primary",onClick:be,class:"add-item-btn"},{default:t(()=>a[85]||(a[85]=[n("i",{class:"el-icon-plus"},null,-1),U(" 新增經歷 ")])),_:1})])]),_:1},8,["model"])])]),_:1}),l(M,{name:"salary"},{label:t(()=>a[87]||(a[87]=[n("div",{class:"tab-label"},[n("i",{class:"el-icon-money"}),n("span",null,"薪資設定")],-1)])),default:t(()=>[n("div",Jl,[l(Y,{model:o.value,"label-width":"160px",class:"form-section"},{default:t(()=>[n("div",Hl,[a[88]||(a[88]=n("h3",{class:"form-group-title"},"薪資資訊",-1)),n("div",Wl,[l(s,{label:"薪資類別"},{default:t(()=>[l(V,{modelValue:o.value.salaryType,"onUpdate:modelValue":a[48]||(a[48]=e=>o.value.salaryType=e),placeholder:"選擇類別"},{default:t(()=>[(r(),f(y,null,g(z,e=>l(p,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"薪資金額"},{default:t(()=>[l(se,{modelValue:o.value.salaryAmount,"onUpdate:modelValue":a[49]||(a[49]=e=>o.value.salaryAmount=e),min:0,step:1e3,formatter:e=>`$ ${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,"")},null,8,["modelValue","formatter","parser"])]),_:1})])]),n("div",Kl,[a[91]||(a[91]=n("h3",{class:"form-group-title"},"銀行帳戶",-1)),n("div",Ql,[a[89]||(a[89]=n("h4",{class:"account-subtitle"},"薪資帳戶 A",-1)),n("div",Xl,[l(s,{label:"銀行代碼/名稱"},{default:t(()=>[l(v,{modelValue:o.value.salaryAccountA.bank,"onUpdate:modelValue":a[50]||(a[50]=e=>o.value.salaryAccountA.bank=e),placeholder:"請輸入銀行資訊"},null,8,["modelValue"])]),_:1}),l(s,{label:"帳號"},{default:t(()=>[l(v,{modelValue:o.value.salaryAccountA.acct,"onUpdate:modelValue":a[51]||(a[51]=e=>o.value.salaryAccountA.acct=e),placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1})])]),n("div",Zl,[a[90]||(a[90]=n("h4",{class:"account-subtitle"},"薪資帳戶 B",-1)),n("div",ea,[l(s,{label:"銀行代碼/名稱"},{default:t(()=>[l(v,{modelValue:o.value.salaryAccountB.bank,"onUpdate:modelValue":a[52]||(a[52]=e=>o.value.salaryAccountB.bank=e),placeholder:"請輸入銀行資訊"},null,8,["modelValue"])]),_:1}),l(s,{label:"帳號"},{default:t(()=>[l(v,{modelValue:o.value.salaryAccountB.acct,"onUpdate:modelValue":a[53]||(a[53]=e=>o.value.salaryAccountB.acct=e),placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1})])])])]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])]),_:1})}}},ta=re(aa,[["__scopeId","data-v-739d744a"]]),oa={class:"hr-management-system-setting"},na={__name:"HRManagementSystemSetting",setup(Z){const c=A("accountRole");return(D,L)=>{const m=i("el-tabs");return r(),f("div",oa,[L[1]||(L[1]=n("h2",null,"人事管理與系統設定",-1)),l(m,{modelValue:c.value,"onUpdate:modelValue":L[0]||(L[0]=E=>c.value=E),type:"card"},{default:t(()=>[l(Ie),l(xe),l(ta)]),_:1},8,["modelValue"])])}}},da=re(na,[["__scopeId","data-v-f38c3226"]]);export{da as default};
