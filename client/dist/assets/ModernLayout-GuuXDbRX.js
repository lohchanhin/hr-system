import{_ as B,f as L,g as N,r as f,h as v,w as e,b as o,u as T,o as s,a as n,d as c,n as g,e as V,c as F,F as R,i as j,j as z,t as D,k as E}from"./index-DoO9I7c3.js";import{u as P}from"./menu-Baduhk_s.js";import"./api-ZZnZ46lj.js";const $={__name:"ModernLayout",setup(q){const u=T(),r=P(),{items:_}=L(r);N(async()=>{_.value.length===0&&await r.fetchMenu()});const i=f(""),a=f(!1);function k(l){i.value=l,u.push({name:l})}function y(){a.value=!a.value}function C(){E(),localStorage.removeItem("role"),localStorage.removeItem("employeeId"),u.push("/")}return(l,m)=>{const h=o("el-icon"),d=o("el-button"),x=o("el-header"),b=o("el-menu-item"),w=o("el-menu"),I=o("el-aside"),M=o("router-view"),S=o("el-main"),p=o("el-container");return s(),v(p,{class:"modern-layout"},{default:e(()=>[n(x,{class:"layout-header"},{default:e(()=>[n(d,{link:"",onClick:y,class:"collapse-btn"},{default:e(()=>[n(h,null,{default:e(()=>[c("i",{class:g(a.value?"el-icon-menu":"el-icon-close")},null,2)]),_:1})]),_:1}),n(d,{type:"danger",onClick:C,class:"logout-btn"},{default:e(()=>m[0]||(m[0]=[V("登出")])),_:1})]),_:1}),n(p,null,{default:e(()=>[n(I,{class:"layout-aside"},{default:e(()=>[n(w,{"default-active":i.value,collapse:a.value},{default:e(()=>[(s(!0),F(R,null,j(z(_),t=>(s(),v(b,{key:t.name,index:t.name,onClick:A=>k(t.name)},{default:e(()=>[c("i",{class:g(t.icon)},null,2),c("span",null,D(t.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active","collapse"])]),_:1}),n(S,{class:"layout-main"},{default:e(()=>[n(M)]),_:1})]),_:1})]),_:1})}}},K=B($,[["__scopeId","data-v-05fa936e"]]);export{K as default};
