import{a as z}from"./api-zZL8ssGi.js";import{_ as Ee,r as f,j as Ke,c as R,o as S,b as V,d as l,w as t,e as d,g as o,t as b,F,l as I,h as G,E as v,z as Q,k as Fe}from"./index-aC1k_6wM.js";const Ie={class:"other-control-setting"},Ae={class:"tab-content"},Pe={class:"tab-content"},De={class:"list-action-row"},Oe={class:"tab-content"},$e={class:"list-action-row"},ze={class:"tab-content"},He={class:"tab-content"},je={class:"list-action-row"},Ne={class:"dialog-footer"},We={class:"dialog-footer"},Be={class:"dialog-footer"},Le={__name:"OtherControlSetting",setup(de){const H=f("notification"),i=f({enableEmail:!0,enableSMS:!1,defaultReminderMinutes:30,digestTime:"08:30",escalationTargets:["manager"],frequency:"immediate"}),re=[{label:"部門主管",value:"manager"},{label:"HR 夥伴",value:"hr"},{label:"系統管理員",value:"admin"}],s=f({enforce2FA:!0,passwordExpiration:!0,passwordExpireDays:90,sessionTimeout:30,loginAlert:!0,maintenanceContacts:["security"]}),pe=[{label:"資訊安全",value:"security"},{label:"系統管理員",value:"admin"},{label:"HR 主管",value:"hr"}],U=f([{label:"台北總部",address:"203.0.113.0/24"},{label:"備援機房",address:"198.51.100.25"}]),A=f(!1),j=f(-1),_=f({label:"",address:""}),X=[{label:"文字輸入",value:"text"},{label:"多行文字",value:"textarea"},{label:"數字輸入",value:"number"},{label:"單選選項",value:"select"},{label:"複選",value:"checkbox"},{label:"複合加選",value:"composite"},{label:"日期",value:"date"},{label:"時間區間",value:"timeRange"},{label:"布林選項",value:"boolean"}],me=X.reduce((u,e)=>({...u,[e.value]:e.label}),{}),Y=[{label:"員工證字號",fieldKey:"nationalId",type:"text",category:"employee",group:"基本資料",required:!0,description:"供報稅與投保使用"},{label:"制服尺寸",fieldKey:"uniformSize",type:"select",category:"employee",group:"報到資訊",required:!1,description:"入職前通知行政備貨"},{label:"職稱選單 (C03)",fieldKey:"C03",type:"select",category:"dictionary",group:"職務設定",required:!0,description:"維護員工職稱清單"},{label:"執業職稱選單 (C04)",fieldKey:"C04",type:"select",category:"dictionary",group:"職務設定",required:!1,description:"提供專業人員執業職稱選項"},{label:"語言能力庫 (C05)",fieldKey:"C05",type:"composite",category:"dictionary",group:"基本資料",required:!1,description:"設定可勾選的語言能力與層級"},{label:"身障等級 (C06)",fieldKey:"C06",type:"select",category:"dictionary",group:"基本資料",required:!1,description:"維護身心障礙手冊等級"},{label:"身分類別 (C07)",fieldKey:"C07",type:"select",category:"dictionary",group:"基本資料",required:!1,description:"設定身份註記分類"},{label:"教育程度 (C08)",fieldKey:"C08",type:"select",category:"dictionary",group:"學歷資料",required:!1,description:"維護教育程度選單"},{label:"緊急聯絡人稱謂 (C09)",fieldKey:"C09",type:"select",category:"dictionary",group:"聯絡資訊",required:!1,description:"提供緊急聯絡人稱謂選項"},{label:"教育訓練積分類別 (C10)",fieldKey:"C10",type:"select",category:"dictionary",group:"教育訓練",required:!1,description:"維護教育訓練積分類別"},{label:"班別名稱 (C11)",fieldKey:"C11_name",type:"text",category:"dictionary",group:"班別設定",required:!0,description:"顯示於班別選單的名稱"},{label:"班別說明 (C11)",fieldKey:"C11_content",type:"textarea",category:"dictionary",group:"班別設定",required:!1,description:"補充班別內容或注意事項"},{label:"班別時段 (C11)",fieldKey:"C11_timeRange",type:"timeRange",category:"dictionary",group:"班別設定",required:!0,description:"設定班別的起訖時間"},{label:"休息是否計薪 (C11)",fieldKey:"C11_paidBreak",type:"boolean",category:"dictionary",group:"班別設定",required:!1,description:"決定休息時間是否計薪"},{label:"允許彈性時間 (C11)",fieldKey:"C11_allowFlexTime",type:"boolean",category:"dictionary",group:"班別設定",required:!1,description:"是否允許彈性前後時間"},{label:"彈性區間分鐘數 (C11)",fieldKey:"C11_flexWindow",type:"number",category:"dictionary",group:"班別設定",required:!1,description:"可彈性調整的分鐘數"},{label:"假別類別 (C12)",fieldKey:"C12",type:"select",category:"dictionary",group:"假別設定",required:!0,description:"維護假別類別與對應設定"},{label:"加班原因 (C13)",fieldKey:"C13",type:"select",category:"dictionary",group:"加班設定",required:!1,description:"設定常用的加班原因"},{label:"津貼項目 (C14)",fieldKey:"C14",type:"select",category:"dictionary",group:"薪資設定",required:!1,description:"維護津貼或補貼項目"}],T=f([...Y]),P=f(!1),N=f(-1),m=f({label:"",fieldKey:"",type:"text",category:"",group:"",required:!1,description:""}),fe=[{label:"無",value:"none"},{label:"Workday",value:"workday"},{label:"SAP SuccessFactors",value:"sap"},{label:"Local ERP",value:"local"}],c=f({vendor:"none",syncSchedule:!0,syncPayroll:!1,webhookUrl:"",autoRetry:!0}),q=f({lastSync:"尚未同步",statusMessage:"等待測試"}),Z=[{label:"指派預設角色",value:"assignDefaultRole"},{label:"寄送通知郵件",value:"sendMail"},{label:"建立審核待辦",value:"createApprovalTask"},{label:"鎖定帳號",value:"lockAccount"}],ve=Z.reduce((u,e)=>({...u,[e.value]:e.label}),{}),h=[{label:"部門主管",value:"manager"},{label:"HR 夥伴",value:"hr"},{label:"系統管理員",value:"admin"},{label:"資安人員",value:"security"}],ye=h.reduce((u,e)=>({...u,[e.value]:e.label}),{}),x=f([{name:"新員工自動啟用",trigger:"建立員工主檔後",status:"enabled",actions:["assignDefaultRole","sendMail"],notifyTargets:["hr"],description:"自動寄送歡迎信並指派 HR 夥伴"},{name:"異常登入鎖定",trigger:"帳號連續 5 次登入失敗",status:"disabled",actions:["lockAccount","sendMail"],notifyTargets:["admin","security"],description:"通知系統管理員並暫停帳號"}]),D=f(!1),W=f(-1),p=f({name:"",trigger:"",actions:[],notifyTargets:[],status:"enabled",description:""});Ke(()=>{be()});async function be(){try{const u=await z("/api/other-control-settings",{method:"GET"},{autoRedirect:!1});if(u.ok){const e=await u.json();e.notification&&(i.value={...i.value,...e.notification}),e.security&&(s.value={...s.value,...e.security},Array.isArray(e.security.ipWhitelist)&&(U.value=e.security.ipWhitelist)),Array.isArray(e.customFields)&&e.customFields.length?T.value=e.customFields:T.value=[...Y],e.integration&&(c.value={...c.value,...e.integration},q.value={lastSync:e.integration.lastSync||q.value.lastSync,statusMessage:e.integration.statusMessage||q.value.statusMessage}),Array.isArray(e.automationRules)&&(x.value=e.automationRules)}}catch(u){console.warn("載入其他控制設定失敗：",u)}}async function ce(){try{if(!(await z("/api/other-control-settings/notification",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i.value)})).ok)throw new Error("儲存失敗");v.success("已儲存通知設定")}catch{v.error("儲存通知設定時發生問題")}}async function ge(){const u={...s.value,ipWhitelist:U.value};try{if(!(await z("/api/other-control-settings/security",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)throw new Error("儲存失敗");v.success("已儲存安全設定")}catch{v.error("儲存安全設定時發生問題")}}function ee(u=-1){j.value=u,u>-1?_.value={...U.value[u]}:_.value={label:"",address:""},A.value=!0}async function Ve(){if(!_.value.label||!_.value.address){v.warning("請填寫完整的 IP 資訊");return}j.value>-1?U.value.splice(j.value,1,{..._.value}):U.value.push({..._.value}),A.value=!1,v.success("已更新 IP 白名單")}async function _e(u){try{await Q.confirm("確定要移除該 IP 限制嗎？","提醒",{type:"warning"}),U.value.splice(u,1),v.success("已移除 IP 限制")}catch{}}function le(u=-1){N.value=u,u>-1?m.value={...T.value[u]}:m.value={label:"",fieldKey:"",type:"text",category:"",group:"",required:!1,description:""},P.value=!0}async function Ce(){if(!m.value.label||!m.value.fieldKey){v.warning("欄位名稱與識別代碼為必填");return}N.value>-1?T.value.splice(N.value,1,{...m.value}):T.value.push({...m.value}),P.value=!1,v.success("已更新自訂欄位")}async function we(u){try{await Q.confirm("確定要刪除此欄位嗎？","提醒",{type:"warning"}),T.value.splice(u,1),v.success("已刪除自訂欄位")}catch{}}async function ke(){try{if(!(await z("/api/other-control-settings/integration",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c.value)})).ok)throw new Error("儲存失敗");q.value={lastSync:new Date().toLocaleString(),statusMessage:"設定已更新，等待下一次同步"},v.success("已儲存整合設定")}catch{v.error("儲存整合設定時發生問題")}}async function xe(){q.value={lastSync:new Date().toLocaleString(),statusMessage:"測試連線成功"},v.success("測試連線請求已送出")}function ae(u=-1){if(W.value=u,u>-1){const e=x.value[u];p.value={name:e.name,trigger:e.trigger,actions:[...e.actions],notifyTargets:[...e.notifyTargets],status:e.status,description:e.description||""}}else p.value={name:"",trigger:"",actions:[],notifyTargets:[],status:"enabled",description:""};D.value=!0}async function Se(){if(!p.value.name||!p.value.trigger){v.warning("請填寫規則名稱與觸發條件");return}W.value>-1?x.value.splice(W.value,1,{...p.value}):x.value.push({...p.value}),D.value=!1,v.success("已更新自動化規則")}async function Ue(u){try{await Q.confirm("確定要刪除這條規則嗎？","提醒",{type:"warning"}),x.value.splice(u,1),v.success("已刪除自動化規則")}catch{}}function Te(u){const e=x.value[u],C=e.status==="enabled"?"disabled":"enabled";x.value.splice(u,1,{...e,status:C}),v.success(`規則已${C==="enabled"?"啟用":"停用"}`)}return(u,e)=>{const C=d("el-descriptions-item"),te=d("el-descriptions"),B=d("el-divider"),w=d("el-switch"),n=d("el-form-item"),oe=d("el-input-number"),qe=d("el-time-picker"),M=d("el-option"),E=d("el-select"),O=d("el-radio-button"),ue=d("el-radio-group"),r=d("el-button"),K=d("el-form"),$=d("el-tab-pane"),Re=d("el-slider"),y=d("el-table-column"),L=d("el-table"),ne=d("el-alert"),k=d("el-input"),ie=d("el-tag"),Me=d("el-tabs"),J=d("el-dialog");return S(),R("div",Ie,[e[68]||(e[68]=V("h2",null,"其他控制設定",-1)),l(Me,{modelValue:H.value,"onUpdate:modelValue":e[20]||(e[20]=a=>H.value=a),type:"border-card"},{default:t(()=>[l($,{label:"通知中心",name:"notification"},{default:t(()=>[V("div",Ae,[l(te,{column:2,title:"目前通知策略",class:"descriptions-block"},{default:t(()=>[l(C,{label:"Email 通知"},{default:t(()=>[o(b(i.value.enableEmail?"啟用":"停用"),1)]),_:1}),l(C,{label:"SMS 通知"},{default:t(()=>[o(b(i.value.enableSMS?"啟用":"停用"),1)]),_:1}),l(C,{label:"每日摘要時間"},{default:t(()=>[o(b(i.value.digestTime||"未設定"),1)]),_:1}),l(C,{label:"預設提醒"},{default:t(()=>[o("提前 "+b(i.value.defaultReminderMinutes)+" 分鐘",1)]),_:1})]),_:1}),l(B,{"content-position":"left"},{default:t(()=>e[40]||(e[40]=[o("編輯通知策略")])),_:1}),l(K,{model:i.value,"label-width":"160px",class:"form-layout"},{default:t(()=>[l(n,{label:"啟用 Email 通知"},{default:t(()=>[l(w,{modelValue:i.value.enableEmail,"onUpdate:modelValue":e[0]||(e[0]=a=>i.value.enableEmail=a),"active-text":"啟用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(n,{label:"啟用 SMS 通知"},{default:t(()=>[l(w,{modelValue:i.value.enableSMS,"onUpdate:modelValue":e[1]||(e[1]=a=>i.value.enableSMS=a),"active-text":"啟用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(n,{label:"預設提醒(分鐘)"},{default:t(()=>[l(oe,{modelValue:i.value.defaultReminderMinutes,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value.defaultReminderMinutes=a),min:0,step:5},null,8,["modelValue"])]),_:1}),l(n,{label:"每日摘要時間"},{default:t(()=>[l(qe,{modelValue:i.value.digestTime,"onUpdate:modelValue":e[3]||(e[3]=a=>i.value.digestTime=a),placeholder:"選擇時間",format:"HH:mm","value-format":"HH:mm",disabled:!i.value.enableEmail},null,8,["modelValue","disabled"])]),_:1}),l(n,{label:"升級通知對象"},{default:t(()=>[l(E,{modelValue:i.value.escalationTargets,"onUpdate:modelValue":e[4]||(e[4]=a=>i.value.escalationTargets=a),multiple:"",placeholder:"選擇對象"},{default:t(()=>[(S(),R(F,null,I(re,a=>l(M,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"通知頻率"},{default:t(()=>[l(ue,{modelValue:i.value.frequency,"onUpdate:modelValue":e[5]||(e[5]=a=>i.value.frequency=a)},{default:t(()=>[l(O,{label:"immediate"},{default:t(()=>e[41]||(e[41]=[o("即時")])),_:1}),l(O,{label:"hourly"},{default:t(()=>e[42]||(e[42]=[o("每小時彙整")])),_:1}),l(O,{label:"daily"},{default:t(()=>e[43]||(e[43]=[o("每日彙整")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,null,{default:t(()=>[l(r,{type:"primary",onClick:ce},{default:t(()=>e[44]||(e[44]=[o("儲存通知設定")])),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),l($,{label:"安全控制",name:"security"},{default:t(()=>[V("div",Pe,[l(te,{column:2,title:"目前安全概要",class:"descriptions-block"},{default:t(()=>[l(C,{label:"雙因素驗證"},{default:t(()=>[o(b(s.value.enforce2FA?"強制":"選用"),1)]),_:1}),l(C,{label:"密碼有效天數"},{default:t(()=>[o(b(s.value.passwordExpiration?s.value.passwordExpireDays+" 天":"不限制"),1)]),_:1}),l(C,{label:"閒置登出"},{default:t(()=>[o(b(s.value.sessionTimeout)+" 分鐘 ",1)]),_:1}),l(C,{label:"異常登入通知"},{default:t(()=>[o(b(s.value.loginAlert?"啟用":"停用"),1)]),_:1})]),_:1}),l(B,{"content-position":"left"},{default:t(()=>e[45]||(e[45]=[o("編輯安全控制")])),_:1}),l(K,{model:s.value,"label-width":"180px",class:"form-layout"},{default:t(()=>[l(n,{label:"強制雙因素驗證"},{default:t(()=>[l(w,{modelValue:s.value.enforce2FA,"onUpdate:modelValue":e[6]||(e[6]=a=>s.value.enforce2FA=a),"active-text":"強制","inactive-text":"選用"},null,8,["modelValue"])]),_:1}),l(n,{label:"密碼期限"},{default:t(()=>[l(w,{modelValue:s.value.passwordExpiration,"onUpdate:modelValue":e[7]||(e[7]=a=>s.value.passwordExpiration=a),"active-text":"啟用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(n,{label:"密碼有效天數"},{default:t(()=>[l(oe,{modelValue:s.value.passwordExpireDays,"onUpdate:modelValue":e[8]||(e[8]=a=>s.value.passwordExpireDays=a),min:0,disabled:!s.value.passwordExpiration},null,8,["modelValue","disabled"])]),_:1}),l(n,{label:"閒置自動登出"},{default:t(()=>[l(Re,{modelValue:s.value.sessionTimeout,"onUpdate:modelValue":e[9]||(e[9]=a=>s.value.sessionTimeout=a),min:5,max:120,step:5,"show-input":""},null,8,["modelValue"])]),_:1}),l(n,{label:"異常登入通知"},{default:t(()=>[l(w,{modelValue:s.value.loginAlert,"onUpdate:modelValue":e[10]||(e[10]=a=>s.value.loginAlert=a),"active-text":"啟用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(n,{label:"維運通知人"},{default:t(()=>[l(E,{modelValue:s.value.maintenanceContacts,"onUpdate:modelValue":e[11]||(e[11]=a=>s.value.maintenanceContacts=a),multiple:"",placeholder:"選擇人員"},{default:t(()=>[(S(),R(F,null,I(pe,a=>l(M,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,null,{default:t(()=>[l(r,{type:"primary",onClick:ge},{default:t(()=>e[46]||(e[46]=[o("儲存安全設定")])),_:1})]),_:1})]),_:1},8,["model"]),l(B,{"content-position":"left"},{default:t(()=>e[47]||(e[47]=[o("IP 限制")])),_:1}),V("div",De,[e[49]||(e[49]=V("span",{class:"hint"},"僅允許表列來源連線後台",-1)),l(r,{type:"primary",onClick:e[12]||(e[12]=a=>ee())},{default:t(()=>e[48]||(e[48]=[o("新增 IP")])),_:1})]),l(L,{data:U.value,border:""},{default:t(()=>[l(y,{prop:"label",label:"辨識名稱",width:"180"}),l(y,{prop:"address",label:"IP / 網段"}),l(y,{label:"操作",width:"180"},{default:t(({$index:a})=>[l(r,{size:"small",onClick:g=>ee(a)},{default:t(()=>e[50]||(e[50]=[o("編輯")])),_:2},1032,["onClick"]),l(r,{size:"small",type:"danger",onClick:g=>_e(a)},{default:t(()=>e[51]||(e[51]=[o("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1}),l($,{label:"自訂欄位",name:"custom-field"},{default:t(()=>[V("div",Oe,[l(ne,{title:"可用於員工資料或流程表單的額外欄位",type:"info","show-icon":"",class:"info-alert"}),V("div",$e,[l(r,{type:"primary",onClick:e[13]||(e[13]=a=>le())},{default:t(()=>e[52]||(e[52]=[o("新增欄位")])),_:1})]),l(L,{data:T.value,border:""},{default:t(()=>[l(y,{prop:"label",label:"欄位名稱",width:"180"}),l(y,{prop:"fieldKey",label:"識別代碼",width:"200"}),l(y,{prop:"type",label:"欄位型別",width:"120"},{default:t(({row:a})=>[o(b(G(me)[a.type]||a.type),1)]),_:1}),l(y,{prop:"required",label:"必填",width:"100"},{default:t(({row:a})=>[o(b(a.required?"是":"否"),1)]),_:1}),l(y,{prop:"description",label:"使用說明"}),l(y,{label:"操作",width:"180"},{default:t(({$index:a})=>[l(r,{size:"small",onClick:g=>le(a)},{default:t(()=>e[53]||(e[53]=[o("編輯")])),_:2},1032,["onClick"]),l(r,{size:"small",type:"danger",onClick:g=>we(a)},{default:t(()=>e[54]||(e[54]=[o("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1}),l($,{label:"整合與同步",name:"integration"},{default:t(()=>[V("div",ze,[l(K,{model:c.value,"label-width":"200px",class:"form-layout"},{default:t(()=>[l(n,{label:"預設整合廠商"},{default:t(()=>[l(E,{modelValue:c.value.vendor,"onUpdate:modelValue":e[14]||(e[14]=a=>c.value.vendor=a),placeholder:"選擇廠商"},{default:t(()=>[(S(),R(F,null,I(fe,a=>l(M,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"啟用排班同步"},{default:t(()=>[l(w,{modelValue:c.value.syncSchedule,"onUpdate:modelValue":e[15]||(e[15]=a=>c.value.syncSchedule=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"啟用薪資系統同步"},{default:t(()=>[l(w,{modelValue:c.value.syncPayroll,"onUpdate:modelValue":e[16]||(e[16]=a=>c.value.syncPayroll=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Webhook URL"},{default:t(()=>[l(k,{modelValue:c.value.webhookUrl,"onUpdate:modelValue":e[17]||(e[17]=a=>c.value.webhookUrl=a),placeholder:"https://example.com/webhook"},null,8,["modelValue"])]),_:1}),l(n,{label:"發生錯誤自動重試"},{default:t(()=>[l(w,{modelValue:c.value.autoRetry,"onUpdate:modelValue":e[18]||(e[18]=a=>c.value.autoRetry=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"最後一次同步"},{default:t(()=>[l(ie,{type:"info"},{default:t(()=>[o(b(q.value.lastSync),1)]),_:1})]),_:1}),l(n,null,{default:t(()=>[l(r,{type:"primary",onClick:ke},{default:t(()=>e[55]||(e[55]=[o("儲存整合設定")])),_:1}),l(r,{onClick:xe},{default:t(()=>e[56]||(e[56]=[o("測試連線")])),_:1})]),_:1})]),_:1},8,["model"]),l(ne,{title:`最近同步狀態：${q.value.statusMessage}`,type:"success","show-icon":"",class:"status-alert"},null,8,["title"])])]),_:1}),l($,{label:"自動化規則",name:"automation"},{default:t(()=>[V("div",He,[V("div",je,[l(r,{type:"primary",onClick:e[19]||(e[19]=a=>ae())},{default:t(()=>e[57]||(e[57]=[o("新增規則")])),_:1})]),l(L,{data:x.value,border:""},{default:t(()=>[l(y,{prop:"name",label:"規則名稱",width:"220"}),l(y,{prop:"trigger",label:"觸發條件"}),l(y,{prop:"status",label:"狀態",width:"120"},{default:t(({row:a})=>[l(ie,{type:a.status==="enabled"?"success":"info"},{default:t(()=>[o(b(a.status==="enabled"?"啟用":"停用"),1)]),_:2},1032,["type"])]),_:1}),l(y,{label:"執行動作",width:"220"},{default:t(({row:a})=>[o(b(a.actions.map(g=>G(ve)[g]||g).join("、")),1)]),_:1}),l(y,{label:"通知對象",width:"180"},{default:t(({row:a})=>[o(b(a.notifyTargets.map(g=>G(ye)[g]||g).join("、")),1)]),_:1}),l(y,{label:"操作",width:"220"},{default:t(({row:a,$index:g})=>[l(r,{size:"small",onClick:se=>Te(g)},{default:t(()=>[o(b(a.status==="enabled"?"停用":"啟用"),1)]),_:2},1032,["onClick"]),l(r,{size:"small",onClick:se=>ae(g)},{default:t(()=>e[58]||(e[58]=[o("編輯")])),_:2},1032,["onClick"]),l(r,{size:"small",type:"danger",onClick:se=>Ue(g)},{default:t(()=>e[59]||(e[59]=[o("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})]),_:1},8,["modelValue"]),l(J,{modelValue:A.value,"onUpdate:modelValue":e[24]||(e[24]=a=>A.value=a),title:"IP 白名單",width:"420px"},{footer:t(()=>[V("span",Ne,[l(r,{onClick:e[23]||(e[23]=a=>A.value=!1)},{default:t(()=>e[60]||(e[60]=[o("取消")])),_:1}),l(r,{type:"primary",onClick:Ve},{default:t(()=>e[61]||(e[61]=[o("儲存")])),_:1})])]),default:t(()=>[l(K,{model:_.value,"label-width":"100px"},{default:t(()=>[l(n,{label:"名稱"},{default:t(()=>[l(k,{modelValue:_.value.label,"onUpdate:modelValue":e[21]||(e[21]=a=>_.value.label=a),placeholder:"如：總部辦公室"},null,8,["modelValue"])]),_:1}),l(n,{label:"IP/網段"},{default:t(()=>[l(k,{modelValue:_.value.address,"onUpdate:modelValue":e[22]||(e[22]=a=>_.value.address=a),placeholder:"192.168.1.1 或 203.0.113.0/24"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(J,{modelValue:P.value,"onUpdate:modelValue":e[31]||(e[31]=a=>P.value=a),title:"自訂欄位",width:"480px"},{footer:t(()=>[V("span",We,[l(r,{onClick:e[30]||(e[30]=a=>P.value=!1)},{default:t(()=>e[62]||(e[62]=[o("取消")])),_:1}),l(r,{type:"primary",onClick:Ce},{default:t(()=>e[63]||(e[63]=[o("儲存")])),_:1})])]),default:t(()=>[l(K,{model:m.value,"label-width":"100px"},{default:t(()=>[l(n,{label:"欄位名稱"},{default:t(()=>[l(k,{modelValue:m.value.label,"onUpdate:modelValue":e[25]||(e[25]=a=>m.value.label=a),placeholder:"顯示名稱"},null,8,["modelValue"])]),_:1}),l(n,{label:"識別代碼"},{default:t(()=>[l(k,{modelValue:m.value.fieldKey,"onUpdate:modelValue":e[26]||(e[26]=a=>m.value.fieldKey=a),placeholder:"英數字代碼"},null,8,["modelValue"])]),_:1}),l(n,{label:"欄位型別"},{default:t(()=>[l(E,{modelValue:m.value.type,"onUpdate:modelValue":e[27]||(e[27]=a=>m.value.type=a)},{default:t(()=>[(S(),R(F,null,I(X,a=>l(M,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"是否必填"},{default:t(()=>[l(w,{modelValue:m.value.required,"onUpdate:modelValue":e[28]||(e[28]=a=>m.value.required=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"使用說明"},{default:t(()=>[l(k,{modelValue:m.value.description,"onUpdate:modelValue":e[29]||(e[29]=a=>m.value.description=a),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(J,{modelValue:D.value,"onUpdate:modelValue":e[39]||(e[39]=a=>D.value=a),title:"自動化規則",width:"520px"},{footer:t(()=>[V("span",Be,[l(r,{onClick:e[38]||(e[38]=a=>D.value=!1)},{default:t(()=>e[66]||(e[66]=[o("取消")])),_:1}),l(r,{type:"primary",onClick:Se},{default:t(()=>e[67]||(e[67]=[o("儲存")])),_:1})])]),default:t(()=>[l(K,{model:p.value,"label-width":"120px"},{default:t(()=>[l(n,{label:"規則名稱"},{default:t(()=>[l(k,{modelValue:p.value.name,"onUpdate:modelValue":e[32]||(e[32]=a=>p.value.name=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"觸發條件"},{default:t(()=>[l(k,{modelValue:p.value.trigger,"onUpdate:modelValue":e[33]||(e[33]=a=>p.value.trigger=a),placeholder:"例如：建立新員工資料"},null,8,["modelValue"])]),_:1}),l(n,{label:"通知對象"},{default:t(()=>[l(E,{modelValue:p.value.notifyTargets,"onUpdate:modelValue":e[34]||(e[34]=a=>p.value.notifyTargets=a),multiple:""},{default:t(()=>[(S(),R(F,null,I(h,a=>l(M,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"執行動作"},{default:t(()=>[l(E,{modelValue:p.value.actions,"onUpdate:modelValue":e[35]||(e[35]=a=>p.value.actions=a),multiple:""},{default:t(()=>[(S(),R(F,null,I(Z,a=>l(M,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"狀態"},{default:t(()=>[l(ue,{modelValue:p.value.status,"onUpdate:modelValue":e[36]||(e[36]=a=>p.value.status=a)},{default:t(()=>[l(O,{label:"enabled"},{default:t(()=>e[64]||(e[64]=[o("啟用")])),_:1}),l(O,{label:"disabled"},{default:t(()=>e[65]||(e[65]=[o("停用")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"備註"},{default:t(()=>[l(k,{modelValue:p.value.description,"onUpdate:modelValue":e[37]||(e[37]=a=>p.value.description=a),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},Je=Ee(Le,[["__scopeId","data-v-d4494854"]]),Xe={__name:"OtherControlSettingView",setup(de){return(H,i)=>(S(),Fe(Je))}};export{Xe as default};
