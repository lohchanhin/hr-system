import{_ as B,i as L,r as v,j as N,k as h,w as e,e as o,u as R,o as r,d as t,b as n,n as g,g as T,c as V,F as z,l as F,h as j,t as D,m as E}from"./index-D6rWx2Du.js";import{u as H}from"./menu-CCaJv1UL.js";import"./api-CHawSdM-.js";const P={class:"header-left"},$={class:"header-right"},q={class:"sidebar-content"},A={class:"menu-text"},G={class:"main-content"},J={__name:"ModernLayout",setup(K){const _=R(),c=H(),{items:d}=L(c),m=v(""),s=v(!1);N(async()=>{d.value.length===0&&await c.fetchMenu()});function y(u){m.value=u,_.push({name:u})}function k(){s.value=!s.value}function x(){E(),c.setMenu([]),localStorage.removeItem("role"),localStorage.removeItem("employeeId"),_.push("/")}return(u,l)=>{const i=o("el-icon"),f=o("el-button"),b=o("el-header"),C=o("el-menu-item"),w=o("el-menu"),M=o("el-aside"),I=o("router-view"),S=o("el-main"),p=o("el-container");return r(),h(p,{class:"modern-layout"},{default:e(()=>[t(b,{class:"layout-header"},{default:e(()=>[n("div",P,[t(f,{link:"",onClick:k,class:"collapse-btn"},{default:e(()=>[t(i,{size:"20"},{default:e(()=>[n("i",{class:g(s.value?"el-icon-menu":"el-icon-close")},null,2)]),_:1})]),_:1}),l[0]||(l[0]=n("h1",{class:"system-title"},"HR 管理系統",-1))]),n("div",$,[t(f,{type:"primary",onClick:x,class:"logout-btn"},{default:e(()=>[t(i,null,{default:e(()=>l[1]||(l[1]=[n("i",{class:"el-icon-switch-button"},null,-1)])),_:1}),l[2]||(l[2]=T(" 登出 "))]),_:1})])]),_:1}),t(p,null,{default:e(()=>[t(M,{class:"layout-aside",width:s.value?"64px":"280px"},{default:e(()=>[n("div",q,[t(w,{"default-active":m.value,collapse:s.value,class:"sidebar-menu","background-color":"#164e63","text-color":"#ecfeff","active-text-color":"#ffffff"},{default:e(()=>[(r(!0),V(z,null,F(j(d),a=>(r(),h(C,{key:a.name,index:a.name,onClick:O=>y(a.name),class:"menu-item"},{default:e(()=>[t(i,null,{default:e(()=>[n("i",{class:g(a.icon)},null,2)]),_:2},1024),n("span",A,D(a.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active","collapse"])])]),_:1},8,["width"]),t(S,{class:"layout-main"},{default:e(()=>[n("div",G,[t(I)])]),_:1})]),_:1})]),_:1})}}},X=B(J,[["__scopeId","data-v-787d6d3c"]]);export{X as default};
