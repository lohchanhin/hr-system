import{_ as P,P as B,c as n,b as t,F as c,m as i,h as d,u as S,o,t as f}from"./index-BclQli2C.js";const I={class:"preview-page"},M={__name:"PreviewMonth",setup(x){const l=JSON.parse(sessionStorage.getItem("schedulePreview")||"{}"),v=l.scheduleMap||{},y=l.employees||[],h=l.days||[],b=l.shifts||[],u=S(),p=()=>{sessionStorage.removeItem("schedulePreview")},k=()=>{if(p(),typeof window<"u"){const{history:a}=window;if(a){if(a.length>1){u.back();return}const e=a.state;if(e&&e.back!=null){u.back();return}}}u.push({name:"Schedule"})};B(()=>{p()});function w(a,e){var _,m;const s=(m=(_=v[a])==null?void 0:_[e])==null?void 0:m.shiftId,r=b.find(g=>g._id===s);return r?r.code:""}return(a,e)=>(o(),n("div",I,[t("div",{class:"preview-header"},[t("button",{type:"button",class:"back-button",onClick:k},"← 返回排班"),e[0]||(e[0]=t("h2",null,"月表預覽",-1))]),t("table",null,[t("thead",null,[t("tr",null,[e[1]||(e[1]=t("th",null,"員工",-1)),(o(!0),n(c,null,i(d(h),s=>(o(),n("th",{key:s.date},f(s.label),1))),128))])]),t("tbody",null,[(o(!0),n(c,null,i(d(y),s=>(o(),n("tr",{key:s._id},[t("td",null,f(s.name),1),(o(!0),n(c,null,i(d(h),r=>(o(),n("td",{key:r.date},f(w(s._id,r.date)),1))),128))]))),128))])])]))}},F=P(M,[["__scopeId","data-v-0fc43f43"]]);export{F as default};
