import{r as T,e as p,k as C,o as r,w as n,b as t,d as a,g as k,_ as ue,u as Ne,j as Ce,x as P,q as Ie,t as U,c as v,y as Q,F as _,l as V,E as X}from"./index-D6rWx2Du.js";import{a as N}from"./api-CHawSdM-.js";const Oe={class:"tab-content"},ze={__name:"SystemOrgSetting",setup(Z){const y=T({companyName:"示範股份有限公司",companyCode:"ABC123",phone:"02-1234-5678",address:"台北市某某路 100 號",enableMultiLang:!1});function R(){console.log("儲存系統/機構資料:",y.value),alert("已儲存「系統/機構設定」")}return(E,b)=>{const A=p("el-input"),S=p("el-form-item"),q=p("el-switch"),x=p("el-button"),j=p("el-form"),G=p("el-tab-pane");return r(),C(G,{label:"系統基本資料",name:"systemOrg"},{default:n(()=>[t("div",Oe,[a(j,{model:y.value,"label-width":"140px"},{default:n(()=>[a(S,{label:"機構(公司)名稱"},{default:n(()=>[a(A,{modelValue:y.value.companyName,"onUpdate:modelValue":b[0]||(b[0]=w=>y.value.companyName=w),placeholder:"輸入公司名稱"},null,8,["modelValue"])]),_:1}),a(S,{label:"機構代碼"},{default:n(()=>[a(A,{modelValue:y.value.companyCode,"onUpdate:modelValue":b[1]||(b[1]=w=>y.value.companyCode=w),placeholder:"如：ABCD01"},null,8,["modelValue"])]),_:1}),a(S,{label:"聯絡電話"},{default:n(()=>[a(A,{modelValue:y.value.phone,"onUpdate:modelValue":b[2]||(b[2]=w=>y.value.phone=w)},null,8,["modelValue"])]),_:1}),a(S,{label:"地址"},{default:n(()=>[a(A,{modelValue:y.value.address,"onUpdate:modelValue":b[3]||(b[3]=w=>y.value.address=w)},null,8,["modelValue"])]),_:1}),a(S,{label:"系統參數 (示範)"},{default:n(()=>[a(q,{modelValue:y.value.enableMultiLang,"onUpdate:modelValue":b[4]||(b[4]=w=>y.value.enableMultiLang=w),"active-text":"多語系","inactive-text":"單語系"},null,8,["modelValue"]),b[5]||(b[5]=t("small",null,"可在此加入更多參數(時區、民國年/西元年…)",-1))]),_:1}),a(S,null,{default:n(()=>[a(x,{type:"primary",onClick:R},{default:n(()=>b[6]||(b[6]=[k("儲存系統/機構設定")])),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})}}},Me={class:"employee-management"},Re={class:"page-header"},xe={class:"header-stats"},Be={class:"stat-item"},$e={class:"stat-number"},Pe={class:"stat-item"},qe={class:"stat-number"},je={class:"content-header"},Ge={class:"table-container"},Fe={class:"employee-info"},Ye={class:"employee-details"},He={class:"employee-name"},Je={class:"employee-id"},We={class:"department-info"},Ke={key:1,class:"no-data"},Qe={class:"contact-info"},Xe={key:0,class:"contact-item"},Ze={key:1,class:"contact-item"},el={key:2,class:"no-data"},ll={class:"action-buttons"},al={class:"tab-content"},tl={class:"form-section"},ol={class:"form-group"},nl={class:"form-group"},sl={class:"role-option"},ul={class:"role-name"},dl={class:"role-desc"},rl={class:"tab-content"},il={class:"form-section"},ml={class:"form-group"},pl={class:"tab-content"},vl={class:"form-section"},fl={class:"form-group"},cl={class:"form-row"},bl={class:"form-row"},_l={class:"form-row"},Vl={class:"form-row"},yl={class:"form-group"},gl={class:"form-row"},Ul={class:"form-row"},kl={class:"tab-content"},wl={class:"form-section"},hl={class:"form-group"},Tl={class:"form-row"},Al={class:"form-row"},Sl={class:"form-group"},Dl={class:"form-row"},El={class:"form-row"},Ll={class:"form-group"},Nl={class:"form-row"},Cl={class:"form-row"},Il={class:"tab-content"},Ol={class:"form-section"},zl={class:"form-group"},Ml={class:"form-row"},Rl={class:"form-row"},xl={class:"form-group"},Bl={class:"emergency-contact"},$l={class:"form-row"},Pl={class:"form-row"},ql={class:"emergency-contact"},jl={class:"form-row"},Gl={class:"form-row"},Fl={class:"form-group"},Yl={class:"experience-list"},Hl={class:"experience-header"},Jl={class:"experience-title"},Wl={class:"form-row"},Kl={class:"form-row"},Ql={class:"tab-content"},Xl={class:"form-section"},Zl={class:"form-group"},ea={class:"form-row"},la={class:"form-group"},aa={class:"account-section"},ta={class:"form-row"},oa={class:"account-section"},na={class:"form-row"},sa={class:"dialog-footer"},ua={__name:"EmployeeManagement",setup(Z){const y=Ne(),R=[{label:"管理員",value:"admin"},{label:"主管",value:"supervisor"},{label:"員工",value:"employee"}],E=["一級","二級","三級"],b=["護理師","照顧服務員","社工師","物理治療師","職能治療師","行政人員"],A=["護理師","社工師","物理治療師","職能治療師","醫師"],S=["中文","台語","客語","英語","馬來語"],q=["博士","碩士","大學","專科","高中職","國中以下"],x=["父","母","配偶","子","女","兄","姊","弟","妹","其他"],j=["月薪","日薪","時薪"],G=["填報","覆核","審核","核定"],w=["L1","L2","L3","L4"],de=["資深","新人","外聘","志工"],re=["A","B","O","AB","HR"],F=T("account"),D=T([]),B=T([]),Y=T([]),ee=T([]),z=T(!1);let H=null,J="";function ie(u){const l=B.value.find(d=>d._id===u);return l?`${l.name}(${l.code})`:u}function $(u){return u.status===401?(X.error("登入逾時，請重新登入"),y.push("/manager/login"),!0):!1}async function le(){const u=await N("/api/departments");$(u)||u.ok&&(B.value=await u.json())}async function W(u=""){const l=u?`/api/sub-departments?department=${u}`:"/api/sub-departments",d=await N(l);$(d)||d.ok&&(Y.value=await d.json())}async function me(){const u=await N("/api/organizations");$(u)||u.ok&&(ee.value=await u.json())}async function ae(){const u=await N("/api/employees");if(!$(u)&&u.ok){const l=await u.json();D.value=l.map(d=>{var c,g,I;return{...d,organization:((c=d.organization)==null?void 0:c._id)||d.organization||"",department:((g=d.department)==null?void 0:g._id)||d.department||"",subDepartment:((I=d.subDepartment)==null?void 0:I._id)||d.subDepartment||""}})}}Ce(()=>{le(),ae(),me(),W()});const K={username:"",password:"",role:"employee",permissionGrade:"",signRole:"",signTags:[],signLevel:"",employeeNo:"",name:"",gender:"",birthday:"",idNumber:"",birthplace:"",bloodType:"",languages:[],disabilityLevel:"",identityCategory:[],maritalStatus:"",dependents:0,email:"",phone:"",landline:"",householdAddress:"",contactAddress:"",lineId:"",photoList:[],organization:"",department:"",supervisor:null,subDepartment:"",title:"",practiceTitle:"",isPartTime:!1,isClocking:!1,employmentStatus:"",probationDays:"",height:"",weight:"",medicalBloodType:"",educationLevel:"",schoolName:"",major:"",graduationStatus:"",graduationYear:"",serviceType:"",militaryBranch:"",militaryRank:"",dischargeYear:"",emergency1:{name:"",relation:"",phone1:"",phone2:""},emergency2:{name:"",relation:"",phone1:"",phone2:""},keywords:"",experiences:[],licenses:[],trainings:[],hireDate:"",appointDate:"",resignDate:"",dismissDate:"",reAppointDate:"",reDismissDate:"",employmentNote:"",salaryType:"",salaryAmount:0,laborPensionSelf:0,employeeAdvance:0,salaryAccountA:{bank:"",acct:""},salaryAccountB:{bank:"",acct:""},salaryItems:[]},o=T({...K}),te=T(),pe={username:[{required:!0,message:"請輸入登入帳號",trigger:"blur"}],password:[{required:!0,message:"請輸入登入密碼",trigger:"blur"}],role:[{required:!0,message:"請選擇系統權限",trigger:"change"}],organization:[{required:!0,message:"請選擇所屬機構",trigger:"change"}],department:[{required:!0,message:"請選擇所屬部門",trigger:"change"}],name:[{required:!0,message:"請輸入員工姓名",trigger:"blur"}],email:[{required:!0,message:"請輸入有效 Email",type:"email",trigger:["blur","change"]}]},ve=P(()=>o.value.organization?B.value.filter(u=>u.organization===o.value.organization):[]),fe=P(()=>o.value.department?Y.value.filter(u=>u.department===o.value.department):[]),ce=P(()=>o.value.organization&&o.value.department?D.value.filter(u=>u.role==="supervisor"&&u.organization===o.value.organization&&u.department===o.value.department):[]);Ie(()=>o.value.department,async u=>{u?await W(u):Y.value=[],o.value.subDepartment=""});async function oe(u=null){var l,d;if(u!==null){H=u;const c=D.value[u];J=c._id||"",o.value={...structuredClone(K),...c,password:"",photoList:[]},o.value.department=((l=c.department)==null?void 0:l._id)||c.department||"",o.value.subDepartment=((d=c.subDepartment)==null?void 0:d._id)||c.subDepartment||""}else H=null,J="",F.value="account",o.value={...structuredClone(K)};if(await le(),o.value.department&&!/^[0-9a-fA-F]{24}$/.test(o.value.department)){const c=B.value.find(g=>g.name===o.value.department);c&&(o.value.department=c._id)}await W(o.value.department),z.value=!0}async function be(){var g;if(!await((g=te.value)==null?void 0:g.validate().catch(()=>!1)))return;const d={...o.value};(d.supervisor===""||d.supervisor===null)&&delete d.supervisor;let c;H===null?c=await N("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}):c=await N(`/api/employees/${J}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),c&&c.ok?(await ae(),z.value=!1,X.success("儲存成功")):X.error("儲存失敗")}async function _e(u){const l=D.value[u];(await N(`/api/employees/${l._id}`,{method:"DELETE"})).ok&&D.value.splice(u,1)}function Ve(){o.value.experiences.push({unit:"",title:"",start:"",end:""})}function ye(u){o.value.experiences.splice(u,1)}const ge=P(()=>D.value.filter(u=>u.employmentStatus==="正職員工"||u.employmentStatus==="試用期員工").length);function Ue(u){return{admin:"danger",supervisor:"warning",employee:"success"}[u]||"info"}function ke(u){return{admin:"管理員",supervisor:"主管",employee:"員工"}[u]||u}function we(u){return{admin:"",supervisor:"",employee:""}[u]||""}function he(u){return{正職員工:"success",試用期員工:"warning",離職員工:"danger",留職停薪:"info"}[u]||"default"}return(u,l)=>{const d=p("el-button"),c=p("el-avatar"),g=p("el-table-column"),I=p("el-tag"),Te=p("el-table"),m=p("el-input"),s=p("el-form-item"),Ae=p("el-radio"),Se=p("el-radio-group"),i=p("el-option"),f=p("el-select"),L=p("el-tab-pane"),M=p("el-date-picker"),ne=p("el-input-number"),se=p("el-switch"),De=p("el-tabs"),Ee=p("el-form"),Le=p("el-dialog");return r(),C(L,{label:"員工管理",name:"employeeMgmt"},{default:n(()=>[t("div",Me,[t("div",Re,[l[59]||(l[59]=t("div",{class:"header-content"},[t("h1",{class:"page-title"},"員工管理系統"),t("p",{class:"page-description"},"管理員工資料、權限設定、部門分配和薪資配置")],-1)),t("div",xe,[t("div",Be,[t("div",$e,U(D.value.length),1),l[57]||(l[57]=t("div",{class:"stat-label"},"總員工數",-1))]),t("div",Pe,[t("div",qe,U(ge.value),1),l[58]||(l[58]=t("div",{class:"stat-label"},"在職員工",-1))])])]),t("div",je,[l[61]||(l[61]=t("h2",{class:"section-title"},"員工列表",-1)),a(d,{type:"primary",onClick:l[0]||(l[0]=e=>oe()),class:"add-btn"},{default:n(()=>l[60]||(l[60]=[t("i",{class:"el-icon-plus"},null,-1),k(" 新增員工 ")])),_:1})]),t("div",Ge,[a(Te,{data:D.value,class:"employee-table","header-cell-style":{background:"#f8fafc",color:"#475569",fontWeight:"600"},"row-style":{height:"64px"}},{default:n(()=>[a(g,{prop:"name",label:"員工資訊","min-width":"200"},{default:n(({row:e})=>[t("div",Fe,[a(c,{size:40,class:"employee-avatar"},{default:n(()=>[k(U(e.name?e.name.charAt(0):"N"),1)]),_:2},1024),t("div",Ye,[t("div",He,U(e.name||"未設定"),1),t("div",Je,U(e.employeeNo||"無編號"),1)])])]),_:1}),a(g,{label:"部門",width:"180"},{default:n(({row:e})=>[t("div",We,[l[62]||(l[62]=t("i",{class:"el-icon-s-grid dept-icon"},null,-1)),t("span",null,U(ie(e.department)),1)])]),_:1}),a(g,{prop:"title",label:"職稱",width:"150"},{default:n(({row:e})=>[e.title?(r(),C(I,{key:0,type:"info",class:"title-tag"},{default:n(()=>[k(U(e.title),1)]),_:2},1024)):(r(),v("span",Ke,"未設定"))]),_:1}),a(g,{prop:"role",label:"系統權限",width:"120"},{default:n(({row:e})=>[a(I,{type:Ue(e.role),class:"role-tag"},{default:n(()=>[k(U(ke(e.role)),1)]),_:2},1032,["type"])]),_:1}),a(g,{prop:"employmentStatus",label:"在職狀態",width:"130"},{default:n(({row:e})=>[a(I,{type:he(e.employmentStatus),class:"status-tag"},{default:n(()=>[k(U(e.employmentStatus||"未設定"),1)]),_:2},1032,["type"])]),_:1}),a(g,{label:"聯絡方式",width:"200"},{default:n(({row:e})=>[t("div",Qe,[e.email?(r(),v("div",Xe,[l[63]||(l[63]=t("i",{class:"el-icon-message"},null,-1)),t("span",null,U(e.email),1)])):Q("",!0),e.phone?(r(),v("div",Ze,[l[64]||(l[64]=t("i",{class:"el-icon-phone"},null,-1)),t("span",null,U(e.phone),1)])):Q("",!0),!e.email&&!e.phone?(r(),v("div",el," 無聯絡資訊 ")):Q("",!0)])]),_:1}),a(g,{label:"操作",width:"200",fixed:"right"},{default:n(({row:e,$index:O})=>[t("div",ll,[a(d,{type:"primary",size:"small",onClick:h=>oe(O),class:"edit-btn"},{default:n(()=>l[65]||(l[65]=[t("i",{class:"el-icon-edit"},null,-1),k(" 編輯 ")])),_:2},1032,["onClick"]),a(d,{type:"danger",size:"small",onClick:h=>_e(O),class:"delete-btn"},{default:n(()=>l[66]||(l[66]=[t("i",{class:"el-icon-delete"},null,-1),k(" 刪除 ")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])]),a(Le,{modelValue:z.value,"onUpdate:modelValue":l[56]||(l[56]=e=>z.value=e),title:"員工資料管理",width:"1200px",class:"employee-dialog","close-on-click-modal":!1},{footer:n(()=>[t("div",sa,[a(d,{onClick:l[55]||(l[55]=e=>z.value=!1),class:"cancel-btn"},{default:n(()=>l[92]||(l[92]=[k("取消")])),_:1}),a(d,{type:"primary",onClick:be,class:"save-btn"},{default:n(()=>l[93]||(l[93]=[t("i",{class:"el-icon-check"},null,-1),k(" 儲存員工資料 ")])),_:1})])]),default:n(()=>[a(Ee,{ref_key:"formRef",ref:te,model:o.value,rules:pe,"label-width":"140px",class:"employee-form"},{default:n(()=>[a(De,{modelValue:F.value,"onUpdate:modelValue":l[54]||(l[54]=e=>F.value=e),type:"border-card",class:"employee-tabs"},{default:n(()=>[a(L,{name:"account"},{label:n(()=>l[67]||(l[67]=[t("div",{class:"tab-label"},[t("i",{class:"el-icon-user"}),t("span",null,"帳號權限")],-1)])),default:n(()=>[t("div",al,[t("div",tl,[t("div",ol,[l[68]||(l[68]=t("h3",{class:"form-group-title"},"登入資訊",-1)),a(s,{label:"登入帳號",required:"",prop:"username"},{default:n(()=>[a(m,{modelValue:o.value.username,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value.username=e),placeholder:"請輸入登入帳號"},null,8,["modelValue"])]),_:1}),a(s,{label:"登入密碼",required:"",prop:"password"},{default:n(()=>[a(m,{modelValue:o.value.password,"onUpdate:modelValue":l[2]||(l[2]=e=>o.value.password=e),type:"password",placeholder:"請輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),t("div",nl,[l[69]||(l[69]=t("h3",{class:"form-group-title"},"權限設定",-1)),a(s,{label:"系統權限",required:"",prop:"role"},{default:n(()=>[a(Se,{modelValue:o.value.role,"onUpdate:modelValue":l[3]||(l[3]=e=>o.value.role=e),class:"role-radio-group"},{default:n(()=>[(r(),v(_,null,V(R,e=>a(Ae,{key:e.value,label:e.value,class:"role-radio"},{default:n(()=>[t("div",sl,[t("div",ul,U(e.label),1),t("div",dl,U(we(e.value)),1)])]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"權限職等"},{default:n(()=>[a(f,{modelValue:o.value.permissionGrade,"onUpdate:modelValue":l[4]||(l[4]=e=>o.value.permissionGrade=e),placeholder:"選擇職等"},{default:n(()=>[(r(),v(_,null,V(E,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])])])]),_:1}),a(L,{name:"approval"},{label:n(()=>l[70]||(l[70]=[t("div",{class:"tab-label"},[t("i",{class:"el-icon-document-checked"}),t("span",null,"簽核設定")],-1)])),default:n(()=>[t("div",rl,[t("div",il,[t("div",ml,[l[71]||(l[71]=t("h3",{class:"form-group-title"},"簽核權限",-1)),a(s,{label:"簽核角色"},{default:n(()=>[a(f,{modelValue:o.value.signRole,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value.signRole=e),placeholder:"選擇簽核角色"},{default:n(()=>[(r(),v(_,null,V(G,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"簽核層級"},{default:n(()=>[a(f,{modelValue:o.value.signLevel,"onUpdate:modelValue":l[6]||(l[6]=e=>o.value.signLevel=e),placeholder:"選擇層級"},{default:n(()=>[(r(),v(_,null,V(w,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"員工標籤"},{default:n(()=>[a(f,{modelValue:o.value.signTags,"onUpdate:modelValue":l[7]||(l[7]=e=>o.value.signTags=e),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"選擇或新增標籤",class:"tag-select"},{default:n(()=>[(r(),v(_,null,V(de,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])])])]),_:1}),a(L,{name:"personal"},{label:n(()=>l[72]||(l[72]=[t("div",{class:"tab-label"},[t("i",{class:"el-icon-user-solid"}),t("span",null,"個人資訊")],-1)])),default:n(()=>[t("div",pl,[t("div",vl,[t("div",fl,[l[73]||(l[73]=t("h3",{class:"form-group-title"},"基本資料",-1)),t("div",cl,[a(s,{label:"員工編號"},{default:n(()=>[a(m,{modelValue:o.value.employeeNo,"onUpdate:modelValue":l[8]||(l[8]=e=>o.value.employeeNo=e),placeholder:"請輸入員工編號"},null,8,["modelValue"])]),_:1}),a(s,{label:"員工姓名",required:"",prop:"name"},{default:n(()=>[a(m,{modelValue:o.value.name,"onUpdate:modelValue":l[9]||(l[9]=e=>o.value.name=e),placeholder:"請輸入員工姓名"},null,8,["modelValue"])]),_:1})]),t("div",bl,[a(s,{label:"性別"},{default:n(()=>[a(f,{modelValue:o.value.gender,"onUpdate:modelValue":l[10]||(l[10]=e=>o.value.gender=e),placeholder:"選擇性別"},{default:n(()=>[a(i,{label:"男",value:"M"}),a(i,{label:"女",value:"F"})]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"生日"},{default:n(()=>[a(M,{modelValue:o.value.birthday,"onUpdate:modelValue":l[11]||(l[11]=e=>o.value.birthday=e),type:"date",placeholder:"選擇生日"},null,8,["modelValue"])]),_:1})]),t("div",_l,[a(s,{label:"身分證號"},{default:n(()=>[a(m,{modelValue:o.value.idNumber,"onUpdate:modelValue":l[12]||(l[12]=e=>o.value.idNumber=e),placeholder:"請輸入身分證號"},null,8,["modelValue"])]),_:1}),a(s,{label:"出生地"},{default:n(()=>[a(m,{modelValue:o.value.birthplace,"onUpdate:modelValue":l[13]||(l[13]=e=>o.value.birthplace=e),placeholder:"請輸入出生地"},null,8,["modelValue"])]),_:1})]),t("div",Vl,[a(s,{label:"血型"},{default:n(()=>[a(f,{modelValue:o.value.bloodType,"onUpdate:modelValue":l[14]||(l[14]=e=>o.value.bloodType=e),placeholder:"選擇血型"},{default:n(()=>[(r(),v(_,null,V(re,e=>a(i,{key:e,value:e,label:e},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"婚姻狀態"},{default:n(()=>[a(f,{modelValue:o.value.maritalStatus,"onUpdate:modelValue":l[15]||(l[15]=e=>o.value.maritalStatus=e),placeholder:"選擇婚姻狀態"},{default:n(()=>[a(i,{label:"未婚",value:"未婚"}),a(i,{label:"已婚",value:"已婚"}),a(i,{label:"離婚",value:"離婚"}),a(i,{label:"喪偶",value:"喪偶"})]),_:1},8,["modelValue"])]),_:1})]),a(s,{label:"語言能力"},{default:n(()=>[a(f,{modelValue:o.value.languages,"onUpdate:modelValue":l[16]||(l[16]=e=>o.value.languages=e),multiple:"",filterable:"",placeholder:"選擇語言"},{default:n(()=>[(r(),v(_,null,V(S,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"扶養人數"},{default:n(()=>[a(ne,{modelValue:o.value.dependents,"onUpdate:modelValue":l[17]||(l[17]=e=>o.value.dependents=e),min:0},null,8,["modelValue"])]),_:1})]),t("div",yl,[l[74]||(l[74]=t("h3",{class:"form-group-title"},"聯絡資訊",-1)),t("div",gl,[a(s,{label:"Email",required:"",prop:"email"},{default:n(()=>[a(m,{modelValue:o.value.email,"onUpdate:modelValue":l[18]||(l[18]=e=>o.value.email=e),placeholder:"請輸入Email"},null,8,["modelValue"])]),_:1}),a(s,{label:"行動電話"},{default:n(()=>[a(m,{modelValue:o.value.phone,"onUpdate:modelValue":l[19]||(l[19]=e=>o.value.phone=e),placeholder:"請輸入行動電話"},null,8,["modelValue"])]),_:1})]),t("div",Ul,[a(s,{label:"市內電話"},{default:n(()=>[a(m,{modelValue:o.value.landline,"onUpdate:modelValue":l[20]||(l[20]=e=>o.value.landline=e),placeholder:"請輸入市內電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"LINE ID"},{default:n(()=>[a(m,{modelValue:o.value.lineId,"onUpdate:modelValue":l[21]||(l[21]=e=>o.value.lineId=e),placeholder:"請輸入LINE ID"},null,8,["modelValue"])]),_:1})]),a(s,{label:"戶籍地址"},{default:n(()=>[a(m,{modelValue:o.value.householdAddress,"onUpdate:modelValue":l[22]||(l[22]=e=>o.value.householdAddress=e),placeholder:"請輸入戶籍地址"},null,8,["modelValue"])]),_:1}),a(s,{label:"聯絡地址"},{default:n(()=>[a(m,{modelValue:o.value.contactAddress,"onUpdate:modelValue":l[23]||(l[23]=e=>o.value.contactAddress=e),placeholder:"請輸入聯絡地址"},null,8,["modelValue"])]),_:1})])])])]),_:1}),a(L,{name:"employment"},{label:n(()=>l[75]||(l[75]=[t("div",{class:"tab-label"},[t("i",{class:"el-icon-office-building"}),t("span",null,"任職資訊")],-1)])),default:n(()=>[t("div",kl,[t("div",wl,[t("div",hl,[l[76]||(l[76]=t("h3",{class:"form-group-title"},"組織架構",-1)),t("div",Tl,[a(s,{label:"所屬機構",required:"",prop:"organization"},{default:n(()=>[a(f,{modelValue:o.value.organization,"onUpdate:modelValue":l[24]||(l[24]=e=>o.value.organization=e),placeholder:"選擇機構"},{default:n(()=>[(r(!0),v(_,null,V(ee.value,e=>(r(),C(i,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"所屬部門",required:"",prop:"department"},{default:n(()=>[a(f,{modelValue:o.value.department,"onUpdate:modelValue":l[25]||(l[25]=e=>o.value.department=e),placeholder:"選擇部門"},{default:n(()=>[(r(!0),v(_,null,V(ve.value,e=>(r(),C(i,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),t("div",Al,[a(s,{label:"小單位"},{default:n(()=>[a(f,{modelValue:o.value.subDepartment,"onUpdate:modelValue":l[26]||(l[26]=e=>o.value.subDepartment=e),placeholder:"選擇小單位"},{default:n(()=>[(r(!0),v(_,null,V(fe.value,e=>(r(),C(i,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"直屬主管"},{default:n(()=>[a(f,{modelValue:o.value.supervisor,"onUpdate:modelValue":l[27]||(l[27]=e=>o.value.supervisor=e),placeholder:"選擇主管"},{default:n(()=>[(r(!0),v(_,null,V(ce.value,e=>(r(),C(i,{key:e._id,label:e.name,value:e._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),t("div",Sl,[l[77]||(l[77]=t("h3",{class:"form-group-title"},"職務資訊",-1)),t("div",Dl,[a(s,{label:"職稱"},{default:n(()=>[a(f,{modelValue:o.value.title,"onUpdate:modelValue":l[28]||(l[28]=e=>o.value.title=e),placeholder:"選擇職稱"},{default:n(()=>[(r(),v(_,null,V(b,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"執業職稱"},{default:n(()=>[a(f,{modelValue:o.value.practiceTitle,"onUpdate:modelValue":l[29]||(l[29]=e=>o.value.practiceTitle=e),placeholder:"選擇執業職稱"},{default:n(()=>[(r(),v(_,null,V(A,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),t("div",El,[a(s,{label:"兼職人員"},{default:n(()=>[a(se,{modelValue:o.value.isPartTime,"onUpdate:modelValue":l[30]||(l[30]=e=>o.value.isPartTime=e),"active-text":"是","inactive-text":"否","active-color":"#10b981"},null,8,["modelValue"])]),_:1}),a(s,{label:"需要打卡"},{default:n(()=>[a(se,{modelValue:o.value.isClocking,"onUpdate:modelValue":l[31]||(l[31]=e=>o.value.isClocking=e),"active-text":"是","inactive-text":"否","active-color":"#10b981"},null,8,["modelValue"])]),_:1})])]),t("div",Ll,[l[78]||(l[78]=t("h3",{class:"form-group-title"},"聘用狀態",-1)),t("div",Nl,[a(s,{label:"在職狀態"},{default:n(()=>[a(f,{modelValue:o.value.employmentStatus,"onUpdate:modelValue":l[32]||(l[32]=e=>o.value.employmentStatus=e),placeholder:"選擇狀態"},{default:n(()=>[a(i,{label:"正職員工",value:"正職員工"}),a(i,{label:"試用期員工",value:"試用期員工"}),a(i,{label:"離職員工",value:"離職員工"}),a(i,{label:"留職停薪",value:"留職停薪"})]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"試用期"},{default:n(()=>[a(f,{modelValue:o.value.probationDays,"onUpdate:modelValue":l[33]||(l[33]=e=>o.value.probationDays=e),placeholder:"選擇天數"},{default:n(()=>[a(i,{label:"無",value:""}),a(i,{label:"30天",value:"30"}),a(i,{label:"60天",value:"60"}),a(i,{label:"90天",value:"90"})]),_:1},8,["modelValue"])]),_:1})]),t("div",Cl,[a(s,{label:"到職日期"},{default:n(()=>[a(M,{modelValue:o.value.hireDate,"onUpdate:modelValue":l[34]||(l[34]=e=>o.value.hireDate=e),type:"date",placeholder:"選擇到職日期"},null,8,["modelValue"])]),_:1}),a(s,{label:"離職日期"},{default:n(()=>[a(M,{modelValue:o.value.resignDate,"onUpdate:modelValue":l[35]||(l[35]=e=>o.value.resignDate=e),type:"date",placeholder:"選擇離職日期"},null,8,["modelValue"])]),_:1})])])])])]),_:1}),a(L,{name:"more"},{label:n(()=>l[79]||(l[79]=[t("div",{class:"tab-label"},[t("i",{class:"el-icon-more"}),t("span",null,"更多資訊")],-1)])),default:n(()=>[t("div",Il,[t("div",Ol,[t("div",zl,[l[80]||(l[80]=t("h3",{class:"form-group-title"},"學歷資訊",-1)),t("div",Ml,[a(s,{label:"教育程度"},{default:n(()=>[a(f,{modelValue:o.value.educationLevel,"onUpdate:modelValue":l[36]||(l[36]=e=>o.value.educationLevel=e),placeholder:"選擇教育程度"},{default:n(()=>[(r(),v(_,null,V(q,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"學校名稱"},{default:n(()=>[a(m,{modelValue:o.value.schoolName,"onUpdate:modelValue":l[37]||(l[37]=e=>o.value.schoolName=e),placeholder:"請輸入學校名稱"},null,8,["modelValue"])]),_:1})]),t("div",Rl,[a(s,{label:"主修科系"},{default:n(()=>[a(m,{modelValue:o.value.major,"onUpdate:modelValue":l[38]||(l[38]=e=>o.value.major=e),placeholder:"請輸入主修科系"},null,8,["modelValue"])]),_:1}),a(s,{label:"畢業年度"},{default:n(()=>[a(m,{modelValue:o.value.graduationYear,"onUpdate:modelValue":l[39]||(l[39]=e=>o.value.graduationYear=e),placeholder:"請輸入畢業年度"},null,8,["modelValue"])]),_:1})])]),t("div",xl,[l[83]||(l[83]=t("h3",{class:"form-group-title"},"緊急聯絡人",-1)),t("div",Bl,[l[81]||(l[81]=t("h4",{class:"contact-subtitle"},"聯絡人一",-1)),t("div",$l,[a(s,{label:"姓名"},{default:n(()=>[a(m,{modelValue:o.value.emergency1.name,"onUpdate:modelValue":l[40]||(l[40]=e=>o.value.emergency1.name=e),placeholder:"請輸入姓名"},null,8,["modelValue"])]),_:1}),a(s,{label:"關係"},{default:n(()=>[a(f,{modelValue:o.value.emergency1.relation,"onUpdate:modelValue":l[41]||(l[41]=e=>o.value.emergency1.relation=e),placeholder:"選擇關係"},{default:n(()=>[(r(),v(_,null,V(x,e=>a(i,{key:"r1-"+e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),t("div",Pl,[a(s,{label:"電話一"},{default:n(()=>[a(m,{modelValue:o.value.emergency1.phone1,"onUpdate:modelValue":l[42]||(l[42]=e=>o.value.emergency1.phone1=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"電話二"},{default:n(()=>[a(m,{modelValue:o.value.emergency1.phone2,"onUpdate:modelValue":l[43]||(l[43]=e=>o.value.emergency1.phone2=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1})])]),t("div",ql,[l[82]||(l[82]=t("h4",{class:"contact-subtitle"},"聯絡人二",-1)),t("div",jl,[a(s,{label:"姓名"},{default:n(()=>[a(m,{modelValue:o.value.emergency2.name,"onUpdate:modelValue":l[44]||(l[44]=e=>o.value.emergency2.name=e),placeholder:"請輸入姓名"},null,8,["modelValue"])]),_:1}),a(s,{label:"關係"},{default:n(()=>[a(f,{modelValue:o.value.emergency2.relation,"onUpdate:modelValue":l[45]||(l[45]=e=>o.value.emergency2.relation=e),placeholder:"選擇關係"},{default:n(()=>[(r(),v(_,null,V(x,e=>a(i,{key:"r2-"+e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),t("div",Gl,[a(s,{label:"電話一"},{default:n(()=>[a(m,{modelValue:o.value.emergency2.phone1,"onUpdate:modelValue":l[46]||(l[46]=e=>o.value.emergency2.phone1=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"電話二"},{default:n(()=>[a(m,{modelValue:o.value.emergency2.phone2,"onUpdate:modelValue":l[47]||(l[47]=e=>o.value.emergency2.phone2=e),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1})])])]),t("div",Fl,[l[86]||(l[86]=t("h3",{class:"form-group-title"},"工作經歷",-1)),t("div",Yl,[(r(!0),v(_,null,V(o.value.experiences,(e,O)=>(r(),v("div",{key:O,class:"experience-item"},[t("div",Hl,[t("h4",Jl,"經歷 "+U(O+1),1),a(d,{type:"danger",size:"small",onClick:h=>ye(O),class:"remove-btn"},{default:n(()=>l[84]||(l[84]=[t("i",{class:"el-icon-delete"},null,-1),k(" 刪除 ")])),_:2},1032,["onClick"])]),t("div",Wl,[a(s,{label:"單位名稱"},{default:n(()=>[a(m,{modelValue:e.unit,"onUpdate:modelValue":h=>e.unit=h,placeholder:"請輸入單位名稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"職稱"},{default:n(()=>[a(m,{modelValue:e.title,"onUpdate:modelValue":h=>e.title=h,placeholder:"請輸入職稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),t("div",Kl,[a(s,{label:"到職年月"},{default:n(()=>[a(M,{modelValue:e.start,"onUpdate:modelValue":h=>e.start=h,type:"month",placeholder:"選擇到職年月"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"離職年月"},{default:n(()=>[a(M,{modelValue:e.end,"onUpdate:modelValue":h=>e.end=h,type:"month",placeholder:"選擇離職年月"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]))),128))]),a(d,{type:"primary",onClick:Ve,class:"add-item-btn"},{default:n(()=>l[85]||(l[85]=[t("i",{class:"el-icon-plus"},null,-1),k(" 新增經歷 ")])),_:1})])])])]),_:1}),a(L,{name:"salary"},{label:n(()=>l[87]||(l[87]=[t("div",{class:"tab-label"},[t("i",{class:"el-icon-money"}),t("span",null,"薪資設定")],-1)])),default:n(()=>[t("div",Ql,[t("div",Xl,[t("div",Zl,[l[88]||(l[88]=t("h3",{class:"form-group-title"},"薪資資訊",-1)),t("div",ea,[a(s,{label:"薪資類別"},{default:n(()=>[a(f,{modelValue:o.value.salaryType,"onUpdate:modelValue":l[48]||(l[48]=e=>o.value.salaryType=e),placeholder:"選擇類別"},{default:n(()=>[(r(),v(_,null,V(j,e=>a(i,{key:e,label:e,value:e},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"薪資金額"},{default:n(()=>[a(ne,{modelValue:o.value.salaryAmount,"onUpdate:modelValue":l[49]||(l[49]=e=>o.value.salaryAmount=e),min:0,step:1e3,formatter:e=>`$ ${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,"")},null,8,["modelValue","formatter","parser"])]),_:1})])]),t("div",la,[l[91]||(l[91]=t("h3",{class:"form-group-title"},"銀行帳戶",-1)),t("div",aa,[l[89]||(l[89]=t("h4",{class:"account-subtitle"},"薪資帳戶 A",-1)),t("div",ta,[a(s,{label:"銀行代碼/名稱"},{default:n(()=>[a(m,{modelValue:o.value.salaryAccountA.bank,"onUpdate:modelValue":l[50]||(l[50]=e=>o.value.salaryAccountA.bank=e),placeholder:"請輸入銀行資訊"},null,8,["modelValue"])]),_:1}),a(s,{label:"帳號"},{default:n(()=>[a(m,{modelValue:o.value.salaryAccountA.acct,"onUpdate:modelValue":l[51]||(l[51]=e=>o.value.salaryAccountA.acct=e),placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1})])]),t("div",oa,[l[90]||(l[90]=t("h4",{class:"account-subtitle"},"薪資帳戶 B",-1)),t("div",na,[a(s,{label:"銀行代碼/名稱"},{default:n(()=>[a(m,{modelValue:o.value.salaryAccountB.bank,"onUpdate:modelValue":l[52]||(l[52]=e=>o.value.salaryAccountB.bank=e),placeholder:"請輸入銀行資訊"},null,8,["modelValue"])]),_:1}),a(s,{label:"帳號"},{default:n(()=>[a(m,{modelValue:o.value.salaryAccountB.acct,"onUpdate:modelValue":l[53]||(l[53]=e=>o.value.salaryAccountB.acct=e),placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1})])])])])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["model"])]),_:1},8,["modelValue"])])]),_:1})}}},da=ue(ua,[["__scopeId","data-v-8d231b45"]]),ra={class:"hr-management-system-setting"},ia={__name:"HRManagementSystemSetting",setup(Z){const y=T("systemOrg");return(R,E)=>{const b=p("el-tabs");return r(),v("div",ra,[E[1]||(E[1]=t("h2",null,"人事管理與系統設定",-1)),a(b,{modelValue:y.value,"onUpdate:modelValue":E[0]||(E[0]=A=>y.value=A),type:"card"},{default:n(()=>[a(ze),a(da)]),_:1},8,["modelValue"])])}}},va=ue(ia,[["__scopeId","data-v-0cf7467f"]]);export{va as default};
