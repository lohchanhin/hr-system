import{_ as S,g as y,r as I,x as L,z as B,h as F,c as d,b as e,d as s,w as n,e as a,t as f,u as M,o as c,F as z,k as N,l as R,i as T,n as V,j as $,m as j}from"./index-BOg20HvU.js";import{u as D}from"./menu-Diu3JIyb.js";import"./api-D4yO7thr.js";const E={class:"front-layout"},P={class:"sidebar"},U={class:"sidebar-header"},q={class:"user-info"},A={class:"user-name"},G={class:"menu-label"},H={class:"logout-section"},J={class:"main-view"},K={class:"content-wrapper"},O={__name:"FrontLayout",setup(Q){const r=M(),p=B(),u=D(),{items:i}=y(u),_=I(""),v=L(()=>{var t;return((t=p.name)==null?void 0:t.toLowerCase())||""});F(()=>{localStorage.getItem("role");const t=localStorage.getItem("username");t&&(_.value=t),i.value.length===0&&u.fetchMenu()});function g(t){r.push(`/front/${t}`)}function b(){localStorage.removeItem("role"),localStorage.removeItem("username"),j(),r.push("/")}return(t,o)=>{const h=a("el-avatar"),m=a("el-icon"),k=a("el-menu-item"),x=a("el-menu"),w=a("el-button"),C=a("router-view");return c(),d("div",E,[e("aside",P,[e("div",U,[o[1]||(o[1]=e("h2",{class:"brand-title"},"員工系統",-1)),e("div",q,[s(h,{size:40,class:"user-avatar"},{default:n(()=>o[0]||(o[0]=[e("i",{class:"el-icon-user"},null,-1)])),_:1}),e("span",A,f(_.value||"員工"),1)])]),s(x,{"default-active":v.value,class:"sidebar-menu","background-color":"#0f172a","text-color":"#cbd5e1","active-text-color":"#ffffff"},{default:n(()=>[(c(!0),d(z,null,N(R(i),l=>(c(),T(k,{key:l.name,index:l.name,onClick:W=>g(l.name),class:"menu-item"},{default:n(()=>[s(m,{class:"menu-icon"},{default:n(()=>[e("i",{class:V(l.icon)},null,2)]),_:2},1024),e("span",G,f(l.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active"]),e("div",H,[s(w,{type:"danger",onClick:b,class:"logout-btn",block:""},{default:n(()=>[s(m,null,{default:n(()=>o[2]||(o[2]=[e("i",{class:"el-icon-switch-button"},null,-1)])),_:1}),o[3]||(o[3]=$(" 登出系統 "))]),_:1})])]),e("main",J,[e("div",K,[s(C)])])])}}},ee=S(O,[["__scopeId","data-v-7b98889b"]]);export{ee as default};
