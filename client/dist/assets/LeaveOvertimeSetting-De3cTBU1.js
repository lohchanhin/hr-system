import{_ as G,r as f,c as H,b as A,d as l,w as a,e as d,o as J,g as i}from"./index-wMK2ufhn.js";const M={class:"leave-overtime-setting"},Q={slot:"footer",class:"dialog-footer"},W={slot:"footer",class:"dialog-footer"},X={__name:"LeaveOvertimeSetting",setup(Y){const O=f("leaveType"),V=f([{name:"病假",code:"SICK",annualDays:30,needProof:!0,paidRule:"half-paid"},{name:"事假",code:"PERSONAL",annualDays:14,needProof:!1,paidRule:"unpaid"},{name:"特休",code:"ANNUAL",annualDays:10,needProof:!1,paidRule:"paid"}]),y=f(!1);let x=null;const u=f({name:"",code:"",annualDays:0,needProof:!1,paidRule:"paid"});function P(p=null){p!==null?(x=p,u.value={...V.value[p]}):(x=null,u.value={name:"",code:"",annualDays:0,needProof:!1,paidRule:"paid"}),y.value=!0}function $(){x===null?V.value.push({...u.value}):V.value[x]={...u.value},y.value=!1}function I(p){V.value.splice(p,1)}const _=f([{name:"平日加班",rate:1.33,allowComp:!0,desc:"工作日下班後加班"},{name:"休息日加班",rate:1.66,allowComp:!0,desc:"休息日(週休)加班"},{name:"例假日加班",rate:2,allowComp:!1,desc:"例假日本不可轉補休"}]),C=f(!1);let g=null;const n=f({name:"",rate:1,allowComp:!0,desc:""});function E(p=null){p!==null?(g=p,n.value={..._.value[p]}):(g=null,n.value={name:"",rate:1,allowComp:!0,desc:""}),C.value=!0}function F(){g===null?_.value.push({...n.value}):_.value[g]={...n.value},C.value=!1}function B(p){_.value.splice(p,1)}const s=f({needAttachment:!1,preventOveruse:!0,multiApproval:!0,maxSteps:3});function K(){console.log("儲存 申請與簽核規則:",s.value),alert("已儲存「申請與簽核規則」設定")}const r=f({compRate:1.5,fifoEnabled:!0,expireDays:180});function j(){console.log("儲存 補休/特休控管:",r.value),alert("已儲存「補休/特休控管」設定")}return(p,e)=>{const m=d("el-button"),v=d("el-table-column"),S=d("el-table"),k=d("el-input"),t=d("el-form-item"),w=d("el-input-number"),b=d("el-switch"),T=d("el-option"),q=d("el-select"),R=d("el-form"),N=d("el-dialog"),D=d("el-tab-pane"),z=d("el-tabs");return J(),H("div",M,[e[36]||(e[36]=A("h2",null,"請假與加班設定",-1)),l(z,{modelValue:O.value,"onUpdate:modelValue":e[22]||(e[22]=o=>O.value=o),type:"card"},{default:a(()=>[l(D,{label:"假別管理",name:"leaveType"},{default:a(()=>[l(m,{type:"primary",onClick:e[0]||(e[0]=o=>P())},{default:a(()=>e[23]||(e[23]=[i("新增假別")])),_:1}),l(S,{data:V.value,style:{"margin-top":"20px"}},{default:a(()=>[l(v,{prop:"name",label:"假別名稱",width:"180"}),l(v,{prop:"code",label:"代碼",width:"120"}),l(v,{prop:"annualDays",label:"年度可用天數",width:"160"}),l(v,{prop:"needProof",label:"需證明?",width:"100"}),l(v,{prop:"paidRule",label:"計薪/扣薪"}),l(v,{label:"操作",width:"200"},{default:a(({row:o,$index:U})=>[l(m,{type:"primary",onClick:L=>P(U)},{default:a(()=>e[24]||(e[24]=[i("編輯")])),_:2},1032,["onClick"]),l(m,{type:"danger",onClick:L=>I(U)},{default:a(()=>e[25]||(e[25]=[i("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(N,{title:"假別資料",modelValue:y.value,"onUpdate:modelValue":e[7]||(e[7]=o=>y.value=o),width:"500px"},{default:a(()=>[l(R,{model:u.value,"label-width":"120px"},{default:a(()=>[l(t,{label:"假別名稱"},{default:a(()=>[l(k,{modelValue:u.value.name,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value.name=o),placeholder:"如：病假、事假、產假、特休…"},null,8,["modelValue"])]),_:1}),l(t,{label:"代碼"},{default:a(()=>[l(k,{modelValue:u.value.code,"onUpdate:modelValue":e[2]||(e[2]=o=>u.value.code=o),placeholder:"如：SICK, PERSONAL…"},null,8,["modelValue"])]),_:1}),l(t,{label:"年度可用天數"},{default:a(()=>[l(w,{modelValue:u.value.annualDays,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value.annualDays=o),min:0},null,8,["modelValue"])]),_:1}),l(t,{label:"是否需證明?"},{default:a(()=>[l(b,{modelValue:u.value.needProof,"onUpdate:modelValue":e[4]||(e[4]=o=>u.value.needProof=o),"active-text":"需要","inactive-text":"不需要"},null,8,["modelValue"])]),_:1}),l(t,{label:"計薪/扣薪規則"},{default:a(()=>[l(q,{modelValue:u.value.paidRule,"onUpdate:modelValue":e[5]||(e[5]=o=>u.value.paidRule=o),placeholder:"選擇規則"},{default:a(()=>[l(T,{label:"照薪(不扣薪)",value:"paid"}),l(T,{label:"半薪",value:"half-paid"}),l(T,{label:"全扣",value:"unpaid"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),A("span",Q,[l(m,{onClick:e[6]||(e[6]=o=>y.value=!1)},{default:a(()=>e[26]||(e[26]=[i("取消")])),_:1}),l(m,{type:"primary",onClick:$},{default:a(()=>e[27]||(e[27]=[i("儲存")])),_:1})])]),_:1},8,["modelValue"])]),_:1}),l(D,{label:"加班類型管理",name:"overtimeType"},{default:a(()=>[l(m,{type:"primary",onClick:e[8]||(e[8]=o=>E())},{default:a(()=>e[28]||(e[28]=[i("新增加班類型")])),_:1}),l(S,{data:_.value,style:{"margin-top":"20px"}},{default:a(()=>[l(v,{prop:"name",label:"加班名稱",width:"150"}),l(v,{prop:"rate",label:"加班倍數",width:"120"}),l(v,{prop:"allowComp",label:"可轉補休?",width:"120"}),l(v,{prop:"desc",label:"說明"}),l(v,{label:"操作",width:"200"},{default:a(({row:o,$index:U})=>[l(m,{type:"primary",onClick:L=>E(U)},{default:a(()=>e[29]||(e[29]=[i("編輯")])),_:2},1032,["onClick"]),l(m,{type:"danger",onClick:L=>B(U)},{default:a(()=>e[30]||(e[30]=[i("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(N,{title:"加班類型資料",modelValue:C.value,"onUpdate:modelValue":e[14]||(e[14]=o=>C.value=o),width:"500px"},{default:a(()=>[l(R,{model:n.value,"label-width":"120px"},{default:a(()=>[l(t,{label:"加班名稱"},{default:a(()=>[l(k,{modelValue:n.value.name,"onUpdate:modelValue":e[9]||(e[9]=o=>n.value.name=o),placeholder:"如：平日加班、休息日、國定假日…"},null,8,["modelValue"])]),_:1}),l(t,{label:"加班倍數"},{default:a(()=>[l(w,{modelValue:n.value.rate,"onUpdate:modelValue":e[10]||(e[10]=o=>n.value.rate=o),min:1,step:.1},null,8,["modelValue"])]),_:1}),l(t,{label:"可轉補休?"},{default:a(()=>[l(b,{modelValue:n.value.allowComp,"onUpdate:modelValue":e[11]||(e[11]=o=>n.value.allowComp=o),"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),l(t,{label:"說明"},{default:a(()=>[l(k,{modelValue:n.value.desc,"onUpdate:modelValue":e[12]||(e[12]=o=>n.value.desc=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),A("span",W,[l(m,{onClick:e[13]||(e[13]=o=>C.value=!1)},{default:a(()=>e[31]||(e[31]=[i("取消")])),_:1}),l(m,{type:"primary",onClick:F},{default:a(()=>e[32]||(e[32]=[i("儲存")])),_:1})])]),_:1},8,["modelValue"])]),_:1}),l(D,{label:"申請與簽核規則",name:"approvalRule"},{default:a(()=>[l(R,{model:s.value,"label-width":"160px"},{default:a(()=>[l(t,{label:"請假/加班是否需附件"},{default:a(()=>[l(b,{modelValue:s.value.needAttachment,"onUpdate:modelValue":e[15]||(e[15]=o=>s.value.needAttachment=o)},null,8,["modelValue"])]),_:1}),l(t,{label:"防止超用(可用天數不足自動拒絕)"},{default:a(()=>[l(b,{modelValue:s.value.preventOveruse,"onUpdate:modelValue":e[16]||(e[16]=o=>s.value.preventOveruse=o)},null,8,["modelValue"])]),_:1}),l(t,{label:"是否需多層簽核"},{default:a(()=>[l(b,{modelValue:s.value.multiApproval,"onUpdate:modelValue":e[17]||(e[17]=o=>s.value.multiApproval=o)},null,8,["modelValue"])]),_:1}),l(t,{label:"最高關卡數 (若多層簽核)"},{default:a(()=>[l(w,{modelValue:s.value.maxSteps,"onUpdate:modelValue":e[18]||(e[18]=o=>s.value.maxSteps=o),min:1,disabled:!s.value.multiApproval},null,8,["modelValue","disabled"])]),_:1}),l(t,null,{default:a(()=>[l(m,{type:"primary",onClick:K},{default:a(()=>e[33]||(e[33]=[i("儲存規則")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(D,{label:"補休/特休控管",name:"compControl"},{default:a(()=>[l(R,{model:r.value,"label-width":"140px"},{default:a(()=>[l(t,{label:"加班轉補休折算比率(倍)"},{default:a(()=>[l(w,{modelValue:r.value.compRate,"onUpdate:modelValue":e[19]||(e[19]=o=>r.value.compRate=o),min:1,step:.1},null,8,["modelValue"])]),_:1}),l(t,{label:"補休先進先出(啟用)?"},{default:a(()=>[l(b,{modelValue:r.value.fifoEnabled,"onUpdate:modelValue":e[20]||(e[20]=o=>r.value.fifoEnabled=o)},null,8,["modelValue"])]),_:1}),l(t,{label:"補休有效期限(天)"},{default:a(()=>[l(w,{modelValue:r.value.expireDays,"onUpdate:modelValue":e[21]||(e[21]=o=>r.value.expireDays=o),min:0,disabled:!r.value.fifoEnabled},null,8,["modelValue","disabled"]),e[34]||(e[34]=A("small",null,"0 代表不限制期限",-1))]),_:1}),l(t,null,{default:a(()=>[l(m,{type:"primary",onClick:j},{default:a(()=>e[35]||(e[35]=[i("儲存補休規則")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])])}}},c=G(X,[["__scopeId","data-v-54c124da"]]);export{c as default};
