import{_ as ke,u as yl,r as E,j as bl,x as W,q as Vl,e as h,k as O,o as v,w as r,b as u,d as a,t as w,g as D,c,y as ne,F as b,l as V,h as gl,E as z,z as _l}from"./index-BLHruX9W.js";import{a as P}from"./api-BH1Z2RaR.js";const hl={class:"employee-management"},Ul={class:"page-header"},Al={class:"header-stats"},Dl={class:"stat-item"},wl={class:"stat-number"},kl={class:"stat-item"},Ll={class:"stat-number"},Tl={class:"content-header"},Sl={class:"table-container"},Nl={class:"employee-info"},El={class:"employee-details"},Cl={class:"employee-name"},Il={class:"employee-id"},Rl={class:"department-info"},Pl={key:1,class:"no-data"},$l={class:"contact-info"},Yl={key:0,class:"contact-item"},Bl={key:1,class:"contact-item"},Ol={key:2,class:"no-data"},zl={class:"action-buttons"},xl={class:"tab-content"},jl={class:"form-section"},ql={class:"form-group"},Ml={class:"form-group"},Gl={class:"role-option"},Fl={class:"role-name"},Hl={class:"role-desc"},Jl={class:"tab-content"},Wl={class:"form-section"},Kl={class:"form-group"},Ql={class:"tab-content"},Xl={class:"form-section"},Zl={class:"form-group"},ea={class:"form-row"},la={class:"form-row"},aa={class:"form-row"},ta={class:"form-row"},oa={class:"form-row"},sa={class:"form-group"},ua={class:"form-row"},ra={class:"form-row"},na={class:"tab-content"},da={class:"form-section"},ia={class:"form-group"},ma={class:"form-row"},pa={class:"form-row"},va={class:"form-group"},ca={class:"form-row"},fa={class:"form-row"},ya={class:"form-group"},ba={class:"form-row"},Va={class:"form-row"},ga={class:"form-row"},_a={class:"form-row"},ha={class:"form-row"},Ua={class:"tab-content"},Aa={class:"form-section"},Da={class:"form-group"},wa={class:"form-row"},ka={class:"form-row"},La={class:"form-group"},Ta={class:"form-row"},Sa={class:"form-row"},Na={class:"form-row"},Ea={class:"form-group"},Ca={class:"form-row"},Ia={class:"form-row"},Ra={class:"form-group"},Pa={class:"emergency-contact"},$a={class:"form-row"},Ya={class:"form-row"},Ba={class:"emergency-contact"},Oa={class:"form-row"},za={class:"form-row"},xa={class:"form-group"},ja={class:"experience-list"},qa={class:"experience-header"},Ma={class:"experience-title"},Ga={class:"form-row"},Fa={class:"form-row"},Ha={class:"form-group"},Ja={class:"experience-list"},Wa={class:"experience-header"},Ka={class:"experience-title"},Qa={class:"form-row"},Xa={class:"form-row"},Za={class:"form-row"},et={class:"form-group"},lt={class:"experience-list"},at={class:"experience-header"},tt={class:"experience-title"},ot={class:"form-row"},st={class:"form-row"},ut={class:"form-row"},rt={class:"tab-content"},nt={class:"form-section"},dt={class:"form-group"},it={class:"form-row"},mt={class:"form-group"},pt={class:"account-section"},vt={class:"form-row"},ct={class:"account-section"},ft={class:"form-row"},yt={class:"dialog-footer"},bt={__name:"EmployeeManagement",setup(Le){const M=yl(),de=[{label:"管理員",value:"admin"},{label:"主管",value:"supervisor"},{label:"員工",value:"employee"}],$=["一級","二級","三級"],K=["護理師","照顧服務員","社工師","物理治療師","職能治療師","行政人員"],Q=["護理師","社工師","物理治療師","職能治療師","醫師"],Te=["中文","台語","客語","英語","馬來語"],Se=["極重度","重度身心障礙","中度身心障礙","輕度身心障礙"],Ne=["原住民","新住民","榮民"],Ee=["博士","碩士","大學","專科","高中職","國中以下"],Ce=["畢業","肄業"],ie=["父","母","配偶","子","女","兄","姊","弟","妹","其他"],Ie=["院內","院外","線上","研討會","自學"],Re=["月薪","日薪","時薪"],Y=["本薪","全勤","加班費","交通津貼","伙食津貼","績效獎金"],Pe=["填報","覆核","審核","核定"],$e=["L1","L2","L3","L4"],Ye=["資深","新人","外聘","志工"],Be=["義務役","志願役","替代役","免役","尚未服役"],me=["A","B","O","AB","HR"],Oe=new Date().getFullYear(),X=E("account"),I=E([]),G=E([]),Z=E([]),pe=E([]),x=E(!1),ee=E(!1);let F=null,le="";function ze(n){const e=G.value.find(t=>t._id===n);return e?`${e.name}(${e.code})`:n}function H(n){return n.status===401?(z.error("登入逾時，請重新登入"),M.push("/manager/login"),!0):!1}function ve(n){return new Promise((e,t)=>{const d=new FileReader;d.onload=()=>e(typeof d.result=="string"?d.result:""),d.onerror=()=>t(new Error("READ_ERROR")),d.readAsDataURL(n)})}function ce(n=[]){const e=n.slice(-1).map(t=>{var _;const d=t.response,g=typeof d=="object"&&d!==null&&"url"in d&&d.url||typeof d=="object"&&d!==null&&"data"in d&&((_=d.data)==null?void 0:_.url)||(typeof d=="string"?d:"");return{...t,url:t.url||g||"",status:"success",percentage:t.percentage??100}});o.value.photoList=e,o.value.photo=e.length&&e[0].url||""}async function xe({file:n,onSuccess:e,onError:t}){ee.value=!0;try{const d=await ve(n);e==null||e({url:d})}catch(d){t==null||t(d),z.error("照片載入失敗，請重新選擇檔案")}finally{ee.value=!1}}function je(n,e,t){var d;e.url||(typeof n=="string"?e.url=n:n&&typeof n=="object"&&(e.url=n.url||((d=n==null?void 0:n.data)==null?void 0:d.url)||e.url||"")),ce(t)}function qe(n,e){ce(e)}function Me(){z.warning("僅能上傳一張照片")}function Ge(n,e=""){return n?{name:e?`${e} 照片`:"員工照片",url:n,status:"success",percentage:100}:null}function ae(n=[]){return(Array.isArray(n)?n:[n]).map(e=>{var d;if(!e)return"";if(typeof e=="string")return e;if(e.url)return e.url;const t=e.response;if(typeof t=="string")return t;if(typeof t=="object"&&t!==null){if("url"in t&&t.url)return t.url;if("data"in t&&((d=t.data)!=null&&d.url))return t.data.url}return""}).filter(e=>typeof e=="string"&&e)}function Fe(n=[]){return ae(n)}function fe(n=[],e="附件"){return(Array.isArray(n)?n:[n]).map((t,d)=>{var g;if(!t)return null;if(typeof t=="string")return{name:`${e}${d+1}`,url:t,status:"success",percentage:100,uid:`${e}-${d}`};if(typeof t=="object"){let _=t.url;if(!_){const i=t.response;typeof i=="string"?_=i:i&&typeof i=="object"&&(_=i.url||((g=i==null?void 0:i.data)==null?void 0:g.url)||"")}if(!_)return null;const y={...t,name:t.name||`${e}${d+1}`,url:_,status:"success",percentage:t.percentage??100};return y.uid||(y.uid=`${e}-${d}`),y}return null}).filter(t=>t&&typeof t.url=="string"&&t.url)}function ye(n,e="附件"){if(!n)return[];const t=Array.isArray(n)?n:[n];return fe(t,e)}function j(n){return Array.isArray(n)?n.filter(e=>e!==""&&e!==null&&e!==void 0):n===""||n===null||n===void 0?[]:[n]}function He(n,e){return n==="licenses"?`證照${e+1}-附件`:`教育訓練${e+1}-附件`}function be(n,e,t){const d=n==="licenses"?o.value.licenses:o.value.trainings;if(!Array.isArray(d)||!d[e])return;const g=He(n,e);d[e].fileList=fe(t,g)}async function Ve({file:n,onSuccess:e,onError:t}){try{const d=await ve(n);e==null||e({url:d})}catch(d){t==null||t(d),z.error("檔案載入失敗，請重新選擇")}}function ge(n,e,t,d,g){var _;d.url||(typeof t=="string"?d.url=t:t&&typeof t=="object"&&(d.url=t.url||((_=t==null?void 0:t.data)==null?void 0:_.url)||d.url||"")),be(n,e,g)}function _e(n,e,t,d){be(n,e,d)}function k(n){if(n===""||n===null||n===void 0)return null;const e=Number(n);return Number.isFinite(e)?e:null}function te(n){return n==null?"":String(n)}function B(n){return n==null||n===""?"":n}function Je(n=[]){return Array.isArray(n)?n.map((e={},t)=>({name:(e==null?void 0:e.name)??"",number:(e==null?void 0:e.number)??"",startDate:(e==null?void 0:e.startDate)??(e==null?void 0:e.issueDate)??"",endDate:(e==null?void 0:e.endDate)??(e==null?void 0:e.expiryDate)??"",fileList:ye((e==null?void 0:e.fileList)??(e==null?void 0:e.files)??(e!=null&&e.file?[e.file]:[]),`證照${t+1}-附件`)})):[]}function We(n=[]){return Array.isArray(n)?n.map((e={},t)=>({course:(e==null?void 0:e.course)??(e==null?void 0:e.name)??"",courseNo:(e==null?void 0:e.courseNo)??(e==null?void 0:e.code)??"",date:(e==null?void 0:e.date)??"",category:j((e==null?void 0:e.category)??(e==null?void 0:e.categories)),score:k(e==null?void 0:e.score),fileList:ye((e==null?void 0:e.fileList)??(e==null?void 0:e.files)??(e!=null&&e.file?[e.file]:[]),`教育訓練${t+1}-附件`)})):[]}async function he(){const n=await P("/api/departments");H(n)||n.ok&&(G.value=await n.json())}async function oe(n=""){const e=n?`/api/sub-departments?department=${n}`:"/api/sub-departments",t=await P(e);H(t)||t.ok&&(Z.value=await t.json())}async function Ke(){const n=await P("/api/organizations");H(n)||n.ok&&(pe.value=await n.json())}async function Ue(){const n=await P("/api/employees");if(!H(n)&&n.ok){const e=await n.json();I.value=e.map(t=>{var g,_,y,i,s,L,N,m,f,T,C,U,S,q,J;const d=(t==null?void 0:t.appointment)??{};return{...t,organization:((g=t.organization)==null?void 0:g._id)||t.organization||"",department:((_=t.department)==null?void 0:_._id)||t.department||"",subDepartment:((y=t.subDepartment)==null?void 0:y._id)||t.subDepartment||"",laborPensionSelf:k(t==null?void 0:t.laborPensionSelf)??0,employeeAdvance:k(t==null?void 0:t.employeeAdvance)??0,salaryItems:j(t==null?void 0:t.salaryItems).filter(ue=>Y.includes(ue)),height:k(((i=t==null?void 0:t.medicalCheck)==null?void 0:i.height)??(t==null?void 0:t.height)),weight:k(((s=t==null?void 0:t.medicalCheck)==null?void 0:s.weight)??(t==null?void 0:t.weight)),medicalBloodType:((L=t==null?void 0:t.medicalCheck)==null?void 0:L.bloodType)??(t==null?void 0:t.medicalBloodType)??"",educationLevel:((N=t==null?void 0:t.education)==null?void 0:N.level)??(t==null?void 0:t.educationLevel)??"",schoolName:((m=t==null?void 0:t.education)==null?void 0:m.school)??(t==null?void 0:t.schoolName)??"",major:((f=t==null?void 0:t.education)==null?void 0:f.major)??(t==null?void 0:t.major)??"",graduationStatus:((T=t==null?void 0:t.education)==null?void 0:T.status)??(t==null?void 0:t.graduationStatus)??"",graduationYear:te(((C=t==null?void 0:t.education)==null?void 0:C.graduationYear)??(t==null?void 0:t.graduationYear)??""),serviceType:((U=t==null?void 0:t.militaryService)==null?void 0:U.serviceType)??(t==null?void 0:t.serviceType)??"",militaryBranch:((S=t==null?void 0:t.militaryService)==null?void 0:S.branch)??(t==null?void 0:t.militaryBranch)??"",militaryRank:((q=t==null?void 0:t.militaryService)==null?void 0:q.rank)??(t==null?void 0:t.militaryRank)??"",dischargeYear:k(((J=t==null?void 0:t.militaryService)==null?void 0:J.dischargeYear)??(t==null?void 0:t.dischargeYear)),hireDate:B((d==null?void 0:d.hireDate)??(t==null?void 0:t.hireDate)),appointDate:B((d==null?void 0:d.appointDate)??(d==null?void 0:d.startDate)??(t==null?void 0:t.appointDate)),resignDate:B((d==null?void 0:d.resignationDate)??(t==null?void 0:t.resignDate)),dismissDate:B((d==null?void 0:d.dismissalDate)??(t==null?void 0:t.dismissDate)),reAppointDate:B((d==null?void 0:d.reAppointDate)??(d==null?void 0:d.rehireStartDate)??(t==null?void 0:t.reAppointDate)),reDismissDate:B((d==null?void 0:d.reDismissDate)??(d==null?void 0:d.rehireEndDate)??(t==null?void 0:t.reDismissDate)),employmentNote:te((d==null?void 0:d.remark)??(t==null?void 0:t.employmentNote)??"")}})}}bl(()=>{he(),Ue(),Ke(),oe()});const se={username:"",password:"",role:"employee",permissionGrade:"",signRole:"",signTags:[],signLevel:"",employeeNo:"",name:"",gender:"",birthday:"",idNumber:"",birthplace:"",bloodType:"",languages:[],disabilityLevel:"",identityCategory:[],maritalStatus:"",dependents:0,email:"",phone:"",landline:"",householdAddress:"",contactAddress:"",lineId:"",photo:"",photoList:[],organization:"",department:"",supervisor:null,subDepartment:"",title:"",practiceTitle:"",isPartTime:!1,isClocking:!1,employmentStatus:"",probationDays:"",height:null,weight:null,medicalBloodType:"",educationLevel:"",schoolName:"",major:"",graduationStatus:"",graduationYear:"",serviceType:"",militaryBranch:"",militaryRank:"",dischargeYear:null,emergency1:{name:"",relation:"",phone1:"",phone2:""},emergency2:{name:"",relation:"",phone1:"",phone2:""},keywords:"",experiences:[],licenses:[],trainings:[],hireDate:"",appointDate:"",resignDate:"",dismissDate:"",reAppointDate:"",reDismissDate:"",employmentNote:"",salaryType:"",salaryAmount:0,laborPensionSelf:0,employeeAdvance:0,salaryAccountA:{bank:"",acct:""},salaryAccountB:{bank:"",acct:""},salaryItems:[]},o=E({...se}),Ae=E(),De=n=>({validator:(e,t)=>t===""||t===null||t===void 0?Promise.resolve():typeof t!="number"||!Number.isFinite(t)||t<0?Promise.reject(new Error(`請輸入正確的${n}`)):Promise.resolve(),trigger:["blur","change"]}),Qe={username:[{required:!0,message:"請輸入登入帳號",trigger:"blur"}],password:[{required:!0,message:"請輸入登入密碼",trigger:"blur"}],role:[{required:!0,message:"請選擇系統權限",trigger:"change"}],organization:[{required:!0,message:"請選擇所屬機構",trigger:"change"}],department:[{required:!0,message:"請選擇所屬部門",trigger:"change"}],gender:[{required:!0,message:"請選擇性別",trigger:"change"}],name:[{required:!0,message:"請輸入員工姓名",trigger:"blur"}],email:[{required:!0,message:"請輸入有效 Email",type:"email",trigger:["blur","change"]}],laborPensionSelf:[De("勞退自提")],employeeAdvance:[De("員工預支")],salaryItems:[{validator:(n,e)=>e===""||e===null||e===void 0?Promise.resolve():Array.isArray(e)?e.some(d=>!Y.includes(d))?Promise.reject(new Error("請選擇有效的薪資項目")):Promise.resolve():Promise.reject(new Error("請選擇有效的薪資項目")),trigger:"change"}]},Xe=W(()=>o.value.organization?G.value.filter(n=>n.organization===o.value.organization):[]),Ze=W(()=>o.value.department?Z.value.filter(n=>n.department===o.value.department):[]),el=W(()=>o.value.organization&&o.value.department?I.value.filter(n=>n.role==="supervisor"&&n.organization===o.value.organization&&n.department===o.value.department):[]);Vl(()=>o.value.department,async n=>{n?await oe(n):Z.value=[],o.value.subDepartment=""});function ll(){o.value.graduationStatus=""}async function we(n=null){var e,t,d,g,_;if(n!==null){F=n;const y=I.value[n];le=y._id||"",o.value={...structuredClone(se),...y,password:"",photoList:[]},o.value.photo=o.value.photo||"";const i=Ge(o.value.photo,o.value.name);o.value.photoList=i?[i]:[],o.value.licenses=Je(y.licenses??[]),o.value.trainings=We(y.trainings??[]),o.value.laborPensionSelf=k(o.value.laborPensionSelf)??0,o.value.employeeAdvance=k(o.value.employeeAdvance)??0,o.value.salaryItems=j(o.value.salaryItems).filter(m=>Y.includes(m));const s=y.education??{};!o.value.educationLevel&&s.level&&(o.value.educationLevel=s.level),!o.value.schoolName&&s.school&&(o.value.schoolName=s.school),!o.value.major&&s.major&&(o.value.major=s.major),!o.value.graduationStatus&&s.status&&(o.value.graduationStatus=s.status),o.value.graduationYear=te(o.value.graduationYear||s.graduationYear||""),o.value.identityCategory=Array.isArray(o.value.identityCategory)?[...o.value.identityCategory]:[],o.value.height=k(y.height??((e=y.medicalCheck)==null?void 0:e.height)),o.value.weight=k(y.weight??((t=y.medicalCheck)==null?void 0:t.weight)),o.value.medicalBloodType=y.medicalBloodType??((d=y.medicalCheck)==null?void 0:d.bloodType)??"";const L=y.militaryService??{};o.value.serviceType=o.value.serviceType||L.serviceType||"",o.value.militaryBranch=o.value.militaryBranch||L.branch||"",o.value.militaryRank=o.value.militaryRank||L.rank||"";const N=o.value.dischargeYear===""||o.value.dischargeYear===null||o.value.dischargeYear===void 0?L.dischargeYear:o.value.dischargeYear;o.value.dischargeYear=k(N),o.value.department=((g=y.department)==null?void 0:g._id)||y.department||"",o.value.subDepartment=((_=y.subDepartment)==null?void 0:_._id)||y.subDepartment||""}else F=null,le="",X.value="account",o.value={...structuredClone(se)},o.value.licenses=[],o.value.trainings=[];if(await he(),o.value.department&&!/^[0-9a-fA-F]{24}$/.test(o.value.department)){const y=G.value.find(i=>i.name===o.value.department);y&&(o.value.department=y._id)}await oe(o.value.department),x.value=!0}async function al(){var i;let n;try{await((i=Ae.value)==null?void 0:i.validate())}catch(s){n=s}if(n){const s=Object.values(n).flat().map(L=>L.message.replace(/^請(?:輸入|選擇)(?:有效)?\s*/,""));_l.alert(`請補齊：${s.join("、")}`);return}const e=o.value,t={...e},d=Fe(e.photoList);d.length?(t.photoList=d,t.photo=d[0]):F!==null?(t.photoList=[],t.photo=""):(delete t.photoList,e.photo||delete t.photo),t.identityCategory=Array.isArray(e.identityCategory)?[...e.identityCategory]:[],t.laborPensionSelf=k(e.laborPensionSelf)??0,t.employeeAdvance=k(e.employeeAdvance)??0,t.salaryItems=Array.isArray(e.salaryItems)?e.salaryItems.filter(s=>Y.includes(s)):j(e.salaryItems).filter(s=>Y.includes(s)),t.dischargeYear=k(e.dischargeYear),(t.supervisor===""||t.supervisor===null)&&delete t.supervisor;const g=(Array.isArray(e.licenses)?e.licenses:[]).map(s=>{const L=ae((s==null?void 0:s.fileList)??[]),N=typeof(s==null?void 0:s.name)=="string"?s.name.trim():(s==null?void 0:s.name)??"",m=typeof(s==null?void 0:s.number)=="string"?s.number.trim():(s==null?void 0:s.number)??"",f=(s==null?void 0:s.startDate)||"",T=(s==null?void 0:s.endDate)||"";return{name:N,number:m,startDate:f,endDate:T,fileList:L}}).filter(s=>s.name||s.number||s.startDate||s.endDate||Array.isArray(s.fileList)&&s.fileList.length);t.licenses=g;const _=(Array.isArray(e.trainings)?e.trainings:[]).map(s=>{const L=ae((s==null?void 0:s.fileList)??[]),N=j((s==null?void 0:s.category)??(s==null?void 0:s.categories)),m=typeof(s==null?void 0:s.course)=="string"?s.course.trim():(s==null?void 0:s.course)??"",f=typeof(s==null?void 0:s.courseNo)=="string"?s.courseNo.trim():(s==null?void 0:s.courseNo)??"",T=(s==null?void 0:s.date)||"",C=k(s==null?void 0:s.score),U={course:m,courseNo:f,date:T,category:N,fileList:L};return C!==null&&(U.score=C),U}).filter(s=>s.course||s.courseNo||s.date||Array.isArray(s.category)&&s.category.length||Array.isArray(s.fileList)&&s.fileList.length||s.score!==void 0);t.trainings=_;let y;F===null?y=await P("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}):y=await P(`/api/employees/${le}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),y&&y.ok?(await Ue(),x.value=!1,z.success("儲存成功")):z.error("儲存失敗")}async function tl(n){const e=I.value[n];(await P(`/api/employees/${e._id}`,{method:"DELETE"})).ok&&I.value.splice(n,1)}function ol(){o.value.experiences.push({unit:"",title:"",start:"",end:""})}function sl(n){o.value.experiences.splice(n,1)}function ul(){o.value.licenses.push({name:"",number:"",startDate:"",endDate:"",fileList:[]})}function rl(n){o.value.licenses.splice(n,1)}function nl(){o.value.trainings.push({course:"",courseNo:"",date:"",fileList:[],category:[],score:null})}function dl(n){o.value.trainings.splice(n,1)}const il=W(()=>I.value.filter(n=>n.employmentStatus==="正職員工"||n.employmentStatus==="試用期員工").length);function ml(n){return{admin:"danger",supervisor:"warning",employee:"success"}[n]||"info"}function pl(n){return{admin:"管理員",supervisor:"主管",employee:"員工"}[n]||n}function vl(n){return{admin:"",supervisor:"",employee:""}[n]||""}function cl(n){return{正職員工:"success",試用期員工:"warning",離職員工:"danger",留職停薪:"info"}[n]||"default"}return(n,e)=>{const t=h("el-button"),d=h("el-avatar"),g=h("el-table-column"),_=h("el-tag"),y=h("el-table"),i=h("el-input"),s=h("el-form-item"),L=h("el-radio"),N=h("el-radio-group"),m=h("el-option"),f=h("el-select"),T=h("el-tab-pane"),C=h("el-upload"),U=h("el-date-picker"),S=h("el-input-number"),q=h("el-switch"),J=h("el-tabs"),ue=h("el-form"),fl=h("el-dialog");return v(),O(T,{label:"員工管理",name:"employeeMgmt"},{default:r(()=>[u("div",hl,[u("div",Ul,[e[78]||(e[78]=u("div",{class:"header-content"},[u("h1",{class:"page-title"},"員工管理系統"),u("p",{class:"page-description"},"管理員工資料、權限設定、部門分配和薪資配置")],-1)),u("div",Al,[u("div",Dl,[u("div",wl,w(I.value.length),1),e[76]||(e[76]=u("div",{class:"stat-label"},"總員工數",-1))]),u("div",kl,[u("div",Ll,w(il.value),1),e[77]||(e[77]=u("div",{class:"stat-label"},"在職員工",-1))])])]),u("div",Tl,[e[80]||(e[80]=u("h2",{class:"section-title"},"員工列表",-1)),a(t,{type:"primary",onClick:e[0]||(e[0]=l=>we()),class:"add-btn"},{default:r(()=>e[79]||(e[79]=[u("i",{class:"el-icon-plus"},null,-1),D(" 新增員工 ")])),_:1})]),u("div",Sl,[a(y,{data:I.value,class:"employee-table","header-cell-style":{background:"#f8fafc",color:"#475569",fontWeight:"600"},"row-style":{height:"64px"}},{default:r(()=>[a(g,{prop:"name",label:"員工資訊","min-width":"200"},{default:r(({row:l})=>[u("div",Nl,[a(d,{size:40,class:"employee-avatar"},{default:r(()=>[D(w(l.name?l.name.charAt(0):"N"),1)]),_:2},1024),u("div",El,[u("div",Cl,w(l.name||"未設定"),1),u("div",Il,w(l.employeeNo||"無編號"),1)])])]),_:1}),a(g,{label:"部門",width:"180"},{default:r(({row:l})=>[u("div",Rl,[e[81]||(e[81]=u("i",{class:"el-icon-s-grid dept-icon"},null,-1)),u("span",null,w(ze(l.department)),1)])]),_:1}),a(g,{prop:"title",label:"職稱",width:"150"},{default:r(({row:l})=>[l.title?(v(),O(_,{key:0,type:"info",class:"title-tag"},{default:r(()=>[D(w(l.title),1)]),_:2},1024)):(v(),c("span",Pl,"未設定"))]),_:1}),a(g,{prop:"role",label:"系統權限",width:"120"},{default:r(({row:l})=>[a(_,{type:ml(l.role),class:"role-tag"},{default:r(()=>[D(w(pl(l.role)),1)]),_:2},1032,["type"])]),_:1}),a(g,{prop:"employmentStatus",label:"在職狀態",width:"130"},{default:r(({row:l})=>[a(_,{type:cl(l.employmentStatus),class:"status-tag"},{default:r(()=>[D(w(l.employmentStatus||"未設定"),1)]),_:2},1032,["type"])]),_:1}),a(g,{label:"聯絡方式",width:"200"},{default:r(({row:l})=>[u("div",$l,[l.email?(v(),c("div",Yl,[e[82]||(e[82]=u("i",{class:"el-icon-message"},null,-1)),u("span",null,w(l.email),1)])):ne("",!0),l.phone?(v(),c("div",Bl,[e[83]||(e[83]=u("i",{class:"el-icon-phone"},null,-1)),u("span",null,w(l.phone),1)])):ne("",!0),!l.email&&!l.phone?(v(),c("div",Ol," 無聯絡資訊 ")):ne("",!0)])]),_:1}),a(g,{label:"操作",width:"200",fixed:"right"},{default:r(({row:l,$index:A})=>[u("div",zl,[a(t,{type:"primary",size:"small",onClick:p=>we(A),class:"edit-btn"},{default:r(()=>e[84]||(e[84]=[u("i",{class:"el-icon-edit"},null,-1),D(" 編輯 ")])),_:2},1032,["onClick"]),a(t,{type:"danger",size:"small",onClick:p=>tl(A),class:"delete-btn"},{default:r(()=>e[85]||(e[85]=[u("i",{class:"el-icon-delete"},null,-1),D(" 刪除 ")])),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["data"])]),a(fl,{modelValue:x.value,"onUpdate:modelValue":e[75]||(e[75]=l=>x.value=l),title:"員工資料管理",width:"1200px",class:"employee-dialog","close-on-click-modal":!1},{footer:r(()=>[u("div",yt,[a(t,{onClick:e[74]||(e[74]=l=>x.value=!1),class:"cancel-btn"},{default:r(()=>e[124]||(e[124]=[D("取消")])),_:1}),a(t,{type:"primary",onClick:al,class:"save-btn"},{default:r(()=>e[125]||(e[125]=[u("i",{class:"el-icon-check"},null,-1),D(" 儲存員工資料 ")])),_:1})])]),default:r(()=>[a(ue,{ref_key:"formRef",ref:Ae,model:o.value,rules:Qe,"label-width":"140px",class:"employee-form"},{default:r(()=>[a(J,{modelValue:X.value,"onUpdate:modelValue":e[73]||(e[73]=l=>X.value=l),type:"border-card",class:"employee-tabs"},{default:r(()=>[a(T,{name:"account"},{label:r(()=>e[86]||(e[86]=[u("div",{class:"tab-label"},[u("i",{class:"el-icon-user"}),u("span",null,"帳號權限")],-1)])),default:r(()=>[u("div",xl,[u("div",jl,[u("div",ql,[e[87]||(e[87]=u("h3",{class:"form-group-title"},"登入資訊",-1)),a(s,{label:"登入帳號",required:"",prop:"username"},{default:r(()=>[a(i,{modelValue:o.value.username,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.username=l),placeholder:"請輸入登入帳號"},null,8,["modelValue"])]),_:1}),a(s,{label:"登入密碼",required:"",prop:"password"},{default:r(()=>[a(i,{modelValue:o.value.password,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value.password=l),type:"password",placeholder:"請輸入密碼","show-password":""},null,8,["modelValue"])]),_:1})]),u("div",Ml,[e[88]||(e[88]=u("h3",{class:"form-group-title"},"權限設定",-1)),a(s,{label:"系統權限",required:"",prop:"role"},{default:r(()=>[a(N,{modelValue:o.value.role,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.role=l),class:"role-radio-group"},{default:r(()=>[(v(),c(b,null,V(de,l=>a(L,{key:l.value,label:l.value,class:"role-radio"},{default:r(()=>[u("div",Gl,[u("div",Fl,w(l.label),1),u("div",Hl,w(vl(l.value)),1)])]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"權限職等"},{default:r(()=>[a(f,{modelValue:o.value.permissionGrade,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.permissionGrade=l),placeholder:"選擇職等"},{default:r(()=>[(v(),c(b,null,V($,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])])])]),_:1}),a(T,{name:"approval"},{label:r(()=>e[89]||(e[89]=[u("div",{class:"tab-label"},[u("i",{class:"el-icon-document-checked"}),u("span",null,"簽核設定")],-1)])),default:r(()=>[u("div",Jl,[u("div",Wl,[u("div",Kl,[e[90]||(e[90]=u("h3",{class:"form-group-title"},"簽核權限",-1)),a(s,{label:"簽核角色"},{default:r(()=>[a(f,{modelValue:o.value.signRole,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.signRole=l),placeholder:"選擇簽核角色"},{default:r(()=>[(v(),c(b,null,V(Pe,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"簽核層級"},{default:r(()=>[a(f,{modelValue:o.value.signLevel,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.signLevel=l),placeholder:"選擇層級"},{default:r(()=>[(v(),c(b,null,V($e,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"員工標籤"},{default:r(()=>[a(f,{modelValue:o.value.signTags,"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.signTags=l),multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"選擇或新增標籤",class:"tag-select"},{default:r(()=>[(v(),c(b,null,V(Ye,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])])])]),_:1}),a(T,{name:"personal"},{label:r(()=>e[91]||(e[91]=[u("div",{class:"tab-label"},[u("i",{class:"el-icon-user-solid"}),u("span",null,"個人資訊")],-1)])),default:r(()=>[u("div",Ql,[u("div",Xl,[u("div",Zl,[e[93]||(e[93]=u("h3",{class:"form-group-title"},"基本資料",-1)),a(s,{label:"個人照片",class:"photo-upload-item"},{default:r(()=>[a(C,{class:"employee-photo-upload","file-list":o.value.photoList,"onUpdate:fileList":e[8]||(e[8]=l=>o.value.photoList=l),"http-request":xe,"on-success":je,"on-remove":qe,"on-exceed":Me,"list-type":"picture-card",limit:1,accept:"image/*",disabled:ee.value},{default:r(()=>e[92]||(e[92]=[u("div",{class:"upload-placeholder"},[u("i",{class:"el-icon-plus"}),u("span",null,"上傳照片")],-1)])),_:1},8,["file-list","disabled"])]),_:1}),u("div",ea,[a(s,{label:"員工編號"},{default:r(()=>[a(i,{modelValue:o.value.employeeNo,"onUpdate:modelValue":e[9]||(e[9]=l=>o.value.employeeNo=l),placeholder:"請輸入員工編號"},null,8,["modelValue"])]),_:1}),a(s,{label:"員工姓名",required:"",prop:"name"},{default:r(()=>[a(i,{modelValue:o.value.name,"onUpdate:modelValue":e[10]||(e[10]=l=>o.value.name=l),placeholder:"請輸入員工姓名"},null,8,["modelValue"])]),_:1})]),u("div",la,[a(s,{label:"性別",required:"",prop:"gender"},{default:r(()=>[a(f,{modelValue:o.value.gender,"onUpdate:modelValue":e[11]||(e[11]=l=>o.value.gender=l),placeholder:"選擇性別"},{default:r(()=>[a(m,{label:"男",value:"M"}),a(m,{label:"女",value:"F"})]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"生日"},{default:r(()=>[a(U,{modelValue:o.value.birthday,"onUpdate:modelValue":e[12]||(e[12]=l=>o.value.birthday=l),type:"date",placeholder:"選擇生日"},null,8,["modelValue"])]),_:1})]),u("div",aa,[a(s,{label:"身分證號"},{default:r(()=>[a(i,{modelValue:o.value.idNumber,"onUpdate:modelValue":e[13]||(e[13]=l=>o.value.idNumber=l),placeholder:"請輸入身分證號"},null,8,["modelValue"])]),_:1}),a(s,{label:"出生地"},{default:r(()=>[a(i,{modelValue:o.value.birthplace,"onUpdate:modelValue":e[14]||(e[14]=l=>o.value.birthplace=l),placeholder:"請輸入出生地"},null,8,["modelValue"])]),_:1})]),u("div",ta,[a(s,{label:"血型"},{default:r(()=>[a(f,{modelValue:o.value.bloodType,"onUpdate:modelValue":e[15]||(e[15]=l=>o.value.bloodType=l),placeholder:"選擇血型"},{default:r(()=>[(v(),c(b,null,V(me,l=>a(m,{key:l,value:l,label:l},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"婚姻狀態"},{default:r(()=>[a(f,{modelValue:o.value.maritalStatus,"onUpdate:modelValue":e[16]||(e[16]=l=>o.value.maritalStatus=l),placeholder:"選擇婚姻狀態"},{default:r(()=>[a(m,{label:"未婚",value:"未婚"}),a(m,{label:"已婚",value:"已婚"}),a(m,{label:"離婚",value:"離婚"}),a(m,{label:"喪偶",value:"喪偶"})]),_:1},8,["modelValue"])]),_:1})]),a(s,{label:"語言能力"},{default:r(()=>[a(f,{modelValue:o.value.languages,"onUpdate:modelValue":e[17]||(e[17]=l=>o.value.languages=l),multiple:"",filterable:"",placeholder:"選擇語言"},{default:r(()=>[(v(),c(b,null,V(Te,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),u("div",oa,[a(s,{label:"身心障礙等級"},{default:r(()=>[a(f,{modelValue:o.value.disabilityLevel,"onUpdate:modelValue":e[18]||(e[18]=l=>o.value.disabilityLevel=l),placeholder:"選擇等級",clearable:""},{default:r(()=>[(v(),c(b,null,V(Se,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"身分註記"},{default:r(()=>[a(f,{modelValue:o.value.identityCategory,"onUpdate:modelValue":e[19]||(e[19]=l=>o.value.identityCategory=l),multiple:"",filterable:"","collapse-tags":"",placeholder:"選擇身份別"},{default:r(()=>[(v(),c(b,null,V(Ne,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),a(s,{label:"扶養人數"},{default:r(()=>[a(S,{modelValue:o.value.dependents,"onUpdate:modelValue":e[20]||(e[20]=l=>o.value.dependents=l),min:0},null,8,["modelValue"])]),_:1})]),u("div",sa,[e[94]||(e[94]=u("h3",{class:"form-group-title"},"聯絡資訊",-1)),u("div",ua,[a(s,{label:"Email",required:"",prop:"email"},{default:r(()=>[a(i,{modelValue:o.value.email,"onUpdate:modelValue":e[21]||(e[21]=l=>o.value.email=l),placeholder:"請輸入Email"},null,8,["modelValue"])]),_:1}),a(s,{label:"行動電話"},{default:r(()=>[a(i,{modelValue:o.value.phone,"onUpdate:modelValue":e[22]||(e[22]=l=>o.value.phone=l),placeholder:"請輸入行動電話"},null,8,["modelValue"])]),_:1})]),u("div",ra,[a(s,{label:"市內電話"},{default:r(()=>[a(i,{modelValue:o.value.landline,"onUpdate:modelValue":e[23]||(e[23]=l=>o.value.landline=l),placeholder:"請輸入市內電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"LINE ID"},{default:r(()=>[a(i,{modelValue:o.value.lineId,"onUpdate:modelValue":e[24]||(e[24]=l=>o.value.lineId=l),placeholder:"請輸入LINE ID"},null,8,["modelValue"])]),_:1})]),a(s,{label:"戶籍地址"},{default:r(()=>[a(i,{modelValue:o.value.householdAddress,"onUpdate:modelValue":e[25]||(e[25]=l=>o.value.householdAddress=l),placeholder:"請輸入戶籍地址"},null,8,["modelValue"])]),_:1}),a(s,{label:"聯絡地址"},{default:r(()=>[a(i,{modelValue:o.value.contactAddress,"onUpdate:modelValue":e[26]||(e[26]=l=>o.value.contactAddress=l),placeholder:"請輸入聯絡地址"},null,8,["modelValue"])]),_:1})])])])]),_:1}),a(T,{name:"employment"},{label:r(()=>e[95]||(e[95]=[u("div",{class:"tab-label"},[u("i",{class:"el-icon-office-building"}),u("span",null,"任職資訊")],-1)])),default:r(()=>[u("div",na,[u("div",da,[u("div",ia,[e[96]||(e[96]=u("h3",{class:"form-group-title"},"組織架構",-1)),u("div",ma,[a(s,{label:"所屬機構",required:"",prop:"organization"},{default:r(()=>[a(f,{modelValue:o.value.organization,"onUpdate:modelValue":e[27]||(e[27]=l=>o.value.organization=l),placeholder:"選擇機構"},{default:r(()=>[(v(!0),c(b,null,V(pe.value,l=>(v(),O(m,{key:l._id,label:l.name,value:l._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"所屬部門",required:"",prop:"department"},{default:r(()=>[a(f,{modelValue:o.value.department,"onUpdate:modelValue":e[28]||(e[28]=l=>o.value.department=l),placeholder:"選擇部門"},{default:r(()=>[(v(!0),c(b,null,V(Xe.value,l=>(v(),O(m,{key:l._id,label:l.name,value:l._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),u("div",pa,[a(s,{label:"小單位"},{default:r(()=>[a(f,{modelValue:o.value.subDepartment,"onUpdate:modelValue":e[29]||(e[29]=l=>o.value.subDepartment=l),placeholder:"選擇小單位"},{default:r(()=>[(v(!0),c(b,null,V(Ze.value,l=>(v(),O(m,{key:l._id,label:l.name,value:l._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"直屬主管"},{default:r(()=>[a(f,{modelValue:o.value.supervisor,"onUpdate:modelValue":e[30]||(e[30]=l=>o.value.supervisor=l),placeholder:"選擇主管"},{default:r(()=>[(v(!0),c(b,null,V(el.value,l=>(v(),O(m,{key:l._id,label:l.name,value:l._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),u("div",va,[e[97]||(e[97]=u("h3",{class:"form-group-title"},"職務資訊",-1)),u("div",ca,[a(s,{label:"職稱"},{default:r(()=>[a(f,{modelValue:o.value.title,"onUpdate:modelValue":e[31]||(e[31]=l=>o.value.title=l),placeholder:"選擇職稱"},{default:r(()=>[(v(),c(b,null,V(K,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"執業職稱"},{default:r(()=>[a(f,{modelValue:o.value.practiceTitle,"onUpdate:modelValue":e[32]||(e[32]=l=>o.value.practiceTitle=l),placeholder:"選擇執業職稱"},{default:r(()=>[(v(),c(b,null,V(Q,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),u("div",fa,[a(s,{label:"兼職人員"},{default:r(()=>[a(q,{modelValue:o.value.isPartTime,"onUpdate:modelValue":e[33]||(e[33]=l=>o.value.isPartTime=l),"active-text":"是","inactive-text":"否","active-color":"#10b981"},null,8,["modelValue"])]),_:1}),a(s,{label:"需要打卡"},{default:r(()=>[a(q,{modelValue:o.value.isClocking,"onUpdate:modelValue":e[34]||(e[34]=l=>o.value.isClocking=l),"active-text":"是","inactive-text":"否","active-color":"#10b981"},null,8,["modelValue"])]),_:1})])]),u("div",ya,[e[98]||(e[98]=u("h3",{class:"form-group-title"},"聘用狀態",-1)),u("div",ba,[a(s,{label:"在職狀態"},{default:r(()=>[a(f,{modelValue:o.value.employmentStatus,"onUpdate:modelValue":e[35]||(e[35]=l=>o.value.employmentStatus=l),placeholder:"選擇狀態"},{default:r(()=>[a(m,{label:"正職員工",value:"正職員工"}),a(m,{label:"試用期員工",value:"試用期員工"}),a(m,{label:"離職員工",value:"離職員工"}),a(m,{label:"留職停薪",value:"留職停薪"})]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"試用期"},{default:r(()=>[a(f,{modelValue:o.value.probationDays,"onUpdate:modelValue":e[36]||(e[36]=l=>o.value.probationDays=l),placeholder:"選擇天數"},{default:r(()=>[a(m,{label:"無",value:""}),a(m,{label:"30天",value:"30"}),a(m,{label:"60天",value:"60"}),a(m,{label:"90天",value:"90"})]),_:1},8,["modelValue"])]),_:1})]),u("div",Va,[a(s,{label:"到職日期"},{default:r(()=>[a(U,{modelValue:o.value.hireDate,"onUpdate:modelValue":e[37]||(e[37]=l=>o.value.hireDate=l),type:"date",placeholder:"選擇到職日期"},null,8,["modelValue"])]),_:1}),a(s,{label:"起聘日期"},{default:r(()=>[a(U,{modelValue:o.value.appointDate,"onUpdate:modelValue":e[38]||(e[38]=l=>o.value.appointDate=l),type:"date",placeholder:"選擇起聘日期"},null,8,["modelValue"])]),_:1})]),u("div",ga,[a(s,{label:"離職日期"},{default:r(()=>[a(U,{modelValue:o.value.resignDate,"onUpdate:modelValue":e[39]||(e[39]=l=>o.value.resignDate=l),type:"date",placeholder:"選擇離職日期"},null,8,["modelValue"])]),_:1}),a(s,{label:"解聘日期"},{default:r(()=>[a(U,{modelValue:o.value.dismissDate,"onUpdate:modelValue":e[40]||(e[40]=l=>o.value.dismissDate=l),type:"date",placeholder:"選擇解聘日期"},null,8,["modelValue"])]),_:1})]),u("div",_a,[a(s,{label:"再任起聘"},{default:r(()=>[a(U,{modelValue:o.value.reAppointDate,"onUpdate:modelValue":e[41]||(e[41]=l=>o.value.reAppointDate=l),type:"date",placeholder:"選擇再任起聘日期"},null,8,["modelValue"])]),_:1}),a(s,{label:"再任解聘"},{default:r(()=>[a(U,{modelValue:o.value.reDismissDate,"onUpdate:modelValue":e[42]||(e[42]=l=>o.value.reDismissDate=l),type:"date",placeholder:"選擇再任解聘日期"},null,8,["modelValue"])]),_:1})]),u("div",ha,[a(s,{label:"聘任備註",class:"full-width-item"},{default:r(()=>[a(i,{modelValue:o.value.employmentNote,"onUpdate:modelValue":e[43]||(e[43]=l=>o.value.employmentNote=l),type:"textarea",rows:2,placeholder:"請輸入聘任備註"},null,8,["modelValue"])]),_:1})])])])])]),_:1}),a(T,{name:"more"},{label:r(()=>e[99]||(e[99]=[u("div",{class:"tab-label"},[u("i",{class:"el-icon-more"}),u("span",null,"更多資訊")],-1)])),default:r(()=>[u("div",Ua,[u("div",Aa,[u("div",Da,[e[100]||(e[100]=u("h3",{class:"form-group-title"},"身體檢查",-1)),u("div",wa,[a(s,{label:"身高 (cm)"},{default:r(()=>[a(S,{modelValue:o.value.height,"onUpdate:modelValue":e[44]||(e[44]=l=>o.value.height=l),min:0,max:250,step:.1,precision:1,"value-on-clear":null,"controls-position":"right",placeholder:"請輸入身高"},null,8,["modelValue"])]),_:1}),a(s,{label:"體重 (kg)"},{default:r(()=>[a(S,{modelValue:o.value.weight,"onUpdate:modelValue":e[45]||(e[45]=l=>o.value.weight=l),min:0,max:300,step:.1,precision:1,"value-on-clear":null,"controls-position":"right",placeholder:"請輸入體重"},null,8,["modelValue"])]),_:1})]),u("div",ka,[a(s,{label:"體檢血型"},{default:r(()=>[a(f,{modelValue:o.value.medicalBloodType,"onUpdate:modelValue":e[46]||(e[46]=l=>o.value.medicalBloodType=l),placeholder:"選擇血型",clearable:""},{default:r(()=>[(v(),c(b,null,V(me,l=>a(m,{key:`medical-${l}`,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])]),u("div",La,[e[101]||(e[101]=u("h3",{class:"form-group-title"},"學歷資訊",-1)),u("div",Ta,[a(s,{label:"教育程度"},{default:r(()=>[a(f,{modelValue:o.value.educationLevel,"onUpdate:modelValue":e[47]||(e[47]=l=>o.value.educationLevel=l),placeholder:"選擇教育程度"},{default:r(()=>[(v(),c(b,null,V(Ee,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"學校名稱"},{default:r(()=>[a(i,{modelValue:o.value.schoolName,"onUpdate:modelValue":e[48]||(e[48]=l=>o.value.schoolName=l),placeholder:"請輸入學校名稱"},null,8,["modelValue"])]),_:1})]),u("div",Sa,[a(s,{label:"主修科系"},{default:r(()=>[a(i,{modelValue:o.value.major,"onUpdate:modelValue":e[49]||(e[49]=l=>o.value.major=l),placeholder:"請輸入主修科系"},null,8,["modelValue"])]),_:1}),a(s,{label:"畢業狀態"},{default:r(()=>[a(f,{modelValue:o.value.graduationStatus,"onUpdate:modelValue":e[50]||(e[50]=l=>o.value.graduationStatus=l),placeholder:"選擇畢業狀態",clearable:"",onClear:ll},{default:r(()=>[(v(),c(b,null,V(Ce,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),u("div",Na,[a(s,{label:"畢業年度",class:"full-width-item"},{default:r(()=>[a(i,{modelValue:o.value.graduationYear,"onUpdate:modelValue":e[51]||(e[51]=l=>o.value.graduationYear=l),placeholder:"請輸入畢業年度"},null,8,["modelValue"])]),_:1})])]),u("div",Ea,[e[102]||(e[102]=u("h3",{class:"form-group-title"},"役別資訊",-1)),u("div",Ca,[a(s,{label:"役別類型"},{default:r(()=>[a(f,{modelValue:o.value.serviceType,"onUpdate:modelValue":e[52]||(e[52]=l=>o.value.serviceType=l),placeholder:"選擇或輸入役別類型",filterable:"","allow-create":"","default-first-option":"",clearable:""},{default:r(()=>[(v(),c(b,null,V(Be,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"軍種"},{default:r(()=>[a(i,{modelValue:o.value.militaryBranch,"onUpdate:modelValue":e[53]||(e[53]=l=>o.value.militaryBranch=l),placeholder:"請輸入軍種"},null,8,["modelValue"])]),_:1})]),u("div",Ia,[a(s,{label:"軍階"},{default:r(()=>[a(i,{modelValue:o.value.militaryRank,"onUpdate:modelValue":e[54]||(e[54]=l=>o.value.militaryRank=l),placeholder:"請輸入軍階"},null,8,["modelValue"])]),_:1}),a(s,{label:"退伍年"},{default:r(()=>[a(S,{modelValue:o.value.dischargeYear,"onUpdate:modelValue":e[55]||(e[55]=l=>o.value.dischargeYear=l),min:1900,max:gl(Oe)+10,step:1,"value-on-clear":null,"controls-position":"right",placeholder:"請輸入退伍年"},null,8,["modelValue","max"])]),_:1})])]),u("div",Ra,[e[105]||(e[105]=u("h3",{class:"form-group-title"},"緊急聯絡人",-1)),u("div",Pa,[e[103]||(e[103]=u("h4",{class:"contact-subtitle"},"聯絡人一",-1)),u("div",$a,[a(s,{label:"姓名"},{default:r(()=>[a(i,{modelValue:o.value.emergency1.name,"onUpdate:modelValue":e[56]||(e[56]=l=>o.value.emergency1.name=l),placeholder:"請輸入姓名"},null,8,["modelValue"])]),_:1}),a(s,{label:"關係"},{default:r(()=>[a(f,{modelValue:o.value.emergency1.relation,"onUpdate:modelValue":e[57]||(e[57]=l=>o.value.emergency1.relation=l),placeholder:"選擇關係"},{default:r(()=>[(v(),c(b,null,V(ie,l=>a(m,{key:"r1-"+l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),u("div",Ya,[a(s,{label:"電話一"},{default:r(()=>[a(i,{modelValue:o.value.emergency1.phone1,"onUpdate:modelValue":e[58]||(e[58]=l=>o.value.emergency1.phone1=l),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"電話二"},{default:r(()=>[a(i,{modelValue:o.value.emergency1.phone2,"onUpdate:modelValue":e[59]||(e[59]=l=>o.value.emergency1.phone2=l),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1})])]),u("div",Ba,[e[104]||(e[104]=u("h4",{class:"contact-subtitle"},"聯絡人二",-1)),u("div",Oa,[a(s,{label:"姓名"},{default:r(()=>[a(i,{modelValue:o.value.emergency2.name,"onUpdate:modelValue":e[60]||(e[60]=l=>o.value.emergency2.name=l),placeholder:"請輸入姓名"},null,8,["modelValue"])]),_:1}),a(s,{label:"關係"},{default:r(()=>[a(f,{modelValue:o.value.emergency2.relation,"onUpdate:modelValue":e[61]||(e[61]=l=>o.value.emergency2.relation=l),placeholder:"選擇關係"},{default:r(()=>[(v(),c(b,null,V(ie,l=>a(m,{key:"r2-"+l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),u("div",za,[a(s,{label:"電話一"},{default:r(()=>[a(i,{modelValue:o.value.emergency2.phone1,"onUpdate:modelValue":e[62]||(e[62]=l=>o.value.emergency2.phone1=l),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1}),a(s,{label:"電話二"},{default:r(()=>[a(i,{modelValue:o.value.emergency2.phone2,"onUpdate:modelValue":e[63]||(e[63]=l=>o.value.emergency2.phone2=l),placeholder:"請輸入電話"},null,8,["modelValue"])]),_:1})])])]),u("div",xa,[e[108]||(e[108]=u("h3",{class:"form-group-title"},"工作經歷",-1)),u("div",ja,[(v(!0),c(b,null,V(o.value.experiences,(l,A)=>(v(),c("div",{key:A,class:"experience-item"},[u("div",qa,[u("h4",Ma,"經歷 "+w(A+1),1),a(t,{type:"danger",size:"small",onClick:p=>sl(A),class:"remove-btn"},{default:r(()=>e[106]||(e[106]=[u("i",{class:"el-icon-delete"},null,-1),D(" 刪除 ")])),_:2},1032,["onClick"])]),u("div",Ga,[a(s,{label:"單位名稱"},{default:r(()=>[a(i,{modelValue:l.unit,"onUpdate:modelValue":p=>l.unit=p,placeholder:"請輸入單位名稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"職稱"},{default:r(()=>[a(i,{modelValue:l.title,"onUpdate:modelValue":p=>l.title=p,placeholder:"請輸入職稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),u("div",Fa,[a(s,{label:"到職年月"},{default:r(()=>[a(U,{modelValue:l.start,"onUpdate:modelValue":p=>l.start=p,type:"month",placeholder:"選擇到職年月"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"離職年月"},{default:r(()=>[a(U,{modelValue:l.end,"onUpdate:modelValue":p=>l.end=p,type:"month",placeholder:"選擇離職年月"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)])]))),128))]),a(t,{type:"primary",onClick:ol,class:"add-item-btn"},{default:r(()=>e[107]||(e[107]=[u("i",{class:"el-icon-plus"},null,-1),D(" 新增經歷 ")])),_:1})]),u("div",Ha,[e[113]||(e[113]=u("h3",{class:"form-group-title"},"證照",-1)),u("div",Ja,[(v(!0),c(b,null,V(o.value.licenses,(l,A)=>(v(),c("div",{key:`license-${A}`,class:"experience-item"},[u("div",Wa,[u("h4",Ka,"證照 "+w(A+1),1),a(t,{type:"danger",size:"small",onClick:p=>rl(A),class:"remove-btn"},{default:r(()=>e[109]||(e[109]=[u("i",{class:"el-icon-delete"},null,-1),D(" 刪除 ")])),_:2},1032,["onClick"])]),u("div",Qa,[a(s,{label:"證照名稱"},{default:r(()=>[a(i,{modelValue:l.name,"onUpdate:modelValue":p=>l.name=p,placeholder:"請輸入證照名稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"證照字號"},{default:r(()=>[a(i,{modelValue:l.number,"onUpdate:modelValue":p=>l.number=p,placeholder:"請輸入證照字號"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),u("div",Xa,[a(s,{label:"核發日期"},{default:r(()=>[a(U,{modelValue:l.startDate,"onUpdate:modelValue":p=>l.startDate=p,type:"date",placeholder:"選擇核發日期"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"有效期限"},{default:r(()=>[a(U,{modelValue:l.endDate,"onUpdate:modelValue":p=>l.endDate=p,type:"date",placeholder:"選擇有效期限"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),u("div",Za,[a(s,{label:"證照檔案",class:"full-width-item"},{default:r(()=>[a(C,{"file-list":l.fileList,"onUpdate:fileList":p=>l.fileList=p,action:"#",multiple:"","list-type":"text","http-request":Ve,"on-success":(p,R,re)=>ge("licenses",A,p,R,re),"on-remove":(p,R)=>_e("licenses",A,p,R)},{tip:r(()=>e[111]||(e[111]=[u("div",{class:"upload-tip"},"可上傳多個檔案，將以連結形式儲存",-1)])),default:r(()=>[a(t,{type:"primary",plain:""},{default:r(()=>e[110]||(e[110]=[u("i",{class:"el-icon-upload2"},null,-1),D(" 上傳檔案 ")])),_:1})]),_:2},1032,["file-list","onUpdate:fileList","on-success","on-remove"])]),_:2},1024)])]))),128))]),a(t,{type:"primary",onClick:ul,class:"add-item-btn"},{default:r(()=>e[112]||(e[112]=[u("i",{class:"el-icon-plus"},null,-1),D(" 新增證照 ")])),_:1})]),u("div",et,[e[118]||(e[118]=u("h3",{class:"form-group-title"},"教育訓練",-1)),u("div",lt,[(v(!0),c(b,null,V(o.value.trainings,(l,A)=>(v(),c("div",{key:`training-${A}`,class:"experience-item"},[u("div",at,[u("h4",tt,"教育訓練 "+w(A+1),1),a(t,{type:"danger",size:"small",onClick:p=>dl(A),class:"remove-btn"},{default:r(()=>e[114]||(e[114]=[u("i",{class:"el-icon-delete"},null,-1),D(" 刪除 ")])),_:2},1032,["onClick"])]),u("div",ot,[a(s,{label:"課程名稱"},{default:r(()=>[a(i,{modelValue:l.course,"onUpdate:modelValue":p=>l.course=p,placeholder:"請輸入課程名稱"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"課程代碼"},{default:r(()=>[a(i,{modelValue:l.courseNo,"onUpdate:modelValue":p=>l.courseNo=p,placeholder:"請輸入課程代碼"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),u("div",st,[a(s,{label:"上課日期"},{default:r(()=>[a(U,{modelValue:l.date,"onUpdate:modelValue":p=>l.date=p,type:"date",placeholder:"選擇日期"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"積分類別",class:"full-width-item"},{default:r(()=>[a(f,{modelValue:l.category,"onUpdate:modelValue":p=>l.category=p,multiple:"","collapse-tags":"",placeholder:"選擇積分類別"},{default:r(()=>[(v(),c(b,null,V(Ie,p=>a(m,{key:p,label:p,value:p},null,8,["label","value"])),64))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),u("div",ut,[a(s,{label:"積分"},{default:r(()=>[a(S,{modelValue:l.score,"onUpdate:modelValue":p=>l.score=p,min:0,step:.5,"value-on-clear":null},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(s,{label:"訓練檔案",class:"full-width-item"},{default:r(()=>[a(C,{"file-list":l.fileList,"onUpdate:fileList":p=>l.fileList=p,action:"#",multiple:"","list-type":"text","http-request":Ve,"on-success":(p,R,re)=>ge("trainings",A,p,R,re),"on-remove":(p,R)=>_e("trainings",A,p,R)},{tip:r(()=>e[116]||(e[116]=[u("div",{class:"upload-tip"},"支援多檔上傳，將以連結形式儲存",-1)])),default:r(()=>[a(t,{type:"primary",plain:""},{default:r(()=>e[115]||(e[115]=[u("i",{class:"el-icon-upload2"},null,-1),D(" 上傳檔案 ")])),_:1})]),_:2},1032,["file-list","onUpdate:fileList","on-success","on-remove"])]),_:2},1024)])]))),128))]),a(t,{type:"primary",onClick:nl,class:"add-item-btn"},{default:r(()=>e[117]||(e[117]=[u("i",{class:"el-icon-plus"},null,-1),D(" 新增教育訓練 ")])),_:1})])])])]),_:1}),a(T,{name:"salary"},{label:r(()=>e[119]||(e[119]=[u("div",{class:"tab-label"},[u("i",{class:"el-icon-money"}),u("span",null,"薪資設定")],-1)])),default:r(()=>[u("div",rt,[u("div",nt,[u("div",dt,[e[120]||(e[120]=u("h3",{class:"form-group-title"},"薪資資訊",-1)),u("div",it,[a(s,{label:"薪資類別"},{default:r(()=>[a(f,{modelValue:o.value.salaryType,"onUpdate:modelValue":e[64]||(e[64]=l=>o.value.salaryType=l),placeholder:"選擇類別"},{default:r(()=>[(v(),c(b,null,V(Re,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(s,{label:"薪資金額"},{default:r(()=>[a(S,{modelValue:o.value.salaryAmount,"onUpdate:modelValue":e[65]||(e[65]=l=>o.value.salaryAmount=l),min:0,step:1e3,formatter:l=>`$ ${l??0}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:l=>l?l.replace(/\$\s?|(,*)/g,""):""},null,8,["modelValue","formatter","parser"])]),_:1}),a(s,{label:"勞退自提",prop:"laborPensionSelf"},{default:r(()=>[a(S,{modelValue:o.value.laborPensionSelf,"onUpdate:modelValue":e[66]||(e[66]=l=>o.value.laborPensionSelf=l),min:0,step:100,formatter:l=>`$ ${l??0}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:l=>l?l.replace(/\$\s?|(,*)/g,""):""},null,8,["modelValue","formatter","parser"])]),_:1}),a(s,{label:"員工預支",prop:"employeeAdvance"},{default:r(()=>[a(S,{modelValue:o.value.employeeAdvance,"onUpdate:modelValue":e[67]||(e[67]=l=>o.value.employeeAdvance=l),min:0,step:100,formatter:l=>`$ ${l??0}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:l=>l?l.replace(/\$\s?|(,*)/g,""):""},null,8,["modelValue","formatter","parser"])]),_:1}),a(s,{class:"full-width-item",label:"薪資項目",prop:"salaryItems"},{default:r(()=>[a(f,{modelValue:o.value.salaryItems,"onUpdate:modelValue":e[68]||(e[68]=l=>o.value.salaryItems=l),multiple:"","collapse-tags":"","collapse-tags-tooltip":"",placeholder:"選擇薪資項目"},{default:r(()=>[(v(),c(b,null,V(Y,l=>a(m,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})])]),u("div",mt,[e[123]||(e[123]=u("h3",{class:"form-group-title"},"銀行帳戶",-1)),u("div",pt,[e[121]||(e[121]=u("h4",{class:"account-subtitle"},"薪資帳戶 A",-1)),u("div",vt,[a(s,{label:"銀行代碼/名稱"},{default:r(()=>[a(i,{modelValue:o.value.salaryAccountA.bank,"onUpdate:modelValue":e[69]||(e[69]=l=>o.value.salaryAccountA.bank=l),placeholder:"請輸入銀行資訊"},null,8,["modelValue"])]),_:1}),a(s,{label:"帳號"},{default:r(()=>[a(i,{modelValue:o.value.salaryAccountA.acct,"onUpdate:modelValue":e[70]||(e[70]=l=>o.value.salaryAccountA.acct=l),placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1})])]),u("div",ct,[e[122]||(e[122]=u("h4",{class:"account-subtitle"},"薪資帳戶 B",-1)),u("div",ft,[a(s,{label:"銀行代碼/名稱"},{default:r(()=>[a(i,{modelValue:o.value.salaryAccountB.bank,"onUpdate:modelValue":e[71]||(e[71]=l=>o.value.salaryAccountB.bank=l),placeholder:"請輸入銀行資訊"},null,8,["modelValue"])]),_:1}),a(s,{label:"帳號"},{default:r(()=>[a(i,{modelValue:o.value.salaryAccountB.acct,"onUpdate:modelValue":e[72]||(e[72]=l=>o.value.salaryAccountB.acct=l),placeholder:"請輸入帳號"},null,8,["modelValue"])]),_:1})])])])])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["model"])]),_:1},8,["modelValue"])])]),_:1})}}},Vt=ke(bt,[["__scopeId","data-v-a6f6e39f"]]),gt={class:"hr-management-system-setting"},_t={__name:"HRManagementSystemSetting",setup(Le){const M=E("employeeMgmt");return(de,$)=>{const K=h("el-tabs");return v(),c("div",gt,[$[1]||($[1]=u("h2",null,"人事管理與系統設定",-1)),a(K,{modelValue:M.value,"onUpdate:modelValue":$[0]||($[0]=Q=>M.value=Q),type:"card"},{default:r(()=>[a(Vt)]),_:1},8,["modelValue"])])}}},At=ke(_t,[["__scopeId","data-v-8631704d"]]);export{At as default};
