import{a as H}from"./api-BH1Z2RaR.js";import{_ as Re,r as v,j as Fe,c as M,o as C,b as V,d as l,w as t,e as d,g as o,t as y,F as A,l as P,h as G,E as f,z as Q,k as Ie}from"./index-BLHruX9W.js";const Ae={class:"other-control-setting"},Pe={class:"tab-content"},De={class:"tab-content"},Oe={class:"list-action-row"},$e={class:"tab-content"},qe={class:"list-action-row"},ze={class:"tab-content"},He={class:"tab-content"},Ke={class:"list-action-row"},je={class:"dialog-footer"},Ne={class:"dialog-footer"},Le={class:"dialog-footer"},We={__name:"OtherControlSetting",setup(ie){const K=v("notification"),s=v({enableEmail:!0,enableSMS:!1,defaultReminderMinutes:30,digestTime:"08:30",escalationTargets:["manager"],frequency:"immediate"}),de=[{label:"部門主管",value:"manager"},{label:"HR 夥伴",value:"hr"},{label:"系統管理員",value:"admin"}],i=v({enforce2FA:!0,passwordExpiration:!0,passwordExpireDays:90,sessionTimeout:30,loginAlert:!0,maintenanceContacts:["security"]}),re=[{label:"資訊安全",value:"security"},{label:"系統管理員",value:"admin"},{label:"HR 主管",value:"hr"}],x=v([{label:"台北總部",address:"203.0.113.0/24"},{label:"備援機房",address:"198.51.100.25"}]),D=v(!1),j=v(-1),_=v({label:"",address:""}),X=[{label:"文字輸入",value:"text"},{label:"多行文字",value:"textarea"},{label:"單選選項",value:"select"},{label:"複選",value:"checkbox"},{label:"日期",value:"date"}],me=X.reduce((u,e)=>({...u,[e.value]:e.label}),{}),E=v([{label:"員工證字號",fieldKey:"nationalId",type:"text",required:!0,description:"供報稅與投保使用"},{label:"制服尺寸",fieldKey:"uniformSize",type:"select",required:!1,description:"入職前通知行政備貨"}]),O=v(!1),N=v(-1),p=v({label:"",fieldKey:"",type:"text",required:!1,description:""}),pe=[{label:"無",value:"none"},{label:"Workday",value:"workday"},{label:"SAP SuccessFactors",value:"sap"},{label:"Local ERP",value:"local"}],c=v({vendor:"none",syncSchedule:!0,syncPayroll:!1,webhookUrl:"",autoRetry:!0}),T=v({lastSync:"尚未同步",statusMessage:"等待測試"}),Y=[{label:"指派預設角色",value:"assignDefaultRole"},{label:"寄送通知郵件",value:"sendMail"},{label:"建立審核待辦",value:"createApprovalTask"},{label:"鎖定帳號",value:"lockAccount"}],ve=Y.reduce((u,e)=>({...u,[e.value]:e.label}),{}),Z=[{label:"部門主管",value:"manager"},{label:"HR 夥伴",value:"hr"},{label:"系統管理員",value:"admin"},{label:"資安人員",value:"security"}],fe=Z.reduce((u,e)=>({...u,[e.value]:e.label}),{}),U=v([{name:"新員工自動啟用",trigger:"建立員工主檔後",status:"enabled",actions:["assignDefaultRole","sendMail"],notifyTargets:["hr"],description:"自動寄送歡迎信並指派 HR 夥伴"},{name:"異常登入鎖定",trigger:"帳號連續 5 次登入失敗",status:"disabled",actions:["lockAccount","sendMail"],notifyTargets:["admin","security"],description:"通知系統管理員並暫停帳號"}]),$=v(!1),L=v(-1),m=v({name:"",trigger:"",actions:[],notifyTargets:[],status:"enabled",description:""});Fe(()=>{be()});async function be(){try{const u=await H("/api/other-control-settings",{method:"GET"},{autoRedirect:!1});if(u.ok){const e=await u.json();e.notification&&(s.value={...s.value,...e.notification}),e.security&&(i.value={...i.value,...e.security},Array.isArray(e.security.ipWhitelist)&&(x.value=e.security.ipWhitelist)),Array.isArray(e.customFields)&&(E.value=e.customFields),e.integration&&(c.value={...c.value,...e.integration},T.value={lastSync:e.integration.lastSync||T.value.lastSync,statusMessage:e.integration.statusMessage||T.value.statusMessage}),Array.isArray(e.automationRules)&&(U.value=e.automationRules)}}catch(u){console.warn("載入其他控制設定失敗：",u)}}async function ye(){try{if(!(await H("/api/other-control-settings/notification",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s.value)})).ok)throw new Error("儲存失敗");f.success("已儲存通知設定")}catch{f.error("儲存通知設定時發生問題")}}async function ce(){const u={...i.value,ipWhitelist:x.value};try{if(!(await H("/api/other-control-settings/security",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)throw new Error("儲存失敗");f.success("已儲存安全設定")}catch{f.error("儲存安全設定時發生問題")}}function h(u=-1){j.value=u,u>-1?_.value={...x.value[u]}:_.value={label:"",address:""},D.value=!0}async function ge(){if(!_.value.label||!_.value.address){f.warning("請填寫完整的 IP 資訊");return}j.value>-1?x.value.splice(j.value,1,{..._.value}):x.value.push({..._.value}),D.value=!1,f.success("已更新 IP 白名單")}async function Ve(u){try{await Q.confirm("確定要移除該 IP 限制嗎？","提醒",{type:"warning"}),x.value.splice(u,1),f.success("已移除 IP 限制")}catch{}}function ee(u=-1){N.value=u,u>-1?p.value={...E.value[u]}:p.value={label:"",fieldKey:"",type:"text",required:!1,description:""},O.value=!0}async function _e(){if(!p.value.label||!p.value.fieldKey){f.warning("欄位名稱與識別代碼為必填");return}N.value>-1?E.value.splice(N.value,1,{...p.value}):E.value.push({...p.value}),O.value=!1,f.success("已更新自訂欄位")}async function we(u){try{await Q.confirm("確定要刪除此欄位嗎？","提醒",{type:"warning"}),E.value.splice(u,1),f.success("已刪除自訂欄位")}catch{}}async function ke(){try{if(!(await H("/api/other-control-settings/integration",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c.value)})).ok)throw new Error("儲存失敗");T.value={lastSync:new Date().toLocaleString(),statusMessage:"設定已更新，等待下一次同步"},f.success("已儲存整合設定")}catch{f.error("儲存整合設定時發生問題")}}async function Se(){T.value={lastSync:new Date().toLocaleString(),statusMessage:"測試連線成功"},f.success("測試連線請求已送出")}function le(u=-1){if(L.value=u,u>-1){const e=U.value[u];m.value={name:e.name,trigger:e.trigger,actions:[...e.actions],notifyTargets:[...e.notifyTargets],status:e.status,description:e.description||""}}else m.value={name:"",trigger:"",actions:[],notifyTargets:[],status:"enabled",description:""};$.value=!0}async function Ue(){if(!m.value.name||!m.value.trigger){f.warning("請填寫規則名稱與觸發條件");return}L.value>-1?U.value.splice(L.value,1,{...m.value}):U.value.push({...m.value}),$.value=!1,f.success("已更新自動化規則")}async function Ce(u){try{await Q.confirm("確定要刪除這條規則嗎？","提醒",{type:"warning"}),U.value.splice(u,1),f.success("已刪除自動化規則")}catch{}}function xe(u){const e=U.value[u],w=e.status==="enabled"?"disabled":"enabled";U.value.splice(u,1,{...e,status:w}),f.success(`規則已${w==="enabled"?"啟用":"停用"}`)}return(u,e)=>{const w=d("el-descriptions-item"),ae=d("el-descriptions"),W=d("el-divider"),k=d("el-switch"),n=d("el-form-item"),te=d("el-input-number"),Te=d("el-time-picker"),R=d("el-option"),F=d("el-select"),q=d("el-radio-button"),oe=d("el-radio-group"),r=d("el-button"),I=d("el-form"),z=d("el-tab-pane"),Me=d("el-slider"),b=d("el-table-column"),B=d("el-table"),ue=d("el-alert"),S=d("el-input"),ne=d("el-tag"),Ee=d("el-tabs"),J=d("el-dialog");return C(),M("div",Ae,[e[68]||(e[68]=V("h2",null,"其他控制設定",-1)),l(Ee,{modelValue:K.value,"onUpdate:modelValue":e[20]||(e[20]=a=>K.value=a),type:"border-card"},{default:t(()=>[l(z,{label:"通知中心",name:"notification"},{default:t(()=>[V("div",Pe,[l(ae,{column:2,title:"目前通知策略",class:"descriptions-block"},{default:t(()=>[l(w,{label:"Email 通知"},{default:t(()=>[o(y(s.value.enableEmail?"啟用":"停用"),1)]),_:1}),l(w,{label:"SMS 通知"},{default:t(()=>[o(y(s.value.enableSMS?"啟用":"停用"),1)]),_:1}),l(w,{label:"每日摘要時間"},{default:t(()=>[o(y(s.value.digestTime||"未設定"),1)]),_:1}),l(w,{label:"預設提醒"},{default:t(()=>[o("提前 "+y(s.value.defaultReminderMinutes)+" 分鐘",1)]),_:1})]),_:1}),l(W,{"content-position":"left"},{default:t(()=>e[40]||(e[40]=[o("編輯通知策略")])),_:1}),l(I,{model:s.value,"label-width":"160px",class:"form-layout"},{default:t(()=>[l(n,{label:"啟用 Email 通知"},{default:t(()=>[l(k,{modelValue:s.value.enableEmail,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.enableEmail=a),"active-text":"啟用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(n,{label:"啟用 SMS 通知"},{default:t(()=>[l(k,{modelValue:s.value.enableSMS,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.enableSMS=a),"active-text":"啟用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(n,{label:"預設提醒(分鐘)"},{default:t(()=>[l(te,{modelValue:s.value.defaultReminderMinutes,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.defaultReminderMinutes=a),min:0,step:5},null,8,["modelValue"])]),_:1}),l(n,{label:"每日摘要時間"},{default:t(()=>[l(Te,{modelValue:s.value.digestTime,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.digestTime=a),placeholder:"選擇時間",format:"HH:mm","value-format":"HH:mm",disabled:!s.value.enableEmail},null,8,["modelValue","disabled"])]),_:1}),l(n,{label:"升級通知對象"},{default:t(()=>[l(F,{modelValue:s.value.escalationTargets,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.escalationTargets=a),multiple:"",placeholder:"選擇對象"},{default:t(()=>[(C(),M(A,null,P(de,a=>l(R,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"通知頻率"},{default:t(()=>[l(oe,{modelValue:s.value.frequency,"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.frequency=a)},{default:t(()=>[l(q,{label:"immediate"},{default:t(()=>e[41]||(e[41]=[o("即時")])),_:1}),l(q,{label:"hourly"},{default:t(()=>e[42]||(e[42]=[o("每小時彙整")])),_:1}),l(q,{label:"daily"},{default:t(()=>e[43]||(e[43]=[o("每日彙整")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,null,{default:t(()=>[l(r,{type:"primary",onClick:ye},{default:t(()=>e[44]||(e[44]=[o("儲存通知設定")])),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),l(z,{label:"安全控制",name:"security"},{default:t(()=>[V("div",De,[l(ae,{column:2,title:"目前安全概要",class:"descriptions-block"},{default:t(()=>[l(w,{label:"雙因素驗證"},{default:t(()=>[o(y(i.value.enforce2FA?"強制":"選用"),1)]),_:1}),l(w,{label:"密碼有效天數"},{default:t(()=>[o(y(i.value.passwordExpiration?i.value.passwordExpireDays+" 天":"不限制"),1)]),_:1}),l(w,{label:"閒置登出"},{default:t(()=>[o(y(i.value.sessionTimeout)+" 分鐘 ",1)]),_:1}),l(w,{label:"異常登入通知"},{default:t(()=>[o(y(i.value.loginAlert?"啟用":"停用"),1)]),_:1})]),_:1}),l(W,{"content-position":"left"},{default:t(()=>e[45]||(e[45]=[o("編輯安全控制")])),_:1}),l(I,{model:i.value,"label-width":"180px",class:"form-layout"},{default:t(()=>[l(n,{label:"強制雙因素驗證"},{default:t(()=>[l(k,{modelValue:i.value.enforce2FA,"onUpdate:modelValue":e[6]||(e[6]=a=>i.value.enforce2FA=a),"active-text":"強制","inactive-text":"選用"},null,8,["modelValue"])]),_:1}),l(n,{label:"密碼期限"},{default:t(()=>[l(k,{modelValue:i.value.passwordExpiration,"onUpdate:modelValue":e[7]||(e[7]=a=>i.value.passwordExpiration=a),"active-text":"啟用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(n,{label:"密碼有效天數"},{default:t(()=>[l(te,{modelValue:i.value.passwordExpireDays,"onUpdate:modelValue":e[8]||(e[8]=a=>i.value.passwordExpireDays=a),min:0,disabled:!i.value.passwordExpiration},null,8,["modelValue","disabled"])]),_:1}),l(n,{label:"閒置自動登出"},{default:t(()=>[l(Me,{modelValue:i.value.sessionTimeout,"onUpdate:modelValue":e[9]||(e[9]=a=>i.value.sessionTimeout=a),min:5,max:120,step:5,"show-input":""},null,8,["modelValue"])]),_:1}),l(n,{label:"異常登入通知"},{default:t(()=>[l(k,{modelValue:i.value.loginAlert,"onUpdate:modelValue":e[10]||(e[10]=a=>i.value.loginAlert=a),"active-text":"啟用","inactive-text":"停用"},null,8,["modelValue"])]),_:1}),l(n,{label:"維運通知人"},{default:t(()=>[l(F,{modelValue:i.value.maintenanceContacts,"onUpdate:modelValue":e[11]||(e[11]=a=>i.value.maintenanceContacts=a),multiple:"",placeholder:"選擇人員"},{default:t(()=>[(C(),M(A,null,P(re,a=>l(R,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,null,{default:t(()=>[l(r,{type:"primary",onClick:ce},{default:t(()=>e[46]||(e[46]=[o("儲存安全設定")])),_:1})]),_:1})]),_:1},8,["model"]),l(W,{"content-position":"left"},{default:t(()=>e[47]||(e[47]=[o("IP 限制")])),_:1}),V("div",Oe,[e[49]||(e[49]=V("span",{class:"hint"},"僅允許表列來源連線後台",-1)),l(r,{type:"primary",onClick:e[12]||(e[12]=a=>h())},{default:t(()=>e[48]||(e[48]=[o("新增 IP")])),_:1})]),l(B,{data:x.value,border:""},{default:t(()=>[l(b,{prop:"label",label:"辨識名稱",width:"180"}),l(b,{prop:"address",label:"IP / 網段"}),l(b,{label:"操作",width:"180"},{default:t(({$index:a})=>[l(r,{size:"small",onClick:g=>h(a)},{default:t(()=>e[50]||(e[50]=[o("編輯")])),_:2},1032,["onClick"]),l(r,{size:"small",type:"danger",onClick:g=>Ve(a)},{default:t(()=>e[51]||(e[51]=[o("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1}),l(z,{label:"自訂欄位",name:"custom-field"},{default:t(()=>[V("div",$e,[l(ue,{title:"可用於員工資料或流程表單的額外欄位",type:"info","show-icon":"",class:"info-alert"}),V("div",qe,[l(r,{type:"primary",onClick:e[13]||(e[13]=a=>ee())},{default:t(()=>e[52]||(e[52]=[o("新增欄位")])),_:1})]),l(B,{data:E.value,border:""},{default:t(()=>[l(b,{prop:"label",label:"欄位名稱",width:"180"}),l(b,{prop:"fieldKey",label:"識別代碼",width:"200"}),l(b,{prop:"type",label:"欄位型別",width:"120"},{default:t(({row:a})=>[o(y(G(me)[a.type]||a.type),1)]),_:1}),l(b,{prop:"required",label:"必填",width:"100"},{default:t(({row:a})=>[o(y(a.required?"是":"否"),1)]),_:1}),l(b,{prop:"description",label:"使用說明"}),l(b,{label:"操作",width:"180"},{default:t(({$index:a})=>[l(r,{size:"small",onClick:g=>ee(a)},{default:t(()=>e[53]||(e[53]=[o("編輯")])),_:2},1032,["onClick"]),l(r,{size:"small",type:"danger",onClick:g=>we(a)},{default:t(()=>e[54]||(e[54]=[o("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1}),l(z,{label:"整合與同步",name:"integration"},{default:t(()=>[V("div",ze,[l(I,{model:c.value,"label-width":"200px",class:"form-layout"},{default:t(()=>[l(n,{label:"預設整合廠商"},{default:t(()=>[l(F,{modelValue:c.value.vendor,"onUpdate:modelValue":e[14]||(e[14]=a=>c.value.vendor=a),placeholder:"選擇廠商"},{default:t(()=>[(C(),M(A,null,P(pe,a=>l(R,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"啟用排班同步"},{default:t(()=>[l(k,{modelValue:c.value.syncSchedule,"onUpdate:modelValue":e[15]||(e[15]=a=>c.value.syncSchedule=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"啟用薪資系統同步"},{default:t(()=>[l(k,{modelValue:c.value.syncPayroll,"onUpdate:modelValue":e[16]||(e[16]=a=>c.value.syncPayroll=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"Webhook URL"},{default:t(()=>[l(S,{modelValue:c.value.webhookUrl,"onUpdate:modelValue":e[17]||(e[17]=a=>c.value.webhookUrl=a),placeholder:"https://example.com/webhook"},null,8,["modelValue"])]),_:1}),l(n,{label:"發生錯誤自動重試"},{default:t(()=>[l(k,{modelValue:c.value.autoRetry,"onUpdate:modelValue":e[18]||(e[18]=a=>c.value.autoRetry=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"最後一次同步"},{default:t(()=>[l(ne,{type:"info"},{default:t(()=>[o(y(T.value.lastSync),1)]),_:1})]),_:1}),l(n,null,{default:t(()=>[l(r,{type:"primary",onClick:ke},{default:t(()=>e[55]||(e[55]=[o("儲存整合設定")])),_:1}),l(r,{onClick:Se},{default:t(()=>e[56]||(e[56]=[o("測試連線")])),_:1})]),_:1})]),_:1},8,["model"]),l(ue,{title:`最近同步狀態：${T.value.statusMessage}`,type:"success","show-icon":"",class:"status-alert"},null,8,["title"])])]),_:1}),l(z,{label:"自動化規則",name:"automation"},{default:t(()=>[V("div",He,[V("div",Ke,[l(r,{type:"primary",onClick:e[19]||(e[19]=a=>le())},{default:t(()=>e[57]||(e[57]=[o("新增規則")])),_:1})]),l(B,{data:U.value,border:""},{default:t(()=>[l(b,{prop:"name",label:"規則名稱",width:"220"}),l(b,{prop:"trigger",label:"觸發條件"}),l(b,{prop:"status",label:"狀態",width:"120"},{default:t(({row:a})=>[l(ne,{type:a.status==="enabled"?"success":"info"},{default:t(()=>[o(y(a.status==="enabled"?"啟用":"停用"),1)]),_:2},1032,["type"])]),_:1}),l(b,{label:"執行動作",width:"220"},{default:t(({row:a})=>[o(y(a.actions.map(g=>G(ve)[g]||g).join("、")),1)]),_:1}),l(b,{label:"通知對象",width:"180"},{default:t(({row:a})=>[o(y(a.notifyTargets.map(g=>G(fe)[g]||g).join("、")),1)]),_:1}),l(b,{label:"操作",width:"220"},{default:t(({row:a,$index:g})=>[l(r,{size:"small",onClick:se=>xe(g)},{default:t(()=>[o(y(a.status==="enabled"?"停用":"啟用"),1)]),_:2},1032,["onClick"]),l(r,{size:"small",onClick:se=>le(g)},{default:t(()=>e[58]||(e[58]=[o("編輯")])),_:2},1032,["onClick"]),l(r,{size:"small",type:"danger",onClick:se=>Ce(g)},{default:t(()=>e[59]||(e[59]=[o("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1})]),_:1},8,["modelValue"]),l(J,{modelValue:D.value,"onUpdate:modelValue":e[24]||(e[24]=a=>D.value=a),title:"IP 白名單",width:"420px"},{footer:t(()=>[V("span",je,[l(r,{onClick:e[23]||(e[23]=a=>D.value=!1)},{default:t(()=>e[60]||(e[60]=[o("取消")])),_:1}),l(r,{type:"primary",onClick:ge},{default:t(()=>e[61]||(e[61]=[o("儲存")])),_:1})])]),default:t(()=>[l(I,{model:_.value,"label-width":"100px"},{default:t(()=>[l(n,{label:"名稱"},{default:t(()=>[l(S,{modelValue:_.value.label,"onUpdate:modelValue":e[21]||(e[21]=a=>_.value.label=a),placeholder:"如：總部辦公室"},null,8,["modelValue"])]),_:1}),l(n,{label:"IP/網段"},{default:t(()=>[l(S,{modelValue:_.value.address,"onUpdate:modelValue":e[22]||(e[22]=a=>_.value.address=a),placeholder:"192.168.1.1 或 203.0.113.0/24"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(J,{modelValue:O.value,"onUpdate:modelValue":e[31]||(e[31]=a=>O.value=a),title:"自訂欄位",width:"480px"},{footer:t(()=>[V("span",Ne,[l(r,{onClick:e[30]||(e[30]=a=>O.value=!1)},{default:t(()=>e[62]||(e[62]=[o("取消")])),_:1}),l(r,{type:"primary",onClick:_e},{default:t(()=>e[63]||(e[63]=[o("儲存")])),_:1})])]),default:t(()=>[l(I,{model:p.value,"label-width":"100px"},{default:t(()=>[l(n,{label:"欄位名稱"},{default:t(()=>[l(S,{modelValue:p.value.label,"onUpdate:modelValue":e[25]||(e[25]=a=>p.value.label=a),placeholder:"顯示名稱"},null,8,["modelValue"])]),_:1}),l(n,{label:"識別代碼"},{default:t(()=>[l(S,{modelValue:p.value.fieldKey,"onUpdate:modelValue":e[26]||(e[26]=a=>p.value.fieldKey=a),placeholder:"英數字代碼"},null,8,["modelValue"])]),_:1}),l(n,{label:"欄位型別"},{default:t(()=>[l(F,{modelValue:p.value.type,"onUpdate:modelValue":e[27]||(e[27]=a=>p.value.type=a)},{default:t(()=>[(C(),M(A,null,P(X,a=>l(R,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"是否必填"},{default:t(()=>[l(k,{modelValue:p.value.required,"onUpdate:modelValue":e[28]||(e[28]=a=>p.value.required=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"使用說明"},{default:t(()=>[l(S,{modelValue:p.value.description,"onUpdate:modelValue":e[29]||(e[29]=a=>p.value.description=a),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(J,{modelValue:$.value,"onUpdate:modelValue":e[39]||(e[39]=a=>$.value=a),title:"自動化規則",width:"520px"},{footer:t(()=>[V("span",Le,[l(r,{onClick:e[38]||(e[38]=a=>$.value=!1)},{default:t(()=>e[66]||(e[66]=[o("取消")])),_:1}),l(r,{type:"primary",onClick:Ue},{default:t(()=>e[67]||(e[67]=[o("儲存")])),_:1})])]),default:t(()=>[l(I,{model:m.value,"label-width":"120px"},{default:t(()=>[l(n,{label:"規則名稱"},{default:t(()=>[l(S,{modelValue:m.value.name,"onUpdate:modelValue":e[32]||(e[32]=a=>m.value.name=a)},null,8,["modelValue"])]),_:1}),l(n,{label:"觸發條件"},{default:t(()=>[l(S,{modelValue:m.value.trigger,"onUpdate:modelValue":e[33]||(e[33]=a=>m.value.trigger=a),placeholder:"例如：建立新員工資料"},null,8,["modelValue"])]),_:1}),l(n,{label:"通知對象"},{default:t(()=>[l(F,{modelValue:m.value.notifyTargets,"onUpdate:modelValue":e[34]||(e[34]=a=>m.value.notifyTargets=a),multiple:""},{default:t(()=>[(C(),M(A,null,P(Z,a=>l(R,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"執行動作"},{default:t(()=>[l(F,{modelValue:m.value.actions,"onUpdate:modelValue":e[35]||(e[35]=a=>m.value.actions=a),multiple:""},{default:t(()=>[(C(),M(A,null,P(Y,a=>l(R,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"狀態"},{default:t(()=>[l(oe,{modelValue:m.value.status,"onUpdate:modelValue":e[36]||(e[36]=a=>m.value.status=a)},{default:t(()=>[l(q,{label:"enabled"},{default:t(()=>e[64]||(e[64]=[o("啟用")])),_:1}),l(q,{label:"disabled"},{default:t(()=>e[65]||(e[65]=[o("停用")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"備註"},{default:t(()=>[l(S,{modelValue:m.value.description,"onUpdate:modelValue":e[37]||(e[37]=a=>m.value.description=a),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},Be=Re(We,[["__scopeId","data-v-b3540d59"]]),Qe={__name:"OtherControlSettingView",setup(ie){return(K,s)=>(C(),Ie(Be))}};export{Qe as default};
