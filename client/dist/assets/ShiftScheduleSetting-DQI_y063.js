import{_ as Z,r as f,c as E,d as _,a as e,w as a,b as d,o as I,e as s,F as h,i as ee}from"./index-DZsOhPq3.js";const le={class:"shift-schedule-setting"},ae={class:"tab-content"},te={slot:"footer",class:"dialog-footer"},oe={class:"tab-content"},ue={slot:"footer",class:"dialog-footer"},de={class:"tab-content"},ne={class:"tab-content"},se={class:"tab-content"},N="YYYY-MM-DD",x="HH:mm",ie={__name:"ShiftScheduleSetting",setup(me){const c=f("calendar"),y=f([{date:"2025-01-01",type:"國定假日",desc:"元旦"},{date:"2025-02-28",type:"國定假日",desc:"和平紀念日"},{date:"2025-04-05",type:"公司休息日",desc:"兒童節補休"}]),k=f(!1);let D=null;const m=f({date:"",type:"",desc:""});function F(i=null){i!==null?(D=i,m.value={...y.value[i]}):(D=null,m.value={date:"",type:"",desc:""}),k.value=!0}function O(){D===null?y.value.push({...m.value}):y.value[D]={...m.value},k.value=!1}function R(i){y.value.splice(i,1)}const g=f([{name:"早班",startTime:"08:00",endTime:"17:00",crossDay:!1,remark:"普通日班"},{name:"夜班",startTime:"22:00",endTime:"06:00",crossDay:!0,remark:"跨日夜班"},{name:"彈性班",startTime:"09:00",endTime:"18:00",crossDay:!1,remark:"可前後彈性1小時"}]),w=f(!1);let S=null;const u=f({name:"",startTime:"",endTime:"",crossDay:!1,remark:""});function $(i=null){i!==null?(S=i,u.value={...g.value[i]}):(S=null,u.value={name:"",startTime:"",endTime:"",crossDay:!1,remark:""}),w.value=!0}function j(){S===null?g.value.push({...u.value}):g.value[S]={...u.value},w.value=!1}function q(i){g.value.splice(i,1)}const b=f({defaultTwoDayOff:!0,tempChangeAllowed:!1,deptManager:""}),z=[{label:"王小明",value:"user001"},{label:"李主管",value:"user002"},{label:"HR-Alice",value:"user003"}];function J(){console.log("儲存部門排班規則",b.value),alert("已儲存「部門排班規則」設定")}const r=f({enableGlobalBreak:!1,breakMinutes:60,allowMultiBreak:!1});function K(){console.log("儲存中場休息設定",r.value),alert("已儲存「中場休息」設定")}const p=f({enableHolidayMove:!1,needSignature:!1,needMakeup:!1});function P(){console.log("儲存國定假日挪移規則",p.value),alert("已儲存「國定假日挪移」設定")}return(i,l)=>{const n=d("el-button"),v=d("el-table-column"),G=d("el-table"),Q=d("el-date-picker"),o=d("el-form-item"),C=d("el-option"),A=d("el-select"),B=d("el-input"),M=d("el-form"),L=d("el-dialog"),T=d("el-tab-pane"),Y=d("el-time-picker"),V=d("el-switch"),W=d("el-input-number"),X=d("el-tabs");return I(),E("div",le,[l[37]||(l[37]=_("h2",null,"排班與班別管理設定",-1)),e(X,{modelValue:c.value,"onUpdate:modelValue":l[23]||(l[23]=t=>c.value=t),type:"card"},{default:a(()=>[e(T,{label:"行事曆設定",name:"calendar"},{default:a(()=>[_("div",ae,[e(n,{type:"primary",onClick:l[0]||(l[0]=t=>F())},{default:a(()=>l[24]||(l[24]=[s("新增假日")])),_:1}),e(G,{data:y.value,style:{"margin-top":"20px"}},{default:a(()=>[e(v,{prop:"date",label:"日期",width:"140"}),e(v,{prop:"type",label:"假日類型",width:"120"}),e(v,{prop:"desc",label:"描述"}),e(v,{label:"操作",width:"160"},{default:a(({row:t,$index:U})=>[e(n,{type:"primary",onClick:H=>F(U)},{default:a(()=>l[25]||(l[25]=[s("編輯")])),_:2},1032,["onClick"]),e(n,{type:"danger",onClick:H=>R(U)},{default:a(()=>l[26]||(l[26]=[s("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(L,{modelValue:k.value,"onUpdate:modelValue":l[5]||(l[5]=t=>k.value=t),title:"假日資料",width:"500px"},{default:a(()=>[e(M,{model:m.value,"label-width":"120px"},{default:a(()=>[e(o,{label:"日期"},{default:a(()=>[e(Q,{modelValue:m.value.date,"onUpdate:modelValue":l[1]||(l[1]=t=>m.value.date=t),type:"date",placeholder:"選擇日期",format:N,"value-format":N},null,8,["modelValue"])]),_:1}),e(o,{label:"假日類型"},{default:a(()=>[e(A,{modelValue:m.value.type,"onUpdate:modelValue":l[2]||(l[2]=t=>m.value.type=t),placeholder:"選擇類型"},{default:a(()=>[e(C,{label:"國定假日",value:"國定假日"}),e(C,{label:"例假日",value:"例假日"}),e(C,{label:"公司休息日",value:"公司休息日"}),e(C,{label:"補班日",value:"補班日"})]),_:1},8,["modelValue"])]),_:1}),e(o,{label:"描述"},{default:a(()=>[e(B,{modelValue:m.value.desc,"onUpdate:modelValue":l[3]||(l[3]=t=>m.value.desc=t),placeholder:"例如：中秋節 / 週休 等"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),_("span",te,[e(n,{onClick:l[4]||(l[4]=t=>k.value=!1)},{default:a(()=>l[27]||(l[27]=[s("取消")])),_:1}),e(n,{type:"primary",onClick:O},{default:a(()=>l[28]||(l[28]=[s("儲存")])),_:1})])]),_:1},8,["modelValue"])])]),_:1}),e(T,{label:"班別設定",name:"shift"},{default:a(()=>[_("div",oe,[e(n,{type:"primary",onClick:l[6]||(l[6]=t=>$())},{default:a(()=>l[29]||(l[29]=[s("新增班別")])),_:1}),e(G,{data:g.value,style:{"margin-top":"20px"}},{default:a(()=>[e(v,{prop:"name",label:"班別名稱",width:"160"}),e(v,{prop:"startTime",label:"上班時間",width:"120"}),e(v,{prop:"endTime",label:"下班時間",width:"120"}),e(v,{prop:"crossDay",label:"是否跨日",width:"100"}),e(v,{prop:"remark",label:"備註"}),e(v,{label:"操作",width:"180"},{default:a(({row:t,$index:U})=>[e(n,{type:"primary",onClick:H=>$(U)},{default:a(()=>l[30]||(l[30]=[s("編輯")])),_:2},1032,["onClick"]),e(n,{type:"danger",onClick:H=>q(U)},{default:a(()=>l[31]||(l[31]=[s("刪除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(L,{modelValue:w.value,"onUpdate:modelValue":l[13]||(l[13]=t=>w.value=t),title:"班別資料",width:"500px"},{default:a(()=>[e(M,{model:u.value,"label-width":"120px"},{default:a(()=>[e(o,{label:"班別名稱"},{default:a(()=>[e(B,{modelValue:u.value.name,"onUpdate:modelValue":l[7]||(l[7]=t=>u.value.name=t),placeholder:"如：早班 / 夜班 / 彈性班"},null,8,["modelValue"])]),_:1}),e(o,{label:"上班時間"},{default:a(()=>[e(Y,{modelValue:u.value.startTime,"onUpdate:modelValue":l[8]||(l[8]=t=>u.value.startTime=t),format:x,"value-format":x,placeholder:"選擇上班時間"},null,8,["modelValue"])]),_:1}),e(o,{label:"下班時間"},{default:a(()=>[e(Y,{modelValue:u.value.endTime,"onUpdate:modelValue":l[9]||(l[9]=t=>u.value.endTime=t),format:x,"value-format":x,placeholder:"選擇下班時間"},null,8,["modelValue"])]),_:1}),e(o,{label:"跨日班"},{default:a(()=>[e(V,{modelValue:u.value.crossDay,"onUpdate:modelValue":l[10]||(l[10]=t=>u.value.crossDay=t),"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),e(o,{label:"備註"},{default:a(()=>[e(B,{modelValue:u.value.remark,"onUpdate:modelValue":l[11]||(l[11]=t=>u.value.remark=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),_("span",ue,[e(n,{onClick:l[12]||(l[12]=t=>w.value=!1)},{default:a(()=>l[32]||(l[32]=[s("取消")])),_:1}),e(n,{type:"primary",onClick:j},{default:a(()=>l[33]||(l[33]=[s("儲存")])),_:1})])]),_:1},8,["modelValue"])])]),_:1}),e(T,{label:"部門排班規則",name:"deptSchedule"},{default:a(()=>[_("div",de,[e(M,{model:b.value,"label-width":"180px"},{default:a(()=>[e(o,{label:"預設週休二日"},{default:a(()=>[e(V,{modelValue:b.value.defaultTwoDayOff,"onUpdate:modelValue":l[14]||(l[14]=t=>b.value.defaultTwoDayOff=t),"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),e(o,{label:"可否臨時調班"},{default:a(()=>[e(V,{modelValue:b.value.tempChangeAllowed,"onUpdate:modelValue":l[15]||(l[15]=t=>b.value.tempChangeAllowed=t)},null,8,["modelValue"])]),_:1}),e(o,{label:"部門排班管理者"},{default:a(()=>[e(A,{modelValue:b.value.deptManager,"onUpdate:modelValue":l[16]||(l[16]=t=>b.value.deptManager=t),placeholder:"選擇使用者"},{default:a(()=>[(I(),E(h,null,ee(z,t=>e(C,{key:t.value,label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(o,null,{default:a(()=>[e(n,{type:"primary",onClick:J},{default:a(()=>l[34]||(l[34]=[s("儲存部門排班規則")])),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),e(T,{label:"中場休息設定",name:"breakSetting"},{default:a(()=>[_("div",ne,[e(M,{model:r.value,"label-width":"200px"},{default:a(()=>[e(o,{label:"是否啟用全局中場休息設定"},{default:a(()=>[e(V,{modelValue:r.value.enableGlobalBreak,"onUpdate:modelValue":l[17]||(l[17]=t=>r.value.enableGlobalBreak=t)},null,8,["modelValue"])]),_:1}),e(o,{label:"全局休息時間 (分鐘)"},{default:a(()=>[e(W,{modelValue:r.value.breakMinutes,"onUpdate:modelValue":l[18]||(l[18]=t=>r.value.breakMinutes=t),min:0,disabled:!r.value.enableGlobalBreak},null,8,["modelValue","disabled"])]),_:1}),e(o,{label:"是否允許多段休息"},{default:a(()=>[e(V,{modelValue:r.value.allowMultiBreak,"onUpdate:modelValue":l[19]||(l[19]=t=>r.value.allowMultiBreak=t),disabled:!r.value.enableGlobalBreak},null,8,["modelValue","disabled"])]),_:1}),e(o,null,{default:a(()=>[e(n,{type:"primary",onClick:K},{default:a(()=>l[35]||(l[35]=[s("儲存休息設定")])),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),e(T,{label:"國定假日挪移",name:"holidayMove"},{default:a(()=>[_("div",se,[e(M,{model:p.value,"label-width":"180px"},{default:a(()=>[e(o,{label:"是否允許挪移國定假日"},{default:a(()=>[e(V,{modelValue:p.value.enableHolidayMove,"onUpdate:modelValue":l[20]||(l[20]=t=>p.value.enableHolidayMove=t)},null,8,["modelValue"])]),_:1}),e(o,{label:"挪移申請是否需簽名(電子簽核)"},{default:a(()=>[e(V,{modelValue:p.value.needSignature,"onUpdate:modelValue":l[21]||(l[21]=t=>p.value.needSignature=t),disabled:!p.value.enableHolidayMove},null,8,["modelValue","disabled"])]),_:1}),e(o,{label:"挪移後是否補班"},{default:a(()=>[e(V,{modelValue:p.value.needMakeup,"onUpdate:modelValue":l[22]||(l[22]=t=>p.value.needMakeup=t),disabled:!p.value.enableHolidayMove},null,8,["modelValue","disabled"])]),_:1}),e(o,null,{default:a(()=>[e(n,{type:"primary",onClick:P},{default:a(()=>l[36]||(l[36]=[s("儲存挪移規則")])),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])])}}},pe=Z(ie,[["__scopeId","data-v-c34d97b5"]]);export{pe as default};
