import{_ as B,g as L,r as v,h as N,i as h,w as e,e as o,u as R,o as i,d as t,b as n,n as g,j as T,c as V,F as z,k as F,l as j,t as D,m as E}from"./index-BOg20HvU.js";import{u as H}from"./menu-Diu3JIyb.js";import"./api-D4yO7thr.js";const P={class:"header-left"},$={class:"header-right"},q={class:"sidebar-content"},A={class:"menu-text"},G={class:"main-content"},J={__name:"ModernLayout",setup(K){const r=R(),_=H(),{items:d}=L(_),m=v(""),a=v(!1);N(async()=>{d.value.length===0&&await _.fetchMenu()});function y(c){m.value=c,r.push({name:c})}function k(){a.value=!a.value}function x(){E(),localStorage.removeItem("role"),localStorage.removeItem("employeeId"),r.push("/")}return(c,l)=>{const u=o("el-icon"),f=o("el-button"),b=o("el-header"),C=o("el-menu-item"),w=o("el-menu"),I=o("el-aside"),M=o("router-view"),S=o("el-main"),p=o("el-container");return i(),h(p,{class:"modern-layout"},{default:e(()=>[t(b,{class:"layout-header"},{default:e(()=>[n("div",P,[t(f,{link:"",onClick:k,class:"collapse-btn"},{default:e(()=>[t(u,{size:"20"},{default:e(()=>[n("i",{class:g(a.value?"el-icon-menu":"el-icon-close")},null,2)]),_:1})]),_:1}),l[0]||(l[0]=n("h1",{class:"system-title"},"HR 管理系統",-1))]),n("div",$,[t(f,{type:"primary",onClick:x,class:"logout-btn"},{default:e(()=>[t(u,null,{default:e(()=>l[1]||(l[1]=[n("i",{class:"el-icon-switch-button"},null,-1)])),_:1}),l[2]||(l[2]=T(" 登出 "))]),_:1})])]),_:1}),t(p,null,{default:e(()=>[t(I,{class:"layout-aside",width:a.value?"64px":"280px"},{default:e(()=>[n("div",q,[t(w,{"default-active":m.value,collapse:a.value,class:"sidebar-menu","background-color":"#164e63","text-color":"#ecfeff","active-text-color":"#ffffff"},{default:e(()=>[(i(!0),V(z,null,F(j(d),s=>(i(),h(C,{key:s.name,index:s.name,onClick:O=>y(s.name),class:"menu-item"},{default:e(()=>[t(u,null,{default:e(()=>[n("i",{class:g(s.icon)},null,2)]),_:2},1024),n("span",A,D(s.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active","collapse"])])]),_:1},8,["width"]),t(S,{class:"layout-main"},{default:e(()=>[n("div",G,[t(M)])]),_:1})]),_:1})]),_:1})}}},X=B(J,[["__scopeId","data-v-a75addfd"]]);export{X as default};
