# 月薪資總覽說明按鈕功能實施總結

## 功能概述

在薪資管理設定的「月薪資總覽」標籤頁面中，新增了一個「薪資計算說明」按鈕，點擊後會彈出詳細的說明視窗，解釋薪資計算的各個方面。

## 實施內容

### 1. UI 變更

#### 新增的組件
- **說明按鈕**: 位於「月薪資總覽」頁面頂部，使用 Element Plus 的按鈕組件和圖標
- **說明對話框**: 80% 寬度的對話框，包含6個主要部分的詳細說明

#### 視覺設計
- 使用 Element Plus 的卡片組件組織內容
- 使用圖標增強視覺效果
- 銀行A和銀行B使用漸變色背景卡片區分
- 響應式設計，適應不同屏幕尺寸

### 2. 說明內容

對話框包含以下六個主要部分：

#### 部分 1: 薪資計算公式
- **實發薪資（銀行A）計算公式**
  - 基本薪資
  - 減去各項扣款（請假、保險、勞退等）
- **獎金總額（銀行B）計算公式**
  - 加班費
  - 夜班津貼
  - 績效獎金
  - 其他獎金
- **不同薪資類型的計算方式**
  - 月薪制：固定月薪
  - 日薪制：天數 × 日薪
  - 時薪制：工時 × 時薪

#### 部分 2: 定期扣薪/加薪項目設定
- **設定位置指引**: 員工管理 → 編輯員工 → 每月薪資調整項目
- **扣薪項目**:
  - 健保費自付額
  - 債權扣押
  - 其他扣款
- **加薪項目**（匯入銀行B）:
  - 夜班補助津貼
  - 人力績效獎金
  - 其他獎金

#### 部分 3: 動態簽核項目
- **請假扣款**:
  - 簽核流程說明（員工申請 → 主管審核 → 系統計算）
  - 扣款計算規則：
    - 有薪假（0%扣款）：特休、婚假、喪假、產假、陪產假
    - 半薪假（50%扣款）：病假、生理假
    - 無薪假（100%扣款）：事假
  - 扣款公式說明
- **加班費**:
  - 簽核流程說明
  - 計算公式（1.5倍）
  - 前置條件說明
- **未來擴展項目**:
  - 臨時性獎金
  - 臨時性扣款
  - 補發/補扣薪資

#### 部分 4: 銀行帳戶分配說明
- **銀行A（薪資帳戶）**:
  - 用途：實發薪資
  - 內容：基本薪資扣除所有費用後的淨額
  - 包含的扣款項目明細
- **銀行B（獎金帳戶）**:
  - 用途：獎金與津貼
  - 內容：所有獎金項目總和
  - 特點：不扣除任何費用
- **設定位置**: 薪資管理設定 → 發放與帳戶 → 發薪帳戶維護

#### 部分 5: 資料來源說明
- **工作時數來源**:
  - 班表設定（ShiftSchedule）
  - 出勤打卡（AttendanceRecord）
  - 班別設定
- **請假資料來源**:
  - 簽核系統的請假表單
  - 僅計算已核准的申請
- **加班資料來源**:
  - 簽核系統的加班表單
  - 僅計算已核准的申請

#### 部分 6: 注意事項
- **資料準確性要求**:
  - 班表正確設定
  - 員工正確打卡
  - 請假和加班申請已核准
  - 薪資類型和金額正確
- **系統限制**:
  - 一天8小時制假設
  - 一個月30天假設
  - 加班費簡化為1.5倍
  - 病假簡化為0.5倍扣款

### 3. 技術實施

#### 文件變更
- **文件**: `client/src/components/backComponents/SalaryManagementSetting.vue`
- **變更行數**: +511 行

#### 新增的導入
```javascript
import { 
  QuestionFilled,   // 問號圖標（按鈕）
  Tools,            // 工具圖標（計算公式）
  Setting,          // 設定圖標
  Location,         // 位置圖標
  Document,         // 文件圖標（簽核）
  CreditCard,       // 信用卡圖標（銀行）
  Wallet,           // 錢包圖標（銀行A）
  Money,            // 金錢圖標（銀行B）
  DataAnalysis,     // 數據分析圖標
  Warning           // 警告圖標
} from '@element-plus/icons-vue'
```

#### 新增的狀態變量
```javascript
const showExplanationDialog = ref(false)
```

#### CSS 樣式
新增了以下樣式類：
- `.overview-header`: 頁面標題和按鈕容器
- `.explanation-content`: 對話框內容容器（帶滾動）
- `.explanation-card`: 說明卡片
- `.explanation-card-header`: 卡片標題（帶圖標）
- `.formula-box`: 公式框（藍色左邊框）
- `.calculation-list`: 計算列表（帶藍色圓點）
- `.location-box`: 位置提示框（藍色背景）
- `.item-list`: 項目列表
- `.approval-item`: 簽核項目容器
- `.bank-card`: 銀行卡片
- `.bank-a`: 銀行A樣式（紫色漸變）
- `.bank-b`: 銀行B樣式（粉紅漸變）

### 4. 用戶體驗

#### 操作流程
1. 用戶導航到「設定」→「薪資管理設定」→「月薪資總覽」標籤
2. 在頁面頂部看到「薪資計算說明」按鈕
3. 點擊按鈕打開說明對話框
4. 瀏覽6個部分的詳細說明
5. 點擊「關閉」按鈕關閉對話框

#### 設計特點
- **易於訪問**: 按鈕放在顯眼位置
- **內容豐富**: 涵蓋薪資計算的所有方面
- **視覺清晰**: 使用圖標、顏色、卡片組織內容
- **結構化**: 6個主要部分邏輯清晰
- **可滾動**: 內容較多時可以滾動查看
- **響應式**: 適應不同屏幕尺寸

### 5. 測試結果

#### 構建測試
- ✅ 客戶端構建成功
- ✅ 無語法錯誤
- ✅ 所有依賴正確導入
- ✅ CSS樣式正確應用

#### 代碼質量
- ✅ 遵循現有代碼風格
- ✅ 使用 Vue 3 Composition API
- ✅ 使用 Element Plus 組件
- ✅ 適當的註釋和組織

## 未來改進建議

1. **交互式示例**: 可以添加實際計算示例，讓用戶輸入參數看到計算結果
2. **視頻教學**: 可以嵌入視頻教學鏈接
3. **搜索功能**: 在說明內容中添加搜索功能
4. **多語言支持**: 支持其他語言版本
5. **打印功能**: 允許用戶打印說明內容
6. **FAQ部分**: 添加常見問題解答

## 總結

此實施成功地在月薪資總覽頁面添加了詳細的薪資計算說明功能，幫助用戶理解：
- 薪資如何計算
- 定期扣薪和加薪項目在哪裡設定
- 動態簽核流程如何運作
- 銀行A和銀行B如何分配

說明內容全面、易懂、結構清晰，使用視覺設計增強可讀性，大大提升了系統的易用性。
